<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI Mentor Pro | LGS 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --p-color: #6366f1; --base-text-size: 16px; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; font-size: var(--base-text-size); transition: all 0.2s ease; background: #f8fafc; overflow-x: hidden; }
        .glass-card { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 8px 32px rgba(0,0,0,0.05); }
        .theme-sakin { --p-color: #3B82F6; }
        .theme-enerjik { --p-color: #F59E0B; }
        .theme-odak { --p-color: #8B5CF6; }
        .theme-gece { --p-color: #6366f1; background: #0f172a; color: white; }
        .theme-gece .glass-card { background: #1e293b; color: white; border-color: rgba(255,255,255,0.05); }
        .theme-orman { --p-color: #10b981; background: #f0fdf4; }
        .theme-limon { --p-color: #eab308; background: #fefce8; }
        .theme-pembe { --p-color: #ec4899; background: #fdf2f8; }

        .active-tab { color: var(--p-color) !important; }
        .bg-primary { background-color: var(--p-color); }
        .text-primary { color: var(--p-color); }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .page-transition { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .touch-feedback:active { transform: scale(0.96); transition: 0.1s; }
        
        .flashcard { perspective: 1000px; height: 180px; }
        .flashcard-inner { transition: transform 0.6s; transform-style: preserve-3d; cursor: pointer; height: 100%; }
        .is-flipped { transform: rotateY(180deg); }
        .flashcard-front, .flashcard-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; align-items: center; justify-content: center; border-radius: 1.5rem; padding: 1.5rem; text-align: center; }
        .flashcard-back { transform: rotateY(180deg); background-color: var(--p-color); color: white; }

        .chat-messages { flex: 1; overflow-y: auto; padding: 10px; display: flex; flex-direction: column; gap: 12px; height: 50vh; }
        .chat-bubble { max-width: 85%; padding: 12px 16px; border-radius: 1.25rem; font-size: 0.9rem; font-weight: 600; line-height: 1.5; position: relative; animation: fadeIn 0.2s ease-out; }
        .chat-user { align-self: flex-end; background: var(--p-color); color: white; border-bottom-right-radius: 4px; }
        .chat-ai { align-self: flex-start; background: white; color: #1e293b; border: 1px solid #f1f5f9; border-bottom-left-radius: 4px; }

        .progress-bar { transition: width 1s ease-in-out; }
        .pomodoro-circle { transition: stroke-dashoffset 1s linear; }
        
        .badge { width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); transition: transform 0.3s ease; }
        .badge:hover { transform: scale(1.1); }
        .badge.locked { filter: grayscale(100%); opacity: 0.5; }
        
        .trophy { font-size: 40px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        
        .friend-avatar { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
        
        .topic-item { transition: all 0.2s ease; cursor: pointer; }
        .topic-item.selected { background-color: #dcfce7; border-color: #22c55e; }
        .topic-item.completed { background-color: #bbf7d0; border-color: #16a34a; opacity: 0.8; }
        .topic-item.completed .topic-text { color: #16a34a; font-weight: 700; }
        
        .exam-card { border-left: 4px solid var(--p-color); }
        
        .topic-badge { width: 20px; height: 20px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 10px; margin-right: 8px; }
        .topic-badge.completed { background-color: #10b981; color: white; }
        .topic-badge.pending { background-color: #e5e7eb; color: #6b7280; }
        
        .media-preview { max-width: 100%; max-height: 200px; border-radius: 1rem; object-fit: cover; margin-top: 10px; }
        .voice-note-item { transition: all 0.2s ease; }
        .voice-note-item:hover { background-color: #f8fafc; }
        
        .clear-chat-btn {
            transition: all 0.2s ease;
            border: 1px solid #fee2e2;
        }
        
        .clear-chat-btn:active {
            transform: scale(0.95);
            background-color: #fecaca;
        }
        
        .qa-table-container {
            max-height: 500px; /* YÃ¼ksekliÄŸi artÄ±r */
            overflow-y: auto;
            border-radius: 1rem;
            border: 1px solid #e5e7eb;
            background: white;
        }
        
        .qa-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .qa-table th {
            background: #f8fafc;
            padding: 10px 12px;
            text-align: left;
            font-size: 10px;
            font-weight: 800;
            text-transform: uppercase;
            color: #6b7280;
            border-bottom: 2px solid #e5e7eb;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .qa-table td {
            padding: 12px 12px; /* Padding'i artÄ±r */
            font-size: 11px;
            border-bottom: 1px solid #f1f5f9;
            vertical-align: top;
            max-height: 100px; /* Maksimum yÃ¼kseklik */
            overflow-y: auto; /* Ä°Ã§erik uzunsa scroll */
        }
        
        .qa-table tr:hover {
            background-color: #f8fafc;
        }
        
        .qa-question {
            font-weight: 600;
            color: #1f2937;
            white-space: pre-wrap; /* SatÄ±r sonlarÄ±nÄ± koru */
            word-break: break-word; /* Uzun kelimeleri kÄ±r */
        }
        
        .qa-answer {
            color: #4b5563;
            max-width: 300px;
            min-height: 40px; /* Minimum yÃ¼kseklik ekleyin */
            overflow: auto; /* Otomatik scroll */
            text-overflow: ellipsis;
            display: block; /* -webkit-box'u kaldÄ±rÄ±n */
            white-space: pre-wrap; /* SatÄ±r sonlarÄ±nÄ± koru */
            word-break: break-word; /* Uzun kelimeleri kÄ±r */
            font-size: 10px; /* YazÄ± boyutunu kÃ¼Ã§Ã¼lt */
            line-height: 1.4;
        }
        
        .qa-actions {
            white-space: nowrap;
        }
        
        .qa-actions button {
            padding: 5px 8px;
            font-size: 10px;
            margin: 0 2px;
        }
    </style>
</head>
<body class="theme-sakin overflow-hidden">
    <div id="app" class="h-screen w-full flex flex-col max-w-md mx-auto relative shadow-2xl bg-white/50">
        
        <!-- Header -->
        <header class="p-4 pt-6 flex justify-between items-center bg-white/90 backdrop-blur-md z-30 border-b border-gray-100">
            <div class="flex items-center gap-3">
                <div id="header-avatar" class="w-10 h-10 bg-primary rounded-xl flex items-center justify-center text-white shadow-lg overflow-hidden border border-white/20">
                    <i class="fas fa-user text-lg"></i>
                </div>
                <div>
                    <h1 id="user-display" class="text-sm font-black leading-none">Can âœ¨</h1>
                    <div class="flex items-center gap-2 mt-1">
                        <span id="level-display" class="bg-indigo-600 text-white text-[7px] px-1.5 py-0.5 rounded-full font-bold uppercase tracking-tighter">Lv. 1</span>
                        <span id="points-display" class="text-[9px] font-black text-primary uppercase">1250 Puan</span>
                        <span id="streak-badge" class="bg-orange-100 text-orange-600 text-[8px] px-2 py-0.5 rounded-full font-bold">ğŸ”¥ 0 GÃœN</span>
                    </div>
                </div>
            </div>
            <div class="flex items-center gap-2">
                <button onclick="changeFontSize(-1)" class="w-7 h-7 rounded-lg bg-gray-100 flex items-center justify-center text-xs font-bold shadow-sm">-</button>
                <button onclick="changeFontSize(1)" class="w-7 h-7 rounded-lg bg-gray-100 flex items-center justify-center text-xs font-bold shadow-sm">+</button>
                <div class="bg-indigo-50 text-indigo-600 px-3 py-1 rounded-xl text-center min-w-[50px]">
                    <span id="cd-days" class="font-black text-sm block">--</span>
                    <span class="text-[7px] font-bold uppercase tracking-widest">GÃœN</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main id="main-content" class="flex-1 overflow-y-auto px-4 pb-32 pt-4 hide-scrollbar">
            <!-- Render Area -->
        </main>

        <!-- Navigation -->
        <nav class="fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-white/95 backdrop-blur-xl border-t border-gray-100 px-1 py-4 flex justify-between items-center z-40 pb-[calc(1rem+env(safe-area-inset-bottom))] shadow-[0_-4px_20px_rgba(0,0,0,0.03)] overflow-x-auto">
            <button onclick="router.navigate('home')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 min-w-[50px]" data-page="home">
                <i class="fas fa-home text-lg"></i>
                <span class="text-[7px] font-bold uppercase">Panel</span>
            </button>
            <button onclick="router.navigate('exams')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 min-w-[50px]" data-page="exams">
                <i class="fas fa-chart-line text-lg"></i>
                <span class="text-[7px] font-bold uppercase">Deneme</span>
            </button>
            <button onclick="router.navigate('coach')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 min-w-[60px]" data-page="coach">
                <div class="w-10 h-10 bg-primary rounded-full -mt-10 flex items-center justify-center text-white shadow-xl border-4 border-white">
                    <i class="fas fa-comment-dots text-lg"></i>
                </div>
                <span class="text-[7px] font-bold uppercase">AI KoÃ§</span>
            </button>
            <button onclick="router.navigate('tasks')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 min-w-[50px]" data-page="tasks">
                <i class="fas fa-check-double text-lg"></i>
                <span class="text-[7px] font-bold uppercase">GÃ¶rev</span>
            </button>
            <button onclick="router.navigate('reports')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 min-w-[50px]" data-page="reports">
                <i class="fas fa-file-alt text-lg"></i>
                <span class="text-[7px] font-bold uppercase">Rapor</span>
            </button>
            <button onclick="router.navigate('english')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 min-w-[50px]" data-page="english">
                <i class="fas fa-language text-lg"></i>
                <span class="text-[7px] font-bold uppercase">Kelime</span>
            </button>
            <button onclick="router.navigate('topics')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 min-w-[50px]" data-page="topics">
                <i class="fas fa-book text-lg"></i>
                <span class="text-[7px] font-bold uppercase">Konular</span>
            </button>
            <button onclick="router.navigate('badges')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 min-w-[50px]" data-page="badges">
                <i class="fas fa-medal text-lg"></i>
                <span class="text-[7px] font-bold uppercase">Rozet</span>
            </button>
            <button onclick="router.navigate('friends')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 min-w-[50px]" data-page="friends">
                <i class="fas fa-users text-lg"></i>
                <span class="text-[7px] font-bold uppercase">ArkadaÅŸ</span>
            </button>
            <button onclick="router.navigate('examschedule')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 min-w-[50px]" data-page="examschedule">
                <i class="fas fa-calendar-alt text-lg"></i>
                <span class="text-[7px] font-bold uppercase">Tarih</span>
            </button>
            <button onclick="router.navigate('settings')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 min-w-[50px]" data-page="settings">
                <i class="fas fa-user-cog text-lg"></i>
                <span class="text-[7px] font-bold uppercase">Profil</span>
            </button>
        </nav>

        <div id="modal-container" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm transition-all"></div>
    </div>

    <script>
        // --- DATA & POOLS ---
        const subjects = [
            { id: 'tur', name: 'TÃ¼rkÃ§e', max: 20, weight: 4 },
            { id: 'mat', name: 'Matematik', max: 20, weight: 4 },
            { id: 'fen', name: 'Fen Bilimleri', max: 20, weight: 4 },
            { id: 'ink', name: 'Ä°nkÄ±lap Tarihi', max: 10, weight: 1 },
            { id: 'din', name: 'Din KÃ¼ltÃ¼rÃ¼', max: 10, weight: 1 },
            { id: 'ing', name: 'Ä°ngilizce', max: 10, weight: 1 }
        ];

        // Ortam sesleri listesi - DÃœZELTÄ°LMÄ°Å URL'ler
        const ambientSounds = [
            { id: 'nature', name: 'ğŸŒ¿ DoÄŸa', color: 'green' },
            { id: 'rain', name: 'ğŸŒ§ï¸ YaÄŸmur', color: 'blue' },
            { id: 'waves', name: 'ğŸŒŠ Dalga', color: 'cyan' },
            { id: 'forest', name: 'ğŸŒ³ Orman', color: 'emerald' },
            { id: 'stream', name: 'ğŸ’§ Akarsu', color: 'teal' },
            { id: 'birds', name: 'ğŸ¦ KuÅŸ', color: 'lime' },
            { id: 'white', name: 'ğŸ¤ Beyaz GÃ¼rÃ¼ltÃ¼', color: 'gray' },
            { id: 'piano', name: 'ğŸ¹ Piyano', color: 'purple' },
            { id: 'meditation', name: 'ğŸ§˜ Meditasyon', color: 'indigo' },
            { id: 'lofi', name: 'ğŸ§ Lo-Fi', color: 'pink' }
        ];

        // DÃœZELTÄ°LMÄ°Å Audio URL'leri - GitHub Pages iÃ§in
        const audioUrls = {
            nature: 'https://assets.mixkit.co/sfx/preview/mixkit-forest-trek-463.mp3',
            rain: 'https://assets.mixkit.co/sfx/preview/mixkit-soft-rain-ambience-111.mp3',
            waves: 'https://assets.mixkit.co/sfx/preview/mixkit-ocean-waves-478.mp3',
            forest: 'https://assets.mixkit.co/sfx/preview/mixkit-deep-forest-577.mp3',
            stream: 'https://assets.mixkit.co/sfx/preview/mixkit-river-stream-107.mp3',
            birds: 'https://assets.mixkit.co/sfx/preview/mixkit-sunny-birds-115.mp3',
            white: 'https://assets.mixkit.co/sfx/preview/mixkit-wind-1165.mp3',
            piano: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3',
            meditation: 'https://assets.mixkit.co/sfx/preview/mixkit-meditation-713.mp3',
            lofi: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3'
        };

        // GÃœNCELLENMÄ°Å Ä°NGÄ°LÄ°ZCE KELÄ°MELERÄ° - 8. SINIF MÃœFREDATI
        const englishUnits = [
            {
                id: 1,
                name: "Friendship",
                words: [
                    {en: "Honest", tr: "DÃ¼rÃ¼st"}, {en: "Generous", tr: "CÃ¶mert"}, {en: "Reliable", tr: "GÃ¼venilir"}, {en: "Stubborn", tr: "Ä°natÃ§Ä±"}, {en: "Loyal", tr: "SadÄ±k"},
                    {en: "Supportive", tr: "Destekleyici"}, {en: "Arrogant", tr: "Kibirli"}, {en: "Back up", tr: "Destek olmak"}, {en: "Buddy", tr: "YakÄ±n arkadaÅŸ"}, {en: "Count on", tr: "GÃ¼venmek"},
                    {en: "Get on well", tr: "Ä°yi geÃ§inmek"}, {en: "Secret", tr: "SÄ±r"}, {en: "Trust", tr: "GÃ¼ven"}, {en: "Tactful", tr: "AnlayÄ±ÅŸlÄ±"}, {en: "Self-centered", tr: "Bencil"},
                    {en: "Jealous", tr: "KÄ±skanÃ§"}, {en: "Bad-tempered", tr: "KÃ¶tÃ¼ huylu"}, {en: "Aggressive", tr: "SaldÄ±rgan"}, {en: "Amusing", tr: "EÄŸlenceli"}, {en: "Laid-back", tr: "Rahat"},
                    {en: "Accept", tr: "Kabul etmek"}, {en: "Apologize", tr: "Ã–zÃ¼r dilemek"}, {en: "Refuse", tr: "Reddetmek"}, {en: "Reunion", tr: "Tekrar toplanma"}, {en: "Sneaky", tr: "Sinsi"}
                ]
            },
            {
                id: 2,
                name: "Teen Life",
                words: [
                    {en: "After-school activity", tr: "Okul sonrasÄ± etkinlik"}, {en: "Amazing", tr: "Muazzam"}, {en: "Archer", tr: "OkÃ§u"}, {en: "Archery", tr: "OkÃ§uluk"}, {en: "Attend", tr: "KatÄ±lmak"},
                    {en: "Backpack", tr: "Ã‡anta"}, {en: "Bake", tr: "PiÅŸirmek"}, {en: "Basic equipment", tr: "Temel ekipman"}, {en: "Be fond of", tr: "HoÅŸlanmak"}, {en: "Be keen on", tr: "Ã‡ok istemek"},
                    {en: "Beatbox", tr: "Beatbox mÃ¼zik"}, {en: "Behave", tr: "Davranmak"}, {en: "Bhangra", tr: "Bhangra mÃ¼ziÄŸi"}, {en: "Biographical", tr: "Biyografik"}, {en: "Board game", tr: "Kutu oyunu"},
                    {en: "Book genre", tr: "Kitap tÃ¼rÃ¼"}, {en: "Boring", tr: "SÄ±kÄ±cÄ±"}, {en: "Branch", tr: "Dal"}, {en: "Bridge", tr: "KÃ¶prÃ¼"}, {en: "Brother", tr: "KardeÅŸ"},
                    {en: "Brown", tr: "Kahverengi"}, {en: "Build", tr: "InÅŸa etmek"}, {en: "Busy", tr: "MeÅŸgul"}, {en: "Calculator", tr: "Hesap makinesi"}, {en: "Camp", tr: "Kamp"}
                ]
            },
            {
                id: 3,
                name: "In The Kitchen",
                words: [
                    {en: "Appliance", tr: "AydÄ±nlÄ±k"}, {en: "Baking", tr: "PiÅŸirme"}, {en: "Cake", tr: "Kek"}, {en: "Cook", tr: "PiÅŸirmek"}, {en: "Dish", tr: "Yemek"},
                    {en: "Food", tr: "Yemek"}, {en: "Ingredient", tr: "Malzeme"}, {en: "Kitchen", tr: "Mutfak"}, {en: "Ladle", tr: "KaÅŸÄ±k"}, {en: "Knife", tr: "BÄ±Ã§ak"},
                    {en: "Oven", tr: "FÄ±rÄ±n"}, {en: "Pan", tr: "Tava"}, {en: "Recipe", tr: "Tarif"}, {en: "Salt", tr: "Tuz"}, {en: "Spoon", tr: "KaÅŸÄ±k"},
                    {en: "Stove", tr: "Alev"}, {en: "Table", tr: "Masa"}, {en: "Vegetable", tr: "Sebze"}, {en: "Wok", tr: "Wok tava"}, {en: "Yogurt", tr: "YoÄŸurt"},
                    {en: "Zest", tr: "Kabuk"}, {en: "Whisk", tr: "Ã‡Ä±rpma"}, {en: "Bowl", tr: "Kase"}, {en: "Cup", tr: "Kupa"}, {en: "Plate", tr: "Tabak"}
                ]
            },
            {
                id: 4,
                name: "On The Phone",
                words: [
                    {en: "Answer", tr: "Cevaplamak"}, {en: "Call", tr: "Aramak"}, {en: "Cancel", tr: "Ä°ptal etmek"}, {en: "Hang up", tr: "Kapatmak"}, {en: "Message", tr: "Mesaj"},
                    {en: "Missed call", tr: "CevapsÄ±z arama"}, {en: "Phone", tr: "Telefon"}, {en: "Ring", tr: "Zil Ã§almak"}, {en: "Speak", tr: "KonuÅŸmak"}, {en: "Voice mail", tr: "Sesli kutu"},
                    {en: "Answer machine", tr: "Cevap makinesi"}, {en: "Caller ID", tr: "Arayan kimlik"}, {en: "Conference call", tr: "Konferans aramasÄ±"}, {en: "Drop a line", tr: "Bir mesaj at"}, {en: "Get through", tr: "BaÄŸlanmak"},
                    {en: "Hold on", tr: "Bekle"}, {en: "Keep in touch", tr: "Ä°letiÅŸim iÃ§inde kalmak"}, {en: "Leave a message", tr: "Mesaj bÄ±rakmak"}, {en: "Listen to", tr: "Dinlemek"}, {en: "Make a call", tr: "Arama yapmak"},
                    {en: "Mobile", tr: "Mobil"}, {en: "Phone number", tr: "Telefon numarasÄ±"}, {en: "Press 1", tr: "1'e bas"}, {en: "Ring tone", tr: "Zil sesi"}, {en: "Speaker", tr: "HoparlÃ¶r"}
                ]
            },
            {
                id: 5,
                name: "The Internet",
                words: [
                    {en: "Browser", tr: "TarayÄ±cÄ±"}, {en: "Click", tr: "TÄ±klamak"}, {en: "Computer", tr: "Bilgisayar"}, {en: "Download", tr: "Ä°ndirmek"}, {en: "Email", tr: "E-posta"},
                    {en: "File", tr: "Dosya"}, {en: "Internet", tr: "Ä°nternet"}, {en: "Login", tr: "GiriÅŸ"}, {en: "Network", tr: "AÄŸ"}, {en: "Online", tr: "Ã‡evrimiÃ§i"},
                    {en: "Password", tr: "Åifre"}, {en: "Search", tr: "Aramak"}, {en: "Server", tr: "Sunucu"}, {en: "Software", tr: "YazÄ±lÄ±m"}, {en: "Website", tr: "Web sitesi"},
                    {en: "Wireless", tr: "Kablosuz"}, {en: "Upload", tr: "YÃ¼klemek"}, {en: "URL", tr: "Web adresi"}, {en: "Virtual", tr: "Sanal"}, {en: "Webcam", tr: "Web kamerasÄ±"},
                    {en: "Blog", tr: "Blog"}, {en: "Chat", tr: "Sohbet"}, {en: "Cookie", tr: "Ã‡erez"}, {en: "Database", tr: "VeritabanÄ±"}, {en: "Forum", tr: "Forum"}
                ]
            },
            {
                id: 6,
                name: "Adventures",
                words: [
                    {en: "Adventure", tr: "Macera"}, {en: "Brave", tr: "Cesur"}, {en: "Dangerous", tr: "Tehlikeli"}, {en: "Explore", tr: "KeÅŸfetmek"}, {en: "Fear", tr: "Korku"},
                    {en: "Fun", tr: "EÄŸlence"}, {en: "Game", tr: "Oyun"}, {en: "Journey", tr: "Yolculuk"}, {en: "Jungle", tr: "Ciplak"}, {en: "Mountain", tr: "DaÄŸ"},
                    {en: "Nature", tr: "DoÄŸa"}, {en: "Outdoor", tr: "AÃ§Ä±k hava"}, {en: "Play", tr: "Oynamak"}, {en: "Ride", tr: "Yolculuk"}, {en: "Scary", tr: "KorkunÃ§"},
                    {en: "Sport", tr: "Spor"}, {en: "Travel", tr: "Seyahat"}, {en: "Vacation", tr: "Tatil"}, {en: "Walk", tr: "YÃ¼rÃ¼mek"}, {en: "Wild", tr: "VahÅŸi"},
                    {en: "Camping", tr: "Kamp yapma"}, {en: "Hiking", tr: "YÃ¼rÃ¼yÃ¼ÅŸ"}, {en: "Safari", tr: "Safari"}, {en: "Skiing", tr: "Kayak yapma"}, {en: "Surfing", tr: "SÃ¶rf yapma"}
                ]
            },
            {
                id: 7,
                name: "Tourism",
                words: [
                    {en: "Accommodation", tr: "Konaklama"}, {en: "Beach", tr: "Plaj"}, {en: "Boat", tr: "Tekne"}, {en: "Hotel", tr: "Otel"}, {en: "Island", tr: "Ada"},
                    {en: "Journey", tr: "Yolculuk"}, {en: "Luggage", tr: "Bagaj"}, {en: "Map", tr: "Harita"}, {en: "Navigation", tr: "Navigasyon"}, {en: "Passport", tr: "Pasaport"},
                    {en: "Restaurant", tr: "Restoran"}, {en: "Ticket", tr: "Bilet"}, {en: "Tour", tr: "Tura katÄ±lmak"}, {en: "Travel", tr: "Seyahat etmek"}, {en: "Vacation", tr: "Tatil"},
                    {en: "View", tr: "Manzara"}, {en: "Welcome", tr: "HoÅŸ geldin"}, {en: "Airport", tr: "HavalimanÄ±"}, {en: "Culture", tr: "KÃ¼ltÃ¼r"}, {en: "Destination", tr: "Hedef"},
                    {en: "Guide", tr: "Rehber"}, {en: "Hotel", tr: "Otel"}, {en: "Landscape", tr: "Peyzaj"}, {en: "Museum", tr: "MÃ¼ze"}, {en: "Tourist", tr: "Turist"}
                ]
            },
            {
                id: 8,
                name: "Chores",
                words: [
                    {en: "Clean", tr: "Temizlemek"}, {en: "Dust", tr: "Toz almak"}, {en: "Fold", tr: "Katlamak"}, {en: "Iron", tr: "ÃœtÃ¼le"}, {en: "Sweep", tr: "SÃ¼pÃ¼rmek"},
                    {en: "Wash", tr: "YÄ±kamak"}, {en: "Work", tr: "Ã‡alÄ±ÅŸmak"}, {en: "Yard", tr: "BahÃ§e"}, {en: "Bathroom", tr: "Banyo"}, {en: "Bedroom", tr: "Yatak odasÄ±"},
                    {en: "Kitchen", tr: "Mutfak"}, {en: "Living room", tr: "Oturma odasÄ±"}, {en: "Garage", tr: "Garaj"}, {en: "Basement", tr: "Zemin kat"}, {en: "Roof", tr: "Ã‡atÄ±"},
                    {en: "Floor", tr: "Zemin"}, {en: "Wall", tr: "Duvar"}, {en: "Window", tr: "Pencere"}, {en: "Door", tr: "KapÄ±"}, {en: "Furniture", tr: "Mobilya"},
                    {en: "Appliance", tr: "AydÄ±nlÄ±k"}, {en: "Broom", tr: "SÃ¼pÃ¼rge"}, {en: "Mop", tr: "FÄ±rÃ§a"}, {en: "Vacuum", tr: "AspiratÃ¶r"}, {en: "Trash", tr: "Ã‡Ã¶p"}
                ]
            },
            {
                id: 9,
                name: "Science",
                words: [
                    {en: "Atom", tr: "Atom"}, {en: "Cell", tr: "HÃ¼cre"}, {en: "Energy", tr: "Enerji"}, {en: "Force", tr: "Kuvvet"}, {en: "Gravity", tr: "YerÃ§ekimi"},
                    {en: "Heat", tr: "IsÄ±"}, {en: "Light", tr: "IÅŸÄ±k"}, {en: "Matter", tr: "Madde"}, {en: "Motion", tr: "Hareket"}, {en: "Sound", tr: "Ses"},
                    {en: "Technology", tr: "Teknoloji"}, {en: "Chemistry", tr: "Kimya"}, {en: "Biology", tr: "Biyoloji"}, {en: "Physics", tr: "Fizik"}, {en: "Geology", tr: "Jeoloji"},
                    {en: "Experiment", tr: "Deney"}, {en: "Hypothesis", tr: "Hipotez"}, {en: "Research", tr: "AraÅŸtÄ±rma"}, {en: "Theory", tr: "Teori"}, {en: "Data", tr: "Veri"},
                    {en: "Analysis", tr: "Analiz"}, {en: "Conclusion", tr: "SonuÃ§"}, {en: "Observation", tr: "GÃ¶zlem"}, {en: "Variable", tr: "DeÄŸiÅŸken"}, {en: "Result", tr: "SonuÃ§"}
                ]
            },
            {
                id: 10,
                name: "Natural Forces",
                words: [
                    {en: "Earthquake", tr: "Deprem"}, {en: "Flood", tr: "Sel"}, {en: "Hurricane", tr: "KasÄ±rga"}, {en: "Lightning", tr: "YÄ±ldÄ±rÄ±m"}, {en: "Thunder", tr: "GÃ¶k gÃ¼rÃ¼ltÃ¼sÃ¼"},
                    {en: "Volcano", tr: "Volkan"}, {en: "Tornado", tr: "FÄ±rtÄ±na"}, {en: "Weather", tr: "Hava durumu"}, {en: "Rain", tr: "YaÄŸmur"}, {en: "Snow", tr: "Kar"},
                    {en: "Wind", tr: "RÃ¼zgar"}, {en: "Storm", tr: "FÄ±rtÄ±na"}, {en: "Climate", tr: "Ä°klim"}, {en: "Temperature", tr: "SÄ±caklÄ±k"}, {en: "Season", tr: "Mevsim"},
                    {en: "Spring", tr: "Ä°lkbahar"}, {en: "Summer", tr: "Yaz"}, {en: "Autumn", tr: "Sonbahar"}, {en: "Winter", tr: "KÄ±ÅŸ"}, {en: "Forecast", tr: "Hava durumu tahmini"},
                    {en: "Precipitation", tr: "YaÄŸÄ±ÅŸ"}, {en: "Humidity", tr: "Nem"}, {en: "Pressure", tr: "BasÄ±nÃ§"}, {en: "Wind speed", tr: "RÃ¼zgar hÄ±zÄ±"}, {en: "Cloud", tr: "Bulut"}
                ]
            }
        ];

        // BAÅLANGIÃ‡ BÄ°LGÄ° KARTLARI (GÃœNCELLENEBÄ°LÄ°R)
        let formulaCards = [
            { id: 1, sub: 'Matematik', title: 'ÃœslÃ¼ SayÄ±lar', content: '$a^n \\cdot a^m = a^{n+m}$ <br> $(a^n)^m = a^{n \\cdot m}$', icon: 'fa-superscript', media: null, mediaType: null },
            { id: 2, sub: 'Matematik', title: 'Pisagor BaÄŸÄ±ntÄ±sÄ±', content: '$a^2 + b^2 = c^2$', icon: 'fa-square-root-variable', media: null, mediaType: null },
            { id: 3, sub: 'Fen Bilimleri', title: 'SÄ±vÄ± BasÄ±ncÄ±', content: '$P = h \\cdot d \\cdot g$', icon: 'fa-tint', media: null, mediaType: null },
            { id: 4, sub: 'Fen Bilimleri', title: 'HÄ±z FormÃ¼lÃ¼', content: '$V = \frac{x}{t}$', icon: 'fa-bolt', media: null, mediaType: null }
        ];

        const leaderboardMock = [
            { name: "Aslan PenÃ§esi", score: 495.2, points: 2840, avatar: "ğŸ¦" },
            { name: "SÄ±nav SavaÅŸÃ§Ä±sÄ±", score: 488.5, points: 2610, avatar: "âš”ï¸" },
            { name: "Deneme CanavarÄ±", score: 482.1, points: 2450, avatar: "ğŸ‘¹" },
            { name: "LGS Åampiyonu", score: 479.4, points: 2320, avatar: "ğŸ†" }
        ];

        const storeItems = [
            { id: 'theme_enerjik', name: 'Enerji TemasÄ±', price: 400, type: 'theme', value: 'enerjik', icon: 'ğŸ”¥' },
            { id: 'theme_odak', name: 'Odak TemasÄ±', price: 600, type: 'theme', value: 'odak', icon: 'ğŸ”®' },
            { id: 'theme_orman', name: 'DoÄŸa TemasÄ±', price: 800, type: 'theme', value: 'orman', icon: 'ğŸŒ¿' },
            { id: 'theme_gece', name: 'Gece Pro', price: 1200, type: 'theme', value: 'gece', icon: 'ğŸŒ™' }
        ];

        const advicePool = {
            excellent: ["Zirvedesin ÅŸampiyon!", "Kusursuz ilerliyorsun."],
            good: ["OldukÃ§a iyisin.", "GeliÅŸimin umut verici."],
            average: ["YanlÄ±ÅŸlarÄ±nÄ± analiz etmelisin.", "Vites artÄ±rma zamanÄ±."],
            low: ["Pes etmek yok!", "BugÃ¼n yeni bir baÅŸlangÄ±Ã§ yapÄ±yoruz."]
        };

        const coachQuickReplies = [
            { text: "Naber? ğŸ‘‹", q: "naber" },
            { text: "SÄ±kÄ±ldÄ±m ğŸ˜”", q: "sÄ±kÄ±ldÄ±m" },
            { text: "SÄ±nav ne zaman? ğŸ“…", q: "sÄ±nav ne zaman" }
        ];

        // BAÅARI RÃ–TETLERÄ°
        const badgesPool = [
            { id: 'first_exam', name: 'Ä°lk Deneme', icon: 'ğŸ¯', description: 'Ä°lk denemeyi Ã§Ã¶z', condition: (s) => s.exams.length >= 1 },
            { id: 'perfect_score', name: 'MÃ¼kemmel', icon: 'ğŸ’¯', description: '50 puan al', condition: (s) => s.exams.some(e => e.score >= 50) },
            { id: 'ten_exams', name: 'Deneme UstasÄ±', icon: 'ğŸ“š', description: '10 deneme Ã§Ã¶z', condition: (s) => s.exams.length >= 10 },
            { id: 'streak_7', name: 'HaftalÄ±k Åampiyon', icon: 'ğŸ”¥', description: '7 gÃ¼n Ã¼st Ã¼ste giriÅŸ', condition: (s) => s.user.streak >= 7 },
            { id: 'words_100', name: 'Kelime UzmanÄ±', icon: 'ğŸ“', description: '100 kelime Ã§alÄ±ÅŸ', condition: (s) => s.learnedWords >= 100 },
            { id: 'points_5000', name: '5000 Puan', icon: 'â­', description: '5000 puan topla', condition: (s) => s.user.points >= 5000 },
            { id: 'tasks_50', name: 'GÃ¶rev UstasÄ±', icon: 'âœ…', description: '50 gÃ¶rev tamamla', condition: (s) => s.completedTasks >= 50 },
            { id: 'friend_5', name: 'RekabetÃ§i', icon: 'ğŸ‘¥', description: '5 arkadaÅŸ ekle', condition: (s) => s.friends.length >= 5 },
            { id: 'champion', name: 'Åampiyon', icon: 'ğŸ‘‘', description: '1. sÄ±rayÄ± al', condition: (s) => s.user.rank === 1 }
        ];

        // GÃœNCELLENMÄ°Å LGS KONULARI - Ders bazlÄ± detaylÄ± konular
        const lgsTopicsData = [
            {
                subject: 'TÃ¼rkÃ§e',
                topics: [
                    { id: 'tur1', name: 'SÃ¶zcÃ¼kte Anlam', completed: false },
                    { id: 'tur2', name: 'CÃ¼mlede Anlam', completed: false },
                    { id: 'tur3', name: 'Paragrafta Anlam', completed: false },
                    { id: 'tur4', name: 'Ses Bilgisi', completed: false },
                    { id: 'tur5', name: 'YazÄ±m KurallarÄ±', completed: false },
                    { id: 'tur6', name: 'Noktalama Ä°ÅŸaretleri', completed: false },
                    { id: 'tur7', name: 'Fiilimsiler', completed: false },
                    { id: 'tur8', name: 'CÃ¼mlenin Ã–geleri', completed: false },
                    { id: 'tur9', name: 'Fiilde Ã‡atÄ±', completed: false },
                    { id: 'tur10', name: 'CÃ¼mle TÃ¼rleri', completed: false }
                ]
            },
            {
                subject: 'Matematik',
                topics: [
                    { id: 'mat1', name: 'Ã‡arpanlar ve Katlar', completed: false },
                    { id: 'mat2', name: 'ÃœslÃ¼ Ä°fadeler', completed: false },
                    { id: 'mat3', name: 'KarekÃ¶klÃ¼ Ä°fadeler', completed: false },
                    { id: 'mat4', name: 'Veri Analizi', completed: false },
                    { id: 'mat5', name: 'Basit OlaylarÄ±n Olma OlasÄ±lÄ±ÄŸÄ±', completed: false },
                    { id: 'mat6', name: 'Cebirsel Ä°fadeler', completed: false },
                    { id: 'mat7', name: 'DoÄŸrusal Denklemler', completed: false },
                    { id: 'mat8', name: 'EÅŸitsizlikler', completed: false },
                    { id: 'mat9', name: 'ÃœÃ§genler', completed: false },
                    { id: 'mat10', name: 'EÅŸlik ve Benzerlik', completed: false },
                    { id: 'mat11', name: 'DÃ¶nÃ¼ÅŸÃ¼m Geometrisi', completed: false },
                    { id: 'mat12', name: 'Geometrik Cisimler', completed: false }
                ]
            },
            {
                subject: 'Fen Bilimleri',
                topics: [
                    { id: 'fen1', name: 'Mevsimler ve Ä°klim', completed: false },
                    { id: 'fen2', name: 'DNA ve Genetik Kod', completed: false },
                    { id: 'fen3', name: 'BasÄ±nÃ§', completed: false },
                    { id: 'fen4', name: 'Madde ve EndÃ¼stri', completed: false },
                    { id: 'fen5', name: 'Basit Makineler', completed: false },
                    { id: 'fen6', name: 'Enerji DÃ¶nÃ¼ÅŸÃ¼mleri', completed: false },
                    { id: 'fen7', name: 'Elektrik YÃ¼kleri', completed: false },
                    { id: 'fen8', name: 'CanlÄ±lar ve Enerji Ä°liÅŸkileri', completed: false }
                ]
            },
            {
                subject: 'Ä°nkÄ±lap Tarihi',
                topics: [
                    { id: 'ink1', name: 'Bir Kahraman DoÄŸuyor', completed: false },
                    { id: 'ink2', name: 'Milli UyanÄ±ÅŸ', completed: false },
                    { id: 'ink3', name: 'Ya Ä°stiklal Ya Ã–lÃ¼m', completed: false },
                    { id: 'ink4', name: 'Ã‡aÄŸdaÅŸ TÃ¼rkiye Yolunda', completed: false },
                    { id: 'ink5', name: 'DemokratikleÅŸme Ã‡abalarÄ±', completed: false },
                    { id: 'ink6', name: 'AtatÃ¼rk DÃ¶nemi TÃ¼rk DÄ±ÅŸ PolitikasÄ±', completed: false },
                    { id: 'ink7', name: 'AtatÃ¼rk\'ten Sonra TÃ¼rkiye', completed: false }
                ]
            },
            {
                subject: 'Din KÃ¼ltÃ¼rÃ¼',
                topics: [
                    { id: 'din1', name: 'Kader Ä°nancÄ±', completed: false },
                    { id: 'din2', name: 'Zekat ve Sadaka', completed: false },
                    { id: 'din3', name: 'Din ve Hayat', completed: false },
                    { id: 'din4', name: 'Hz. Muhammed\'in Ã–rnekliÄŸi', completed: false },
                    { id: 'din5', name: 'Kur\'an-Ä± Kerim ve Ã–zellikleri', completed: false }
                ]
            },
            {
                subject: 'Ä°ngilizce',
                topics: [
                    { id: 'ing1', name: 'Friendship', completed: false },
                    { id: 'ing2', name: 'Teen Life', completed: false },
                    { id: 'ing3', name: 'In The Kitchen', completed: false },
                    { id: 'ing4', name: 'On The Phone', completed: false },
                    { id: 'ing5', name: 'The Internet', completed: false },
                    { id: 'ing6', name: 'Adventures', completed: false },
                    { id: 'ing7', name: 'Tourism', completed: false },
                    { id: 'ing8', name: 'Chores', completed: false },
                    { id: 'ing9', name: 'Science', completed: false },
                    { id: 'ing10', name: 'Natural Forces', completed: false }
                ]
            }
        ];

        // SANAL RAKÄ°P Ä°SÄ°M HAVUZU
        const virtualFriendNames = [
            "Ahmet", "Mehmet", "Ali", "Veli", "AyÅŸe", "Fatma", "Zeynep", "Elif", "Emre", "Can", 
            "Berk", "Deniz", "Ece", "Eren", "Ä°rem", "Kaan", "Lara", "Mert", "Nisa", "Onur",
            "PÄ±nar", "Selin", "TarÄ±k", "Umut", "YaÄŸmur", "Cem", "Derin", "Efe", "Hira", "Ä°dil"
        ];

        // GÃœNCELLENMÄ°Å BAÅLANGIÃ‡ ARKADAÅLARI
        const initialFriends = [
            { id: 1, name: "Ahmet", score: 480.2, points: 1200, avatar: "ğŸ‘¨", isVirtual: true, createdAt: new Date().toISOString() },
            { id: 2, name: "AyÅŸe", score: 485.5, points: 1250, avatar: "ğŸ‘©", isVirtual: true, createdAt: new Date().toISOString() },
            { id: 3, name: "Mehmet", score: 475.1, points: 1100, avatar: "ğŸ§‘", isVirtual: true, createdAt: new Date().toISOString() }
        ];

        // --- STATE ---
        let state = {
            user: { 
                name: "Can", points: 1250, level: 1, streak: 0, lastDate: null, theme: 'sakin', adminPin: "1234", fontSize: 16, examDate: "2026-06-14", purchasedItems: ['theme_sakin'], lastVisit: "",
                profilePic: "", targetSchool: "Fen Lisesi", targetScore: 480,
                bestScore: 0,
                averageScore: 0,
                lastFriendUpdate: ""
            },
            todos: [],
            exams: [],
            messages: [],
            voiceNotes: [],
            formulaCards: formulaCards,
            qa: [
  {
    "q": "selam",
    "a": "Selam! LGS 2026 yolculuÄŸunda yanÄ±ndayÄ±m. BugÃ¼n ne yapÄ±yoruz?"
  },
  {
    "q": "gÃ¼naydÄ±n",
    "a": "GÃ¼naydÄ±n! Yeni bir gÃ¼n, yeni bir ÅŸans. BugÃ¼n dÃ¼nkÃ¼nden daha iyi olmaya odaklan!"
  },
  {
    "q": "iyi geceler",
    "a": "Ä°yi geceler! Beyninin dinlenmesi iÃ§in kaliteli bir uyku ÅŸart. TatlÄ± rÃ¼yalar!"
  },
  {
    "q": "kendimi kÃ¶tÃ¼ hissediyorum",
    "a": "DuygularÄ±n dalgalanmasÄ± normal. Biraz nefes al, dinlenmek de Ã§alÄ±ÅŸmanÄ±n bir parÃ§asÄ±dÄ±r."
  },
  {
    "q": "Ã§ok yoruldum",
    "a": "Ciddi bir emek veriyorsun, yorulmak hakkÄ±n. 20 dakikalÄ±k bir mola ver ve tazelen."
  },
  {
    "q": "derse odaklanamÄ±yorum",
    "a": "Pomodoro TekniÄŸi'ni dene: 25 dk Ã§alÄ±ÅŸ, 5 dk mola. Telefonu uzaklaÅŸtÄ±rmayÄ± unutma!"
  },
  {
    "q": "yarÄ±n Ã§ok Ã§alÄ±ÅŸacaÄŸÄ±m",
    "a": "YarÄ±n deÄŸil, bugÃ¼n! Sadece 20 dakika ile baÅŸla, gerisi gelecektir."
  },
  {
    "q": "bugÃ¼n hiÃ§ Ã§alÄ±ÅŸmadÄ±m",
    "a": "Ã–nemli olan ÅŸu anÄ± kurtarmak. Hemen masana otur ve 30 dakikalÄ±k bir hedefle baÅŸla."
  },
  {
    "q": "bu konuyu hiÃ§ anlamÄ±yorum",
    "a": "Pes etmek yok! FarklÄ± bir kaynaktan dinle veya konuyu parÃ§alara bÃ¶lerek ilerle."
  },
  {
    "q": "test Ã§Ã¶zerken Ã§ok hata yapÄ±yorum",
    "a": "Hatalar en iyi Ã¶ÄŸretmenindir. Her yanlÄ±ÅŸÄ± bir Ã¶ÄŸrenme fÄ±rsatÄ± olarak gÃ¶r."
  },
  {
    "q": "denemelerde zaman yetmiyor",
    "a": "Zaman yÃ¶netimi pratikle geliÅŸir. Turlama tekniÄŸini kullanmayÄ± alÄ±ÅŸkanlÄ±k edin."
  },
  {
    "q": "hangi kaynaklarÄ± kullanmalÄ±yÄ±m",
    "a": "MEB Ã¶rnek sorularÄ± temel rehberimiz. Seviyene uygun bir soru bankasÄ±yla ilerle."
  },
  {
    "q": "konu tekrarÄ±nÄ± nasÄ±l yapmalÄ±yÄ±m",
    "a": "HaftalÄ±k tekrar gÃ¼nleri belirle ve kendi Ã¶zetlerini Ã§Ä±kar. Bilgiler uÃ§up gitmesin."
  },
  {
    "q": "okul dersleriyle lgs dengesini nasÄ±l kuracaÄŸÄ±m",
    "a": "Okulda konuyu iyi dinle, evde LGS tipi sorularla pekiÅŸtir. Ä°kisi birbirini destekler."
  },
  {
    "q": "telefon baÄŸÄ±mlÄ±lÄ±ÄŸÄ±ndan nasÄ±l kurtulurum",
    "a": "Ã‡alÄ±ÅŸÄ±rken telefonu oda dÄ±ÅŸÄ±na bÄ±rak. BaÅŸarÄ± ekranÄ±n dÄ±ÅŸÄ±nda seni bekliyor."
  },
  {
    "q": "Ã§alÄ±ÅŸma ortamÄ±m nasÄ±l olmalÄ±",
    "a": "Sade, dÃ¼zenli ve sessiz bir masa odaklanmanÄ± artÄ±rÄ±r. MasanÄ± ders Ã¶ncesi temizle."
  },
  {
    "q": "sabah mÄ± akÅŸam mÄ± Ã§alÄ±ÅŸmalÄ±yÄ±m",
    "a": "Kendini ne zaman en zinde hissediyorsan o saatleri en zor derslere ayÄ±r."
  },
  {
    "q": "mÃ¼zik dinleyerek Ã§alÄ±ÅŸÄ±lÄ±r mÄ±",
    "a": "SayÄ±salda hafif fon mÃ¼ziÄŸi olabilir ama sÃ¶zelde sessizlik ÅŸarttÄ±r."
  },
  {
    "q": "gÃ¼nde kaÃ§ saat Ã§alÄ±ÅŸmalÄ±yÄ±m",
    "a": "SÃ¼re deÄŸil, odak Ã¶nemli. Verimli 3 saat, dalgÄ±n 6 saatten daha deÄŸerlidir."
  },
  {
    "q": "pazartesi sendromu yaÅŸÄ±yorum",
    "a": "Haftaya en sevdiÄŸin dersten baÅŸlayarak Ä±sÄ±n. PlanÄ±nÄ± bitirince kendine kÃ¼Ã§Ã¼k bir Ã¶dÃ¼l ver."
  },
  {
    "q": "hafta sonu nasÄ±l deÄŸerlendirmeliyim",
    "a": "Hafta sonu genel tekrar ve eksik kapatma zamanÄ±dÄ±r. Pazar sabahÄ± deneme Ã§Ã¶zebilirsin."
  },
  {
    "q": "spor yapmak vakit kaybÄ± mÄ±",
    "a": "Asla! Spor zihnini aÃ§ar ve stresi yok eder. GÃ¼nlÃ¼k kÄ±sa yÃ¼rÃ¼yÃ¼ÅŸler verimi artÄ±rÄ±r."
  },
  {
    "q": "ne kadar uyumalÄ±yÄ±m",
    "a": "Beynin dinlenmesi iÃ§in en az 8 saat uyumaya Ã¶zen gÃ¶ster. Uykusuzluk hata yaptÄ±rÄ±r."
  },
  {
    "q": "sÄ±navda tuvalet ihtiyacÄ±m olursa",
    "a": "SÄ±nav sabahÄ± sÄ±vÄ± tÃ¼ketimini dengeli tut. SÄ±nav Ã¶ncesinde mutlaka tedbirini al."
  },
  {
    "q": "kalem seÃ§imi Ã¶nemli mi",
    "a": "YumuÅŸak uÃ§lu 2B kalemler elini yormaz. SÄ±nav gÃ¼nÃ¼ yedekli olmayÄ± unutma."
  },
  {
    "q": "optik formu nasÄ±l kodlamalÄ±yÄ±m",
    "a": "Sayfa sayfa kodlamak en gÃ¼venlisidir. KaydÄ±rma riskini azaltÄ±r ve kontrol saÄŸlar."
  },
  {
    "q": "sÄ±navda en Ã§ok hangi dersten baÅŸlamalÄ±yÄ±m",
    "a": "En gÃ¼Ã§lÃ¼ olduÄŸun dersten baÅŸla. Bunu denemelerde test et."
  },
  {
    "q": "paragraf sorularÄ±nda takÄ±lÄ±yorum",
    "a": "Ã–nce soru kÃ¶kÃ¼nÃ¼ oku. Ne aradÄ±ÄŸÄ±nÄ± bilirsen cevabÄ± bulman kolaylaÅŸÄ±r."
  },
  {
    "q": "problem sorularÄ±nÄ± nasÄ±l Ã§Ã¶zmeliyim",
    "a": "Soruyu anlamak Ã§Ã¶zÃ¼mÃ¼n yarÄ±sÄ±dÄ±r. Verilenleri not et ve adÄ±m adÄ±m ilerle."
  },
  {
    "q": "fen deney sorularÄ± zor geliyor",
    "a": "DeÄŸiÅŸkenleri iyi kavra. Cevap genellikle gÃ¶rseldeki detaylarda gizlidir."
  },
  {
    "q": "inkÄ±lap tarihi Ã§ok karÄ±ÅŸÄ±k",
    "a": "OlaylarÄ± bir hikaye gibi neden-sonuÃ§ iliÅŸkisi kurarak oku. Ezberleme, anla."
  },
  {
    "q": "ingilizce kelimeleri unutuyorum",
    "a": "Kelime kartlarÄ± hazÄ±rla. Her gÃ¼n 5 yeni kelime Ã¶ÄŸrenip cÃ¼mle iÃ§inde kullan."
  },
  {
    "q": "din kÃ¼ltÃ¼rÃ¼nde kavramlar zor",
    "a": "KavramlarÄ±n sÃ¶zlÃ¼k anlamlarÄ±na ve farklarÄ±na odaklan. Tablolar yaparak Ã§alÄ±ÅŸ."
  },
  {
    "q": "dostlarÄ±mla vakit geÃ§iremiyorum",
    "a": "GerÃ§ek dostlar baÅŸarÄ±nÄ± destekler. KÄ±sa gÃ¶rÃ¼ÅŸmelerle sosyal dengeni koru."
  },
  {
    "q": "ailem Ã§ok baskÄ± yapÄ±yor",
    "a": "Onlar senin iÃ§in endiÅŸeleniyor. Sakince planÄ±nÄ± anlat ve desteklerini iste."
  },
  {
    "q": "kardeÅŸim ders Ã§alÄ±ÅŸmamÄ± engelliyor",
    "a": "Ailenden sessiz saatler iste. KardeÅŸine mola zamanlarÄ±nda vakit ayÄ±rma sÃ¶zÃ¼ ver."
  },
  {
    "q": "hobilerimi bÄ±rakmak zorunda mÄ±yÄ±m",
    "a": "HayÄ±r! Hobilerin nefes alanÄ±ndÄ±r. Sadece sÃ¼relerini sÄ±nav yÄ±lÄ±na gÃ¶re dengele."
  },
  {
    "q": "sÃ¼rekli uyku geliyor",
    "a": "OdanÄ± havalandÄ±r ve masanda dik otur. Enerjin dÃ¼ÅŸÃ¼kse biraz su iÃ§ ve esne."
  },
  {
    "q": "gÃ¶zlerim Ã§ok yoruluyor",
    "a": "20-20-20 kuralÄ±: Her 20 dakikada bir, 20 saniye uzaÄŸa bakarak gÃ¶zlerini dinlendir."
  },
  {
    "q": "sÄ±rtÄ±m ve boynum aÄŸrÄ±yor",
    "a": "Dik otur ve ayaklarÄ±n yere bassÄ±n. Her saat baÅŸÄ± ayaÄŸa kalkÄ±p gerinmeyi unutma."
  },
  {
    "q": "matematik formÃ¼llerini nasÄ±l hatÄ±rlarÄ±m",
    "a": "FormÃ¼llerin mantÄ±ÄŸÄ±nÄ± anla. KÃ¼Ã§Ã¼k kaÄŸÄ±tlara yazÄ±p masanÄ±n etrafÄ±na as."
  },
  {
    "q": "yazÄ±lÄ± sÄ±navlara nasÄ±l Ã§alÄ±ÅŸmalÄ±yÄ±m",
    "a": "YazÄ±lÄ±lar temel bilgi Ã¶lÃ§er. Ã–ÄŸretmeninin vurguladÄ±ÄŸÄ± yerlere odaklan."
  },
  {
    "q": "online dersleri nasÄ±l verimli dinlerim",
    "a": "Masada otur, not al ve sanki sÄ±nÄ±ftaymÄ±ÅŸsÄ±n gibi odaklan. BaÅŸka sekmeler aÃ§ma."
  },
  {
    "q": "hedeflediÄŸim lisenin puanÄ± yÃ¼kselirse",
    "a": "Puanlar deÄŸiÅŸebilir, sen yÃ¼zdelik dilime odaklan ve kapasiteni en Ã¼stte tut."
  },
  {
    "q": "sÄ±navdan sonra ne yapmalÄ±yÄ±m",
    "a": "Derin bir nefes al ve baÅŸarÄ±nÄ± kutla! Yaz tatilinde dinlenmek en doÄŸal hakkÄ±n."
  },
  {
    "q": "yaz tatilini nasÄ±l deÄŸerlendirmeliyim",
    "a": "Ã–nce dinlen, sonra hafif okumalarla bir Ã¼st sÄ±nÄ±fa zihinsel hazÄ±rlÄ±k yap."
  },
  {
    "q": "okul baÅŸarÄ± belgesi almak iÃ§in ne yapmalÄ±yÄ±m",
    "a": "YazÄ±lÄ±larÄ±nÄ± yÃ¼ksek tut ve Ã¶devlerini aksatma. Okul baÅŸarÄ±sÄ± LGS'yi de destekler."
  },
  {
    "q": "ders Ã§alÄ±ÅŸÄ±rken acÄ±kÄ±yorum",
    "a": "SaÄŸlÄ±klÄ± atÄ±ÅŸtÄ±rmalÄ±klar seÃ§: Ceviz, meyve veya yoÄŸurt. Åekerli gÄ±dalar uyku getirir."
  },
  {
    "q": "kÄ±ÅŸ aylarÄ±nda motivasyonum dÃ¼ÅŸÃ¼yor",
    "a": "Mevsimsel yorgunluÄŸa kapÄ±lma. OdanÄ± aydÄ±nlÄ±k tut ve hedeflerini gÃ¶r."
  },
  {
    "q": "yarÄ±n okul yok nasÄ±l Ã§alÄ±ÅŸmalÄ±yÄ±m",
    "a": "Tatil gÃ¼nleri eksik kapatma fÄ±rsatÄ±dÄ±r. GÃ¼nÃ¼ bloklara bÃ¶l ve sabahÄ± zor derslere ayÄ±r."
  },
  {
    "q": "deneme analizini nasÄ±l yapmalÄ±yÄ±m",
    "a": "YanlÄ±ÅŸ nedenlerini bul ve o konuyu hemen tekrar et. Analiz puandan daha Ã¶nemlidir."
  },
  {
    "q": "konu anlatÄ±m mÄ± soru Ã§Ã¶zÃ¼mÃ¼ mÃ¼ Ã¶nce",
    "a": "Ã–nce mantÄ±ÄŸÄ± kavra, sonra elini alÄ±ÅŸtÄ±r. Konuyu anlamadan soru Ã§Ã¶zme."
  },
  {
    "q": "soru bankasÄ±nÄ± nasÄ±l bitirebilirim",
    "a": "KitabÄ± bÃ¶lÃ¼mlere ayÄ±r. GÃ¼nlÃ¼k sayfa hedefi koyarak ilerle."
  },
  {
    "q": "ilk kez deneme Ã§Ã¶zeceÄŸim",
    "a": "PuanÄ± deÄŸil, sÄ±nav ortamÄ±na alÄ±ÅŸmayÄ± hedefle. HeyecanlÄ± olman Ã§ok normal."
  },
  {
    "q": "deneme puanÄ±m dÃ¼ÅŸtÃ¼",
    "a": "Bu bir uyarÄ± ve fÄ±rsattÄ±r. Eksiklerini gÃ¶sterdiÄŸi iÃ§in moral bozmadan devam et."
  },
  {
    "q": "deneme puanÄ±m yÃ¼kseldi",
    "a": "Tebrikler! Emeklerin meyve veriyor. Rehavete kapÄ±lmadan aynÄ± disiplinle devam."
  },
  {
    "q": "sÄ±navda kodlama hatasÄ± yapmaktan korkuyorum",
    "a": "KontrolÃ¼ elden bÄ±rakma. Sayfa sonlarÄ±nda teyit ederek ilerle, korkun geÃ§ecektir."
  },
  {
    "q": "sÃ¶zel derslerde nasÄ±l hÄ±zlanabilirim",
    "a": "Her gÃ¼n paragraf Ã§Ã¶z ve sorulardaki anahtar kelimelere odaklan."
  },
  {
    "q": "sayÄ±sal derslerde nasÄ±l hÄ±zlanabilirim",
    "a": "Ä°ÅŸlem pratiÄŸi yap. DÃ¶rt iÅŸlemin ne kadar hÄ±zlÄ±ysa sayÄ±salda o kadar vaktin kalÄ±r."
  },
  {
    "q": "sÄ±navda ÅŸans faktÃ¶rÃ¼ var mÄ±",
    "a": "HazÄ±rlÄ±klÄ± olanÄ±n ÅŸansÄ± her zaman yanÄ±ndadÄ±r. Sen tÃ¼m konulara hakim ol."
  },
  {
    "q": "dershaneye gitmeli miyim",
    "a": "Kendi planÄ±nÄ± yapabiliyorsan ÅŸart deÄŸil. Ã–nemli olan masada gÃ¶sterdiÄŸin Ã§abadÄ±r."
  },
  {
    "q": "Ã¶zel ders almalÄ± mÄ±yÄ±m",
    "a": "EksiÄŸin Ã§ok spesifikse olabilir ama Ã¶nce Ã¶ÄŸretmeninden ve videolardan destek al."
  },
  {
    "q": "Ã¼niversite sÄ±navÄ±nÄ± dÃ¼ÅŸÃ¼nmeli miyim",
    "a": "Åu an hedefin iyi bir lise. Ä°yi lise, Ã¼niversite baÅŸarÄ±sÄ±nÄ±n temelidir."
  },
  {
    "q": "meslek lisesi mi anadolu lisesi mi",
    "a": "Ä°lgi ve yeteneklerin ne yÃ¶nde? KararÄ± hedeflerin doÄŸrultusunda vermelisin."
  },
  {
    "q": "proje okullarÄ± nedir",
    "a": "Ã–zel imkanlara ve yÃ¼ksek baÅŸarÄ±ya sahip devlet okullarÄ±dÄ±r. Tercihte inceleyeceÄŸiz."
  },
  {
    "q": "yÃ¼zdelik dilim ne demek",
    "a": "SÄ±ralamanÄ±n yÃ¼zdeye dÃ¶kÃ¼lmÃ¼ÅŸ halidir. Tercihlerde puan deÄŸil, bu dilim Ã¶nemlidir."
  },
  {
    "q": "lgs baÅŸvurusu nasÄ±l yapÄ±lÄ±r",
    "a": "BaÅŸvurular genellikle okul aracÄ±lÄ±ÄŸÄ±yla yapÄ±lÄ±r. DuyurularÄ± takip etmen yeterli."
  },
  {
    "q": "sÄ±nav Ã¼creti var mÄ±",
    "a": "HayÄ±r, LGS tamamen Ã¼cretsiz bir sÄ±navdÄ±r. Ã–deme yapman gerekmez."
  },
  {
    "q": "Ã¶zel gereksinimim var nasÄ±l olacak",
    "a": "Raporun varsa MEB sana Ã¶zel imkanlar saÄŸlar. Okuluna durumu bildir."
  },
  {
    "q": "sÄ±nav yerimi nasÄ±l Ã¶ÄŸreneceÄŸim",
    "a": "SÄ±nava yakÄ±n tarihte e-Okul Ã¼zerinden giriÅŸ belgen yayÄ±nlanÄ±r."
  },
  {
    "q": "sÄ±nav giriÅŸ belgesi nereden alÄ±nÄ±r",
    "a": "Okul idaresinden alabilir veya sistemden Ã§Ä±ktÄ± alabilirsin. Kaybetme!"
  },
  {
    "q": "sÄ±navda nÃ¼fus cÃ¼zdanÄ±m yoksa",
    "a": "Kimliksiz sÄ±nava girilemez. SÄ±nav Ã¶ncesi kimliÄŸini mutlaka kontrol et."
  },
  {
    "q": "sÄ±navda hastalanÄ±rsam ne olur",
    "a": "Belirli ÅŸartlarda mazeret hakkÄ± tanÄ±nabilir ama saÄŸlÄ±ÄŸÄ±na Ã§ok dikkat etmelisin."
  },
  {
    "q": "sÄ±nav sonuÃ§larÄ± ne zaman aÃ§Ä±klanÄ±r",
    "a": "Genellikle Haziran sonu veya Temmuz baÅŸÄ±nda aÃ§Ä±klanÄ±r. SabÄ±rla bekle."
  },
  {
    "q": "tercihler ne zaman yapÄ±lacak",
    "a": "SonuÃ§lar aÃ§Ä±klandÄ±ktan hemen sonra baÅŸlar. En doÄŸru okullarÄ± beraber seÃ§eceÄŸiz."
  },
  {
    "q": "nakil iÅŸlemleri nedir",
    "a": "Okul deÄŸiÅŸtirmek iÃ§in yapÄ±lan ikinci ÅŸans dÃ¶nemidir. Ä°lk tercihin olmasÄ± dileÄŸiyle!"
  },
  {
    "q": "okul puanÄ±m LGS'yi etkiler mi",
    "a": "LGS merkezi yerleÅŸtirmede okul notlarÄ± deÄŸil, sadece sÄ±nav puanÄ± kullanÄ±lÄ±r."
  },
  {
    "q": "lgs tek oturum mu",
    "a": "HayÄ±r, sÃ¶zel ve sayÄ±sal iki oturumdur. Arada dinlenme vaktin olacak."
  },
  {
    "q": "sÄ±navda su iÃ§ebilir miyim",
    "a": "Evet, ÅŸeffaf ÅŸiÅŸede su getirebilirsin. MasanÄ±n altÄ±nda tutman daha gÃ¼venli olur."
  },
  {
    "q": "heyecanÄ±mÄ± nasÄ±l yenebilirim",
    "a": "Derin nefes al ve kendine hazÄ±r olduÄŸunu hatÄ±rlat. HeyecanÄ±nÄ± yÃ¶netebilirsin."
  },
  {
    "q": "baÅŸaramayacaÄŸÄ±mÄ± dÃ¼ÅŸÃ¼nÃ¼yorum",
    "a": "Kendine haksÄ±zlÄ±k etme. Ã‡alÄ±ÅŸÄ±yorsun ve geliÅŸiyorsun; baÅŸarÄ± zamanla gelir."
  },
  {
    "q": "her ÅŸeyi unuttum gibi hissediyorum",
    "a": "Bu yorgunluk belirtisidir. Beynin bilgileri saklÄ±yor, soru gelince hatÄ±rlayacaksÄ±n."
  },
  {
    "q": "pomodoro tekniÄŸi nedir",
    "a": "25 dk Ã§alÄ±ÅŸma ve 5 dk moladan oluÅŸan, odaÄŸÄ± taze tutan bir yÃ¶ntemdir."
  },
  {
    "q": "feynman tekniÄŸi nasÄ±l uygulanÄ±r",
    "a": "Konuyu bilmeyen birine anlatÄ±r gibi aÃ§Ä±kla. TakÄ±ldÄ±ÄŸÄ±n yerler eksiklerinidir."
  },
  {
    "q": "zihin haritasÄ± nasÄ±l Ã§Ä±karÄ±lÄ±r",
    "a": "Ana konuyu ortaya yazÄ±p kollara baÅŸlÄ±klar ekle. HatÄ±rlamayÄ± kolaylaÅŸtÄ±rÄ±r."
  },
  {
    "q": "aktif okuma nedir",
    "a": "Okurken altÄ±nÄ± Ã§izmek ve yanÄ±na kÃ¼Ã§Ã¼k notlar almaktÄ±r. Zihnin metne kilitlenir."
  },
  {
    "q": "geriye dÃ¶nÃ¼k Ã§alÄ±ÅŸma planÄ± nedir",
    "a": "SÄ±nav gÃ¼nÃ¼nden bugÃ¼ne doÄŸru plan yapmaktÄ±r. ZamanÄ± gerÃ§ekÃ§i yÃ¶netmeni saÄŸlar."
  },
  {
    "q": "haftalÄ±k deÄŸerlendirme nasÄ±l yapÄ±lÄ±r",
    "a": "Pazar geceleri biten konularÄ± ve yanlÄ±ÅŸlarÄ±nÄ± incele. Yeni rotanÄ± Ã§iz."
  },
  {
    "q": "Ã§alÄ±ÅŸma sonrasÄ± nasÄ±l dinlenmeliyim",
    "a": "Ekrandan uzak dur. YÃ¼rÃ¼yÃ¼ÅŸ yap veya uyu. Zihnini ancak bÃ¶yle dinlendirirsin."
  },
  {
    "q": "flashcard nasÄ±l hazÄ±rlarÄ±z",
    "a": "Ã–n yÃ¼ze terim, arkaya tanÄ±m yaz. GÃ¼nlÃ¼k 10 dakika bakmak mÃ¼thiÅŸ tekrar saÄŸlar."
  },
  {
    "q": "Ã¶zet Ã§Ä±karmak faydalÄ± mÄ±",
    "a": "Kesinlikle! Ama kopyalamak yerine konuyu kendi cÃ¼mlelerinle ifade etmelisin."
  },
  {
    "q": "bir konuyu ne zaman bitmiÅŸ sayÄ±lÄ±rÄ±m",
    "a": "Yeni nesil sorularÄ±n %80'ini doÄŸru Ã§Ã¶zebiliyorsan o konu bitmiÅŸtir."
  },
  {
    "q": "farklÄ± kaynaklardan Ã§alÄ±ÅŸmak gerekli mi",
    "a": "Evet, farklÄ± soru tiplerini gÃ¶rmek seni sÄ±navdaki sÃ¼rprizlere karÅŸÄ± korur."
  },
  {
    "q": "denemelerde strateji deÄŸiÅŸtirmeli miyim",
    "a": "Åimdi tam zamanÄ±. En yÃ¼ksek verimi aldÄ±ÄŸÄ±n sÄ±ralamayÄ± bul ve onu kullan."
  },
  {
    "q": "zamanlayÄ±cÄ± kullanmalÄ± mÄ±yÄ±m",
    "a": "Evet, kronometre senin en dÃ¼rÃ¼st rakibindir. Zamanla yarÄ±ÅŸmaya alÄ±ÅŸmalÄ±sÄ±n."
  },
  {
    "q": "gece Ã§alÄ±ÅŸmak verimli mi",
    "a": "Uyku dÃ¼zenini bozmadÄ±ÄŸÄ±n sÃ¼rece olabilir ama sabah erken kalkmak daha iyidir."
  },
  {
    "q": "Ã§alÄ±ÅŸÄ±rken su iÃ§mek Ã¶nemli mi",
    "a": "Su beynin yakÄ±tÄ±dÄ±r. Masanda hep su olsun ve zihnini aÃ§Ä±k tut."
  },
  {
    "q": "mola verdiÄŸimde ne yapmalÄ±yÄ±m",
    "a": "Odadan Ã§Ä±k ve fiziksel olarak hareket et. Pencereden bakmak gÃ¶zlerini dinlendirir."
  },
  {
    "q": "gÃ¼rÃ¼ltÃ¼lÃ¼ ortamda nasÄ±l Ã§alÄ±ÅŸÄ±lÄ±r",
    "a": "Mecbursan beyaz gÃ¼rÃ¼ltÃ¼ dinleyerek odaklanabilirsin."
  },
  {
    "q": "motivasyonumu artÄ±racak sÃ¶zler",
    "a": "'Azmin elinden hiÃ§bir ÅŸey kurtulmaz.' Kendine inanmaya devam et!"
  },
  {
    "q": "matematikte Ã¼slÃ¼ sayÄ±lar nasÄ±l anlarÄ±m",
    "a": "TekrarlÄ± Ã§arpma mantÄ±ÄŸÄ±nÄ± gÃ¶rselleÅŸtir. KurallarÄ± masana as."
  },
  {
    "q": "kÃ¶klÃ¼ sayÄ±lar zor geliyor",
    "a": "KÃ¶kÃ¼ 'hangi sayÄ±nÄ±n karesi bu?' diye sorarak Ã§Ã¶z. Pratikle hÄ±zlanacaksÄ±n."
  },
  {
    "q": "cebirsel ifadeleri nasÄ±l Ã§Ã¶zebilirim",
    "a": "Bilinmeyenlere deÄŸer ver veya gruplandÄ±rarak adÄ±m adÄ±m ilerle."
  },
  {
    "q": "tÃ¼rkÃ§ede fiilimsileri ayÄ±rt edemiyorum",
    "a": "Ekleri kodla ve cÃ¼mlede hangi gÃ¶revde olduÄŸuna dikkat et."
  },
  {
    "q": "fen hÃ¼cre konusu detaylÄ±",
    "a": "HÃ¼creyi bir fabrika gibi hayal et ve organelleri gÃ¶revleriyle eÅŸleÅŸtir."
  },
  {
    "q": "mitoz ve mayoz bÃ¶lÃ¼nme farkÄ±",
    "a": "Mitoz onarÄ±m, mayoz Ã¼reme iÃ§indir. FarklarÄ± tablo yaparak Ã§alÄ±ÅŸ."
  },
  {
    "q": "basÄ±nÃ§ konusundaki formÃ¼ller",
    "a": "Kuvvet bÃ¶lÃ¼ alan mantÄ±ÄŸÄ±nÄ± kullan. GerÃ§ek hayat Ã¶rnekleriyle pekiÅŸtir."
  },
  {
    "q": "periyodik tabloyu nasÄ±l Ã¶ÄŸrenebilirim",
    "a": "GruplarÄ± tekerlemelerle kodla ve ilk 20 elemente hakim ol."
  },
  {
    "q": "inkÄ±lap millÃ® mÃ¼cadele dÃ¶nemi karÄ±ÅŸÄ±k",
    "a": "Zaman Ã§izelgesi Ã§izerek neden-sonuÃ§ iliÅŸkilerini gÃ¶rselleÅŸtir."
  },
  {
    "q": "atatÃ¼rk ilkelerini nasÄ±l ezberlerim",
    "a": "Anahtar kelimelerle kodla: CumhuriyetÃ§ilik=Ä°rade, Laiklik=AkÄ±l ve Bilim."
  },
  {
    "q": "ingilizce comparative superlative",
    "a": "KÄ±sa ve uzun sÄ±fat kurallarÄ±nÄ± Ã¶ÄŸrenip karÅŸÄ±laÅŸtÄ±rma cÃ¼mleleri kur."
  },
  {
    "q": "din kÃ¼ltÃ¼rÃ¼nde melekler",
    "a": "4 bÃ¼yÃ¼k meleÄŸi ve gÃ¶revlerini sembollerle eÅŸleÅŸtirerek ezberle."
  },
  {
    "q": "zekat ve fitre farkÄ± nedir",
    "a": "Zekat mal, fitre kiÅŸi Ã¼zerindendir. ÅartlarÄ±nÄ± karÅŸÄ±laÅŸtÄ±rarak Ã¶ÄŸren."
  },
  {
    "q": "saÄŸlÄ±klÄ± atÄ±ÅŸtÄ±rmalÄ±k Ã¶nerileri",
    "a": "Ceviz, kuru Ã¼zÃ¼m ve badem enerjini yÃ¼kseltir ve beynine iyi gelir."
  },
  {
    "q": "deneme Ã§Ã¶zerken uykum geliyor",
    "a": "AÄŸÄ±r yemekten kaÃ§Ä±n, odayÄ± havalandÄ±r ve masanda dik otur."
  },
  {
    "q": "arkadaÅŸlarÄ±m benden daha Ã§ok net yapÄ±yor",
    "a": "BaÅŸkalarÄ±yla deÄŸil, dÃ¼nkÃ¼ kendinle yarÄ±ÅŸ. Kendi geliÅŸimine odaklan."
  },
  {
    "q": "yeni nesil sorular Ã§ok uzun",
    "a": "Uzun soru zor deÄŸildir. Hikayeyi sadeleÅŸtir ve senden ne istediÄŸini bul."
  },
  {
    "q": "matematikte iÅŸlem hatasÄ± yapÄ±yorum",
    "a": "Ä°ÅŸlemleri kaÄŸÄ±t Ã¼zerinde dÃ¼zenli yazarak yap. DaÄŸÄ±nÄ±klÄ±k hataya yol aÃ§ar."
  },
  {
    "q": "kitap okumayÄ± hiÃ§ sevmiyorum",
    "a": "GÃ¼nde 15 dakika bile olsa sevdiÄŸin bir tÃ¼rden oku. Paragraf netlerini uÃ§urur."
  },
  {
    "q": "Ã¶ÄŸretmenim beni sÃ¼rekli eleÅŸtiriyor",
    "a": "EleÅŸtirileri kiÅŸisel algÄ±lama, geliÅŸim geri bildirimi olarak gÃ¶r."
  },
  {
    "q": "lgs gÃ¼nÃ¼ hava Ã§ok sÄ±cak olursa",
    "a": "Rahat ve terletmeyen kÄ±yafetler seÃ§. Odak noktan sadece sorular olsun."
  },
  {
    "q": "hedefim tÄ±p okumak ama matematik yapamÄ±yorum",
    "a": "MatematiÄŸi seni hedefine gÃ¶tÃ¼recek bir araÃ§ olarak gÃ¶r ve temelden baÅŸla."
  },
  {
    "q": "geÃ§en yÄ±lki lgs sorularÄ± Ã§ok zordu",
    "a": "Her yÄ±lÄ±n dengesi farklÄ±dÄ±r. Sen kendi performansÄ±nÄ±n en iyisini yapmaya bak."
  },
  {
    "q": "evde Ã§ok gÃ¼rÃ¼ltÃ¼ var kÃ¼tÃ¼phaneye mi gitsem",
    "a": "KÃ¼tÃ¼phane harika bir seÃ§enektir, oradaki atmosfer odaÄŸÄ±nÄ± artÄ±rÄ±r."
  },
  {
    "q": "sÄ±nav anÄ±nda karnÄ±m aÄŸrÄ±rsa",
    "a": "Hafif gÄ±dalar tÃ¼ket. Heyecan kaynaklÄ± aÄŸrÄ±lar genellikle sorulara dalÄ±nca geÃ§er."
  },
  {
    "q": "fen bilgisinde DNA ve genetik kod karÄ±ÅŸÄ±yor",
    "a": "'KEDÄ°GENÄ°' (Kromozom-DNA-Gen-NÃ¼kleotit) kodlamasÄ±nÄ± hatÄ±rla."
  },
  {
    "q": "tÃ¼rkÃ§ede yazÄ±m kurallarÄ±nÄ± ezberleyemiyorum",
    "a": "Ezberleme, oku. GÃ¼nlÃ¼k 10 soru Ã§Ã¶zerek gÃ¶z aÅŸinalÄ±ÄŸÄ± kazan."
  },
  {
    "q": "ingilizce okuma parÃ§alarÄ± Ã§ok sÄ±kÄ±cÄ±",
    "a": "Ä°lgini Ã§eken konularda kÄ±sa metinler oku. Kelime haznen geliÅŸtikÃ§e eÄŸlenceli gelecektir."
  },
  {
    "q": "babamla netlerim yÃ¼zÃ¼nden tartÄ±ÅŸtÄ±k",
    "a": "Sakin bir zamanda hedeflerin hakkÄ±nda onunla konuÅŸ ve desteÄŸini iste."
  },
  {
    "q": "sÄ±nava son 1 ay kala ne yapmalÄ±yÄ±m",
    "a": "Her gÃ¼n bir deneme Ã§Ã¶zÃ¼p nokta atÄ±ÅŸÄ± analizlerle eksiklerini kapat."
  },
  {
    "q": "hiÃ§bir ÅŸey yetiÅŸmeyecek gibi",
    "a": "KÃ¼Ã§Ã¼k parÃ§alara bÃ¶l ve Ã¶nem sÄ±rasÄ±na gÃ¶re ilerle. Her tik seni rahatlatÄ±r."
  },
  {
    "q": "geometri sorularÄ±nÄ± gÃ¶remiyorum",
    "a": "GÃ¶rme becerisi pratikle geliÅŸir. YardÄ±mcÄ± Ã§izgiler Ã§izmeyi dene."
  },
  {
    "q": "netlerim 40'ta Ã§akÄ±ldÄ± kaldÄ±",
    "a": "Pes etme, buna 'plato evresi' denir. Devam edersen netlerin aniden sÄ±Ã§rayacaktÄ±r."
  },
  {
    "q": "lgs'yi kazanamazsam ne olur",
    "a": "Bu sadece bir sÄ±nav, senin deÄŸerini belirlemez. Ã–nÃ¼nde daha Ã§ok yol var."
  },
  {
    "q": "matematikte Ã§arpanlar ve katlar zor",
    "a": "EBOB ve EKOK'un mantÄ±ÄŸÄ±nÄ± anla. ParÃ§adan bÃ¼tÃ¼ne mi gidiyorsun, dikkat et."
  },
  {
    "q": "deneme Ã§Ã¶zerken dÄ±ÅŸarÄ±daki seslere takÄ±lÄ±yorum",
    "a": "Hafif gÃ¼rÃ¼ltÃ¼lÃ¼ ortamlarda test Ã§Ã¶zerek odaklanma kasÄ±nÄ± gÃ¼Ã§lendir."
  },
  {
    "q": "paragrafta iki ÅŸÄ±k arasÄ±nda kalÄ±yorum",
    "a": "Soru kÃ¶kÃ¼ne geri dÃ¶n. En kapsamlÄ± ve metni en iyi karÅŸÄ±layan cevabÄ± seÃ§."
  },
  {
    "q": "inkÄ±lap tarihinde cemiyetleri karÄ±ÅŸtÄ±rÄ±yorum",
    "a": "Tablo yap ve harita Ã¼zerinde bÃ¶lgeleriyle eÅŸleÅŸtir. GÃ¶rsel hafÄ±za kurtarÄ±cÄ±dÄ±r."
  },
  {
    "q": "din kÃ¼ltÃ¼rÃ¼nde kader ve kaza farkÄ±",
    "a": "Kader planlama, kaza ise o planÄ±n gerÃ§ekleÅŸmesidir. Ã–rneklerle Ã§alÄ±ÅŸ."
  },
  {
    "q": "Ã§alÄ±ÅŸma isteÄŸim tamamen bitti",
    "a": "Kendine tam bir gÃ¼n izin ver ve derslerden uzaklaÅŸ. Zihnin dinlenince isteÄŸin dÃ¶ner."
  },
  {
    "q": "lgs 2026 iÃ§in Ã§ok mu geÃ§ kaldÄ±m",
    "a": "Kesinlikle hayÄ±r! BugÃ¼n baÅŸlamak en iyisidir. DÃ¼zenle farkÄ± kapatabilirsin."
  },
  {
    "q": "okul kurslarÄ± yeterli mi",
    "a": "Aktif dinler ve tekrar edersen Ã§ok faydalÄ± olur. Eksiklerini videolardan tamamla."
  },
  {
    "q": "sayÄ±sal bÃ¶lÃ¼mde sÃ¼reyi yetiÅŸtiremiyorum",
    "a": "Feni hÄ±zlÄ± bitirip matematiÄŸe maksimum zamanÄ± bÄ±rakacak strateji geliÅŸtir."
  },
  {
    "q": "ders Ã§alÄ±ÅŸÄ±rken mÃ¼zik dinlesem olur mu",
    "a": "Sadece sÃ¶zsÃ¼z hafif mÃ¼zikler olabilir. ÅarkÄ± sÃ¶zleri odaÄŸÄ±nÄ± bÃ¶ler."
  },
  {
    "q": "gece Ã§ok geÃ§ yatÄ±p sabah uyanamÄ±yorum",
    "a": "Uyku dÃ¼zenini her gÃ¼n 15 dakika Ã¶ne Ã§ekerek oturt. Beynin dinlenmesi Ã¶nemli."
  },
  {
    "q": "deneme puanÄ±mÄ± arkadaÅŸlarÄ±ma sÃ¶ylemek istemiyorum",
    "a": "SÃ¶ylemek zorunda deÄŸilsin. PuanÄ±nÄ± analiz iÃ§in Ã¶ÄŸretmeninle paylaÅŸman yeterli."
  },
  {
    "q": "fen bilgisinde asit-baz konusu karÄ±ÅŸÄ±k",
    "a": "'Anne kÄ±zartÄ±r (asit), Baba morartÄ±r (baz)' kodlamasÄ±nÄ± unutma."
  },
  {
    "q": "ingilizce dÃ¼zensiz fiilleri ezberleyemiyorum",
    "a": "Gruplara ayÄ±rÄ±p sesli tekrar et ve cÃ¼mle iÃ§inde kullanarak pekiÅŸtir."
  },
  {
    "q": "atatÃ¼rk ilkelerinden devletÃ§ilik nedir",
    "a": "Devletin halk yararÄ±na yaptÄ±ÄŸÄ± yatÄ±rÄ±mlardÄ±r. Fabrika ve ekonomi kelimelerine odaklan."
  },
  {
    "q": "matematikte veri analizi sorularÄ± Ã§ok iÅŸlemli",
    "a": "Grafik okumayÄ± ve oran-orantÄ±yÄ± hÄ±zlÄ± kullanmayÄ± Ã¶ÄŸren, zaman kazandÄ±rÄ±r."
  },
  {
    "q": "paragrafta ana dÃ¼ÅŸÃ¼nceyi bulamÄ±yorum",
    "a": "Son cÃ¼mlelere dikkat et; yazar genellikle asÄ±l mesajÄ±nÄ± orada verir."
  },
  {
    "q": "sÄ±nava giriÅŸ belgemde fotoÄŸrafÄ±m yok",
    "a": "Hemen okul idaresiyle gÃ¶rÃ¼ÅŸ. Bu detay Ã§ok kritiktir, son gÃ¼ne bÄ±rakma."
  },
  {
    "q": "Ã§alÄ±ÅŸÄ±rken Ã§ok su iÃ§iyorum",
    "a": "Harika! Su beynini besler. Sadece sÃ¼rekli kalkmamak iÃ§in ÅŸiÅŸen hep dolu olsun."
  },
  {
    "q": "denemede yanlÄ±ÅŸ kodlama yaptÄ±m",
    "a": "Åimdi yaptÄ±ÄŸÄ±n iyi olmuÅŸ, sana ders olur. GerÃ§ek sÄ±navda kontrollÃ¼ gitmeyi Ã¶ÄŸretir."
  },
  {
    "q": "matematikte olasÄ±lÄ±k Ã§ok kolay ama hata yapÄ±yorum",
    "a": "DikkatsizliÄŸe dÃ¼ÅŸme. TÃ¼m durumlarÄ± yazdÄ±ÄŸÄ±ndan emin olmadan iÅŸaretleme."
  },
  {
    "q": "tÃ¼rkÃ§ede sÃ¶zcÃ¼kte anlam sorularÄ± yanÄ±ltÄ±yor",
    "a": "Kelimelerin cÃ¼mle iÃ§indeki anlamÄ±na bak, sadece tek bir kelimeye odaklanma."
  },
  {
    "q": "fen bilgisinde periyodik sistemdeki Ã¶zellikleri unutuyorum",
    "a": "DeÄŸiÅŸim oklarÄ± Ã§iz ve odana as. Her gÃ¼n bir dakika gÃ¶z gezdirmen yeterli."
  },
  {
    "q": "ingilizcede 'should/must' farkÄ± nedir",
    "a": "'Should' tavsiye, 'Must' zorunluluktur. Bu ayrÄ±m sorularÄ± Ã§Ã¶zdÃ¼rÃ¼r."
  },
  {
    "q": "lgs'ye girmesem olmaz mÄ±",
    "a": "LGS kaliteli okullara aÃ§Ä±lan bir kapÄ±dÄ±r. SeÃ§eneklerini artÄ±rmak iÃ§in bu fÄ±rsatÄ± kullan."
  },
  {
    "q": "Ã§alÄ±ÅŸma masam Ã§ok kÃ¼Ã§Ã¼k",
    "a": "Alan deÄŸil, odak Ã¶nemli. Sadece o anki kitabÄ±nÄ± masada tut, diÄŸerlerini kaldÄ±r."
  },
  {
    "q": "deneme Ã§Ã¶zerken kalemim bitti",
    "a": "GerÃ§ek sÄ±navda paniklememek iÃ§in yanÄ±nda her zaman en az iki hazÄ±r kalem bulundur."
  },
  {
    "q": "matematikte Ã¶zdeÅŸlikler ve Ã§arpanlara ayÄ±rma karÄ±ÅŸÄ±yor",
    "a": "FormÃ¼lleri masana yapÄ±ÅŸtÄ±r. Soru Ã§Ã¶zdÃ¼kÃ§e refleks haline gelecektir."
  },
  {
    "q": "sÄ±navda kitapÃ§Ä±k tÃ¼rÃ¼nÃ¼ iÅŸaretlemeyi unutursam",
    "a": "Bu Ã§ok kritik. Teslim etmeden Ã¶nce kontrol etmeyi bir alÄ±ÅŸkanlÄ±k haline getir."
  },
  {
    "q": "netlerimin artmasÄ± iÃ§in ne kadar beklemeliyim",
    "a": "SabÄ±rlÄ± ol. Genellikle 3-4 haftalÄ±k dÃ¼zenli Ã§alÄ±ÅŸma sonrasÄ± netler kÄ±pÄ±rdanmaya baÅŸlar."
  },
  {
    "q": "inkÄ±lap tarihinde lozan antlaÅŸmasÄ± Ã§ok uzun",
    "a": "Maddeleri siyasi, ekonomik ve askeri olarak ayÄ±rarak baÄŸÄ±msÄ±zlÄ±k odaklÄ± yorumla."
  },
  {
    "q": "fen bilgisinde elektrik devreleri zor",
    "a": "AkÄ±mÄ± su tesisatÄ± gibi hayal et. Seri ve paralel farkÄ±nÄ± bÃ¶ylece daha iyi anlarsÄ±n."
  },
  {
    "q": "din kÃ¼ltÃ¼rÃ¼nde zekat kimlere verilir",
    "a": "Fakir, dÃ¼ÅŸkÃ¼n ve borÃ§lu gruplarÄ±nÄ± Ã¶ÄŸren. YakÄ±n akraba Ã¶nceliÄŸini unutma."
  },
  {
    "q": "ingilizcede 'adventure' Ã¼nitesindeki kelimeler Ã§ok zor",
    "a": "Ekstrem sporlarÄ± gÃ¶rsellerle eÅŸleÅŸtir. SÄ±fatlarÄ± zÄ±t anlamlÄ±larÄ±yla grupla."
  },
  {
    "q": "Ã§alÄ±ÅŸÄ±rken sÃ¼rekli hayal kuruyorum",
    "a": "Hayalleri Ã¶dÃ¼l olarak kullan. 'Åu testi bitirince 5 dakika hayal kuracaÄŸÄ±m' de."
  },
  {
    "q": "sÄ±nav giriÅŸ yerim Ã§ok uzakmÄ±ÅŸ",
    "a": "Erken yola Ã§Ä±kmalÄ±sÄ±n. MÃ¼mkÃ¼nse bir gÃ¼n Ã¶nce o yolu gidip sÃ¼reyi Ã¶lÃ§Ã¼n."
  },
  {
    "q": "lgs'ye girenlerin sayÄ±sÄ± Ã§ok fazla",
    "a": "SayÄ± seni korkutmasÄ±n. Rakibin diÄŸerleri deÄŸil, Ã¶nÃ¼ndeki sorulardÄ±r."
  },
  {
    "q": "matematikte eÄŸim konusu karÄ±ÅŸÄ±yor",
    "a": "EÄŸim=Dikey/Yatay. Koordinat sistemindeki yÃ¶nÃ¼ne dikkat etmeyi unutma."
  },
  {
    "q": "denemede sÃ¶zel bÃ¶lÃ¼m Ã§ok kolaydÄ± ama sayÄ±salda daÄŸÄ±ldÄ±m",
    "a": "Oturumlar arasÄ±ndaki molada sorularÄ± tartÄ±ÅŸma, sadece sayÄ±sal iÃ§in enerji topla."
  },
  {
    "q": "tÃ¼rkÃ§ede cÃ¼mle tÃ¼rleri zor geliyor",
    "a": "YÃ¼klemin yerine ve tÃ¼rÃ¼ne bakarak adÄ±m adÄ±m ilerle, konu netleÅŸecektir."
  },
  {
    "q": "fen bilgisinde basit makineler ve kuvvet kazancÄ±",
    "a": "Kuvvetten kazanÃ§ varsa yoldan kayÄ±p vardÄ±r mantÄ±ÄŸÄ±nÄ± formÃ¼lle her tipte uygula."
  },
  {
    "q": "ingilizcede mutfak Ã¼nitesi kelimeleri",
    "a": "Yemek yapma aÅŸamalarÄ±nÄ± sÄ±ralamayÄ± Ã¶ÄŸren. Kelimeleri mutfaktaki eÅŸyalara yapÄ±ÅŸtÄ±r."
  },
  {
    "q": "lgs 2026'da yeni bir soru tipi Ã§Ä±kar mÄ±",
    "a": "MEB Ã¶rnek sorularÄ±nÄ± takip edersek sÃ¼rpriz olmaz. MantÄ±k hep aynÄ±dÄ±r."
  },
  {
    "q": "deneme analizini yapmak Ã§ok sÄ±kÄ±cÄ±",
    "a": "Seni geliÅŸtiren tek ÅŸey budur. YanlÄ±ÅŸÄ±nÄ± Ã§Ã¶zebildiÄŸin an konuyu Ã¶ÄŸrenirsin."
  },
  {
    "q": "Ã§alÄ±ÅŸma planÄ±ma uyamadÄ±m bugÃ¼n",
    "a": "Sorun deÄŸil. YarÄ±n yeni bir gÃ¼n; kalan yerden devam et ve eksiÄŸini telafi et."
  },
  {
    "q": "sÄ±navda optik formum kirlenirse",
    "a": "Formu katlamamaya ve Ã¼zerine bir ÅŸey dÃ¶kmemeye Ã§ok dikkat et."
  },
  {
    "q": "matematikte Ã¼Ã§genler ve pisagor baÄŸÄ±ntÄ±sÄ±",
    "a": "Ã–zel Ã¼Ã§genleri (3-4-5 vb.) ezbere bilmek sana Ã§ok zaman kazandÄ±rÄ±r."
  },
  {
    "q": "inkÄ±lap tarihinde ilkelerle inkÄ±laplarÄ± eÅŸleÅŸtiremiyorum",
    "a": "Yenilik kimin yararÄ±na? Bu mantÄ±ÄŸÄ± kullanarak ilkeleri kolayca eÅŸleÅŸtir."
  },
  {
    "q": "fen bilgisinde katÄ± basÄ±ncÄ± ve yÃ¼zey alanÄ±",
    "a": "YÃ¼zey alanÄ± bÃ¼yÃ¼rse basÄ±nÃ§ azalÄ±r mantÄ±ÄŸÄ± Ã§oÄŸu soruyu Ã§Ã¶zdÃ¼rÃ¼r."
  },
  {
    "q": "din kÃ¼ltÃ¼rÃ¼nde kaza ve kaderle ilgili kavramlar",
    "a": "TevekkÃ¼l, rÄ±zÄ±k ve ecel gibi kavramlarÄ± ayet sorularÄ±nda bulmaya Ã§alÄ±ÅŸ."
  },
  {
    "q": "ingilizcede 'friendship' Ã¼nitesi en kolayÄ±",
    "a": "Kolay diye kÃ¼Ã§Ã¼mseme, kalÄ±plardaki ince farklara dikkat ederek oku."
  },
  {
    "q": "Ã§alÄ±ÅŸÄ±rken baÅŸÄ±m aÄŸrÄ±yor",
    "a": "OdayÄ± havalandÄ±r ve su iÃ§. AÄŸrÄ± geÃ§mezse kÄ±sa bir dinlenme arasÄ± ver."
  },
  {
    "q": "sÄ±navda en zor sorular en sonda mÄ± olur",
    "a": "HayÄ±r, zorluk derecesi karÄ±ÅŸÄ±ktÄ±r. Bir soruya takÄ±lma, turlama tekniÄŸini kullan."
  },
  {
    "q": "lgs 2026 ÅŸampiyonu olabilir miyim",
    "a": "Neden olmasÄ±n? Disiplinli Ã§alÄ±ÅŸan herkes bu potansiyele sahiptir. Ä°nan!"
  },
  {
    "q": "deneme sonucum beklediÄŸimden Ã§ok dÃ¼ÅŸÃ¼k geldi",
    "a": "Bu sadece bir prova. Eksiklerini gÃ¶rmek iÃ§in harika bir fÄ±rsat, analize odaklan."
  },
  {
    "q": "matematikte eÅŸitsizlikler konusu kafa karÄ±ÅŸtÄ±rÄ±cÄ±",
    "a": "Negatif sayÄ±yla Ã§arparsan iÅŸaretin yÃ¶n deÄŸiÅŸtireceÄŸini asla unutma!"
  },
  {
    "q": "tÃ¼rkÃ§ede noktalama iÅŸaretleri karÄ±ÅŸÄ±yor",
    "a": "VirgÃ¼l ve noktalÄ± virgÃ¼l farkÄ±na odaklan. CÃ¼mleyi okurken duraksamalarÄ±n ipucundur."
  },
  {
    "q": "fen bilgisinde kalÄ±tÄ±m ve Ã§aprazlama",
    "a": "Punnett karesi yÃ¶ntemini kullan, genlerin birleÅŸmesini gÃ¶rselleÅŸtir."
  },
  {
    "q": "ingilizcede 'teen life' Ã¼nitesi kelimeleri",
    "a": "GÃ¼nlÃ¼k aktiviteler ve sÄ±klÄ±k zarflarÄ±na Ã§alÄ±ÅŸ. Tercih yapÄ±larÄ±nÄ± iyi Ã¶ÄŸren."
  },
  {
    "q": "inkÄ±lap tarihinde kongrelerin Ã¶nemi",
    "a": "Genelgeler Ã§aÄŸrÄ±, kongreler karardÄ±r. Milli irade kavramÄ±nÄ±n geÃ§tiÄŸi yerlere bak."
  },
  {
    "q": "din kÃ¼ltÃ¼rÃ¼nde peygamberlerin Ã¶zellikleri",
    "a": "SÄ±dk ve emanet gibi kavramlarÄ± Ã¶ÄŸren, sorular genellikle bunlar Ã¼zerinden gelir."
  },
  {
    "q": "Ã§alÄ±ÅŸma isteÄŸimi nasÄ±l canlÄ± tutarÄ±m",
    "a": "Hedefindeki lisenin hayalini kur. Bu hayal senin en bÃ¼yÃ¼k motivasyonundur."
  },
  {
    "q": "sÄ±navda sÃ¼re biterken panik olursam",
    "a": "Derin bir nefes al ve sadece Ã¶nÃ¼ndeki soruya odaklan. Sakinlik puan getirir."
  },
  {
    "q": "lgs 2026 maratonu ne zaman biter",
    "a": "14 Haziran 2026'daki sÄ±navdan Ã§Ä±ktÄ±ÄŸÄ±n an bu maraton baÅŸarÄ±yla bitecek!"
  },
  {
    "q": "baÅŸka bir sorun yok ÅŸimdilik",
    "a": "Harika! Ä°stediÄŸin zaman dertleÅŸebilir veya plan yapabiliriz. Ä°yi Ã§alÄ±ÅŸmalar!"
  },
  {
    "q": "teÅŸekkÃ¼r ederim",
    "a": "Rica ederim! Senin baÅŸarÄ±nÄ± gÃ¶rmek beni Ã§ok mutlu eder. Ä°yi odaklanmalar!"
  },
  {
    "q": "arkadaÅŸlarÄ±m sinemaya gidiyor ama benim Ã§alÄ±ÅŸmam lazÄ±m",
    "a": "Onlar bugÃ¼n sinemada, sen geleceÄŸini inÅŸa ediyorsun. SabrÄ±nÄ±n Ã¶dÃ¼lÃ¼nÃ¼ alacaksÄ±n."
  },
  {
    "q": "sosyal medyada Ã§ok vakit kaybediyorum",
    "a": "SÃ¼re sÄ±nÄ±rÄ± koymayÄ± dene. BaÅŸkalarÄ±nÄ± izlemek yerine kendi hikayeni yazmaya odaklan."
  },
  {
    "q": "akÅŸam yemeÄŸinde ailem sadece sÄ±navÄ± konuÅŸuyor",
    "a": "Onlara tatlÄ±ca sÄ±nav dÄ±ÅŸÄ± konuÅŸmayÄ± teklif et. Zihninin dinlenmeye ihtiyacÄ± var."
  },
  {
    "q": "en yakÄ±n arkadaÅŸÄ±mla farklÄ± liseleri hedefliyoruz",
    "a": "GerÃ§ek dostluklar mesafe tanÄ±maz. FarklÄ± liselerde olsanÄ±z da baÄŸÄ±nÄ±z kopmaz."
  },
  {
    "q": "oyun oynamayÄ± tamamen bÄ±rakmalÄ± mÄ±yÄ±m",
    "a": "Tamamen deÄŸil ama Ã¶dÃ¼l olarak kullan. Verimli Ã§alÄ±ÅŸmanÄ±n ardÄ±ndan deÅŸarj olursun."
  },
  {
    "q": "akrabalarÄ±m sÃ¼rekli 'dersler nasÄ±l' diye soruyor",
    "a": "GÃ¼lÃ¼mse ve 'Elimden geleni yapÄ±yorum' de geÃ§. Enerjini kendine sakla."
  },
  {
    "q": "voleybol antrenmanlarÄ±na devam etmeli miyim",
    "a": "Derslerini aksatmÄ±yorsa devam et; spor stresi yÃ¶netmene yardÄ±mcÄ± olur."
  },
  {
    "q": "sevgilim olmasÄ± derslerimi etkiler mi",
    "a": "Birbirinizi motive edip sÄ±nÄ±rlara saygÄ± duyuyorsanÄ±z bir sorun olmaz."
  },
  {
    "q": "odamda ders Ã§alÄ±ÅŸÄ±rken Ã§ok yalnÄ±z hissediyorum",
    "a": "AynÄ± yolda binlerce Ã¶ÄŸrenci olduÄŸunu hatÄ±rla. Arada kÃ¼tÃ¼phaneye gitmek iyi gelebilir."
  },
  {
    "q": "dizi izlemeye baÅŸlarsam duramÄ±yorum",
    "a": "Dizi keyfini sÄ±nav sonrasÄ±na sakla. Merak duygusu odaÄŸÄ±nÄ± zorlaÅŸtÄ±rabilir."
  },
  {
    "q": "bayramda ders Ã§alÄ±ÅŸmak istemiyorum",
    "a": "BayramÄ±n bir gÃ¼nÃ¼nÃ¼ tatil yap, diÄŸer gÃ¼nler hafif tekrarlarla momentumu koru."
  },
  {
    "q": "internetteki baÅŸarÄ± hikayeleri beni strese sokuyor",
    "a": "Herkesin yolu farklÄ±dÄ±r. Kendi hÄ±zÄ±nda ilerle, baÅŸkalarÄ±nÄ±n programÄ±na takÄ±lma."
  },
  {
    "q": "hafta sonu kursu Ã§ok yorucu",
    "a": "Hafta iÃ§ini biraz hafifleterek denge kur. Haziran'da meyvelerini toplayacaksÄ±n."
  },
  {
    "q": "kuzenim sÄ±navsÄ±z bir okula gitti, ben neden Ã§alÄ±ÅŸÄ±yorum",
    "a": "Sen sadece okul deÄŸil, vizyon ve nitelikli bir gelecek iÃ§in Ã§alÄ±ÅŸÄ±yorsun."
  },
  {
    "q": "arkadaÅŸlarÄ±m Whatsapp grubunda sÃ¼rekli soru paylaÅŸÄ±yor",
    "a": "KaygÄ±landÄ±rÄ±yorsa bildirimleri sessize al ve sadece kendi belirlediÄŸin vakitte bak."
  },
  {
    "q": "annem sÃ¼rekli baÅŸkalarÄ±nÄ±n Ã§ocuklarÄ±yla kÄ±yaslÄ±yor",
    "a": "KÄ±yaslanmanÄ±n motivasyonunu dÃ¼ÅŸÃ¼rdÃ¼ÄŸÃ¼nÃ¼ annene dÃ¼rÃ¼stÃ§e aÃ§Ä±kla."
  },
  {
    "q": "enstrÃ¼man Ã§almak derslerimi aksatÄ±r mÄ±",
    "a": "KÄ±sa sÃ¼relerle ilgilenmek saÄŸ beynini ve yaratÄ±cÄ± dÃ¼ÅŸÃ¼nmeni geliÅŸtirir."
  },
  {
    "q": "doÄŸum gÃ¼nÃ¼mde ders Ã§alÄ±ÅŸmalÄ± mÄ±yÄ±m",
    "a": "Kendine yarÄ±m gÃ¼n izin ver! PastanÄ± ye ve yeni yaÅŸÄ±n iÃ§in enerji depola."
  },
  {
    "q": "sosyal ortamlarda lgs konuÅŸulunca daralÄ±yorum",
    "a": "Konuyu nazikÃ§e deÄŸiÅŸtir. Zihnini sÄ±nav gÃ¼ndeminden arada Ã§Ä±karmak ÅŸart."
  },
  {
    "q": "Ã¶ÄŸle aramda bile test Ã§Ã¶zÃ¼yorum, doÄŸru mu",
    "a": "Ã–ÄŸle arasÄ±nda beynini dinlendirmen daha verimli olur. Hava al ve sohbet et."
  },
  {
    "q": "abim/ablam beni Ã§ok sÄ±kÄ±ÅŸtÄ±rÄ±yor",
    "a": "OnlarÄ± gardiyan deÄŸil deneyimli rehberler olarak gÃ¶r, tecrÃ¼belerinden faydalan."
  },
  {
    "q": "haftalÄ±k 1 gÃ¼n tatil Ã§ok mu",
    "a": "Asla! 1 gÃ¼n tam dinlenmek, kalan 6 gÃ¼nÃ¼ %100 verimle geÃ§irmeni saÄŸlar."
  },
  {
    "q": "whatsapp durumlarÄ±na bakmadan duramÄ±yorum",
    "a": "Odak modunu kullan. Sosyal medya dÃ¼nyasÄ±nÄ± Ã§alÄ±ÅŸma masanÄ±n dÄ±ÅŸÄ±nda bÄ±rak."
  },
  {
    "q": "okulda Ã§ok popÃ¼ler olmak istiyorum",
    "a": "En bÃ¼yÃ¼k popÃ¼lerlik yÄ±l sonunda istediÄŸin okulu kazandÄ±ÄŸÄ±nda gelen baÅŸarÄ±dÄ±r."
  },
  {
    "q": "ders Ã§alÄ±ÅŸÄ±rken dÄ±ÅŸarÄ±dan gelen Ã§ocuk sesleri",
    "a": "Onlar bugÃ¼n oynuyor, sen geleceÄŸini kurguluyorsun. KulaklÄ±kla sessiz mÃ¼zik dene."
  },
  {
    "q": "pazar sabahÄ± uyanmak Ã§ok zor",
    "a": "GÃ¼zel bir kahvaltÄ± Ã¶dÃ¼lÃ¼ koy. Pazar sabahÄ± 2 saatlik Ã§alÄ±ÅŸma Ã§ok ÅŸey fark ettirir."
  },
  {
    "q": "Ã¶zel gÃ¼nlerde (dÃ¼ÄŸÃ¼n vb.) gitmek zorunda mÄ±yÄ±m",
    "a": "Ailene planÄ±nÄ± anlatÄ±rsan anlayÄ±ÅŸ gÃ¶stereceklerdir. Evde kalÄ±p plana sadÄ±k ol."
  },
  {
    "q": "Youtube'da ders videolarÄ± dÄ±ÅŸÄ±nda her ÅŸeye bakÄ±yorum",
    "a": "Sadece eÄŸitim kanallarÄ± olan ayrÄ± bir Google hesabÄ± aÃ§, algoritma seni Ã§ekmesin."
  },
  {
    "q": "kÃ¼tÃ¼phanede arkadaÅŸÄ±mla Ã§ok konuÅŸuyoruz",
    "a": "MasalarÄ±nÄ±zÄ± ayÄ±rÄ±n. Sohbeti sadece birleÅŸtirdiÄŸiniz mola saatlerine saklayÄ±n."
  },
  {
    "q": "ders Ã§alÄ±ÅŸmaktan hobilerimi unuttum",
    "a": "GÃ¼nde 15 dakika bile olsa hobinle ilgilen. Ruhunu beslemek derslerine iyi gelir."
  },
  {
    "q": "arkadaÅŸ grubumdan dÄ±ÅŸlanmaktan korkuyorum",
    "a": "GerÃ§ek arkadaÅŸlar hedefine saygÄ± duyar. DoÄŸru dostlarÄ±n seninle gurur duyacaktÄ±r."
  },
  {
    "q": "okul servisinde vaktim boÅŸa gidiyor",
    "a": "Servis vaktini kelime ezberi veya tekrar kartlarÄ± iÃ§in kullanarak deÄŸerlendir."
  },
  {
    "q": "moralim bozukken hiÃ§ Ã§alÄ±ÅŸasÄ±m gelmiyor",
    "a": "O gÃ¼n en sevdiÄŸin branÅŸÄ± seÃ§ ve sadece 15 dakika bak; bazen baÅŸlamak morali dÃ¼zeltir."
  },
  {
    "q": "baÅŸarÄ±lÄ± olursam ailem bana ne alacak",
    "a": "En bÃ¼yÃ¼k Ã¶dÃ¼l baÅŸarÄ±nÄ±n getirdiÄŸi Ã¶zgÃ¼ven ve fÄ±rsatlardÄ±r."
  },
  {
    "q": "dershane Ã§Ä±kÄ±ÅŸÄ± arkadaÅŸlarla takÄ±lmak",
    "a": "Haftada bir gÃ¼n sosyalleÅŸmek Ã¶nemli ama Ã¶nceliÄŸin derslerin olsun."
  },
  {
    "q": "okuldaki projeler lgs'ye engel mi",
    "a": "Zaman yÃ¶netimiyle ikisini de yÃ¼rÃ¼tebilirsin. Projeler Ã¶ÄŸrenmene katkÄ± saÄŸlar."
  },
  {
    "q": "akÅŸamlarÄ± televizyon sesi dikkatimi daÄŸÄ±tÄ±yor",
    "a": "Ailenden sessiz bir ortam saÄŸlamalarÄ±nÄ± rica et veya kulak tÄ±kacÄ± kullan."
  },
  {
    "q": "baÅŸarÄ±rsam arkadaÅŸlarÄ±m beni kÄ±skanÄ±r mÄ±",
    "a": "GerÃ§ek arkadaÅŸlar senin baÅŸarÄ±nla gurur duyar. KÄ±skananlarÄ± dert etme."
  },
  {
    "q": "bilgisayar oyunlarÄ±nÄ± sileyim mi",
    "a": "KontrolÃ¼n dÄ±ÅŸÄ±na Ã§Ä±kÄ±yorsa sÄ±nÄ±rlÄ± zaman ayÄ±rmayÄ± Ã¶ÄŸren, tamamen silme."
  },
  {
    "q": "evde sÃ¼rekli 'hadi dersine' denmesi",
    "a": "PlanÄ±nÄ± onlara gÃ¶ster, ne zaman Ã§alÄ±ÅŸacaÄŸÄ±nÄ± bilirlerse rahat bÄ±rakÄ±rlar."
  },
  {
    "q": "arkadaÅŸlarÄ±mla ortak Ã§alÄ±ÅŸma grubu kurduk",
    "a": "Harika! Birbirinizi motive edin ama gereksiz sohbetlere kapÄ±lmayÄ±n."
  },
  {
    "q": "LGS sÃ¼reci kiÅŸiliÄŸimi deÄŸiÅŸtirir mi",
    "a": "Bu sÃ¼reÃ§ seni daha disiplinli ve sorumluluk sahibi biri yapar, bu iyidir."
  },
  {
    "q": "sosyal medyada ders Ã§alÄ±ÅŸma videolarÄ± Ã§ekmek",
    "a": "Vakit kaybÄ± olabilir, odaklanmana engel oluyorsa bÄ±rak."
  },
  {
    "q": "hafta iÃ§i spora gitmek",
    "a": "Spor stres atmana yardÄ±mcÄ± olur, haftada 2-3 gÃ¼n idealdir."
  },
  {
    "q": "yemek yerken bile video izliyorum",
    "a": "Yemek zamanlarÄ±nda dinlen, beynini dinlendir."
  },
  {
    "q": "sÄ±nav stresi yÃ¼zÃ¼nden uykumda sayÄ±klÄ±yorum",
    "a": "RahatlatÄ±cÄ± mÃ¼zikler dinle veya uyumadan Ã¶nce kitap oku."
  },
  {
    "q": "okul gezilerine katÄ±lmalÄ± mÄ±yÄ±m",
    "a": "Ã–nemli bir Ã§alÄ±ÅŸma gÃ¼nÃ¼ deÄŸilse katÄ±l, sosyalleÅŸmek de Ã¶nemli."
  },
  {
    "q": "internetsiz ders Ã§alÄ±ÅŸamÄ±yorum",
    "a": "Ä°nterneti sadece ihtiyacÄ±n olduÄŸunda kullan, dikkat daÄŸÄ±tÄ±cÄ± sitelerden uzak dur."
  },
  {
    "q": "aile toplantÄ±larÄ± Ã§ok uzun sÃ¼rÃ¼yor",
    "a": "PlanÄ±na uygun olduÄŸu sÃ¼rece katÄ±l, Ã§alÄ±ÅŸma saatlerini koru."
  },
  {
    "q": "arkadaÅŸÄ±mÄ±n netleri benden Ã§ok hÄ±zlÄ± artÄ±yor",
    "a": "Herkesin Ã¶ÄŸrenme hÄ±zÄ± farklÄ±dÄ±r, kendine odaklan."
  },
  {
    "q": "lgs 2026'da derece yaparsam rÃ¶portaj verir miyim",
    "a": "Tabii ki! BaÅŸarÄ±nÄ± paylaÅŸmak hem seni mutlu eder hem de baÅŸkalarÄ±na ilham olur."
  },
  {
    "q": "akÅŸamlarÄ± kahve iÃ§mek uykumu kaÃ§Ä±rÄ±r mÄ±",
    "a": "AkÅŸam geÃ§ saatlerde kafein tÃ¼ketme, uyku kaliteni bozabilir."
  },
  {
    "q": "Ã§alÄ±ÅŸÄ±rken sÃ¼rekli bir ÅŸeyler atÄ±ÅŸtÄ±rmak istiyorum",
    "a": "SaÄŸlÄ±klÄ± atÄ±ÅŸtÄ±rmalÄ±klar seÃ§, abur cuburdan uzak dur."
  },
  {
    "q": "hafta sonu geÃ§ uyanmak planÄ±mÄ± bozuyor",
    "a": "Hafta sonu da erken kalkmaya Ã§alÄ±ÅŸ, biyoritmini koru."
  },
  {
    "q": "okulda teneffÃ¼slerde soru Ã§Ã¶zmek",
    "a": "Ä°yi bir fikir, ancak dinlenmek iÃ§in de zaman ayÄ±r."
  },
  {
    "q": "arkadaÅŸÄ±m sÃ¼rekli 'Ã§alÄ±ÅŸmÄ±yorum' diyor ama yÃ¼ksek yapÄ±yor",
    "a": "SÃ¶ylediklerine deÄŸil, kendi Ã§alÄ±ÅŸmalarÄ±na odaklan."
  },
  {
    "q": "annem odamÄ± toplarken notlarÄ±mÄ± karÄ±ÅŸtÄ±rÄ±yor",
    "a": "NotlarÄ±nÄ± dÃ¼zenli tut ve anneni nazikÃ§e uyar."
  },
  {
    "q": "hayallerimdeki lise Ã§ok uzaktaysa",
    "a": "UzaklÄ±k engel deÄŸil, eÄŸer gerÃ§ekten istiyorsan baÅŸarabilirsin."
  },
  {
    "q": "sosyal medya detoksu yapmalÄ± mÄ±yÄ±m",
    "a": "Evet, ders Ã§alÄ±ÅŸÄ±rken sosyal medyadan uzak durmak odaklanmanÄ± artÄ±rÄ±r."
  },
  {
    "q": "ders Ã§alÄ±ÅŸÄ±rken telefonum yanÄ±mda dursun mu",
    "a": "HayÄ±r, dikkatini daÄŸÄ±tÄ±r. BaÅŸka odaya koy veya sessize al."
  },
  {
    "q": "akÅŸamlarÄ± Ã§ok Ã§abuk yoruluyorum",
    "a": "GÃ¼ndÃ¼z derslerini bitir, akÅŸam hafif tekrarlar yap."
  },
  {
    "q": "arkadaÅŸlarÄ±m deneme sonuÃ§larÄ±nÄ± yarÄ±ÅŸtÄ±rÄ±yor",
    "a": "Onlarla yarÄ±ÅŸma, kendi geliÅŸimine odaklan."
  },
  {
    "q": "lgs motivasyon videolarÄ± iÅŸe yarar mÄ±",
    "a": "KÄ±sa sÃ¼reli motive eder, ama asÄ±l motivasyon iÃ§inden gelmeli."
  },
  {
    "q": "sÄ±nav senesinde aÅŸÄ±k oldum",
    "a": "DuygularÄ±nÄ± kontrol et, derslerini aksatmayacak ÅŸekilde davran."
  },
  {
    "q": "evde tek baÅŸÄ±ma Ã§alÄ±ÅŸamÄ±yorum",
    "a": "KÃ¼tÃ¼phaneye git veya online Ã§alÄ±ÅŸma gruplarÄ±na katÄ±l."
  },
  {
    "q": "okuldan gelince hemen masaya mÄ± oturmalÄ±yÄ±m",
    "a": "Ã–nce biraz dinlen, sonra derse baÅŸla."
  },
  {
    "q": "deneme sabahÄ± ne yemeliyim",
    "a": "Hafif ve besleyici bir kahvaltÄ± yap, aÄŸÄ±r yemekten kaÃ§Ä±n."
  },
  {
    "q": "baÅŸarÄ±sÄ±z olursam Ã¶ÄŸretmenlerim ne der",
    "a": "Ã–ÄŸretmenlerin senin elinden geleni yaptÄ±ÄŸÄ±nÄ± bilir, destek olurlar."
  },
  {
    "q": "sÃ¼rekli test Ã§Ã¶zmekten boynum tutuldu",
    "a": "Ara verip esneme hareketleri yap, dik oturmaya dikkat et."
  },
  {
    "q": "arkadaÅŸlarÄ±mla dertleÅŸmek zaman kaybÄ± mÄ±",
    "a": "HayÄ±r, duygusal destek almak Ã¶nemlidir, ama Ã¶lÃ§Ã¼lÃ¼ ol."
  },
  {
    "q": "ders Ã§alÄ±ÅŸÄ±rken hayal kurmak odaklanmayÄ± bozar mÄ±",
    "a": "Evet, dikkatini toplamaya Ã§alÄ±ÅŸ, hayalleri mola zamanlarÄ±na sakla."
  },
  {
    "q": "en iyi lise hangisi",
    "a": "Kendi ilgi ve yeteneklerine uygun olan en iyi lisendir."
  },
  {
    "q": "sÄ±nav yaklaÅŸtÄ±kÃ§a iÅŸtahÄ±m kesiliyor",
    "a": "Stres iÅŸtahÄ± etkiler, kÃ¼Ã§Ã¼k ve sÄ±k Ã¶ÄŸÃ¼nler ye."
  },
  {
    "q": "lgs'de full Ã§ekmek mÃ¼mkÃ¼n mÃ¼",
    "a": "Evet, dÃ¼zenli Ã§alÄ±ÅŸan ve azmeden her Ã¶ÄŸrenci baÅŸarabilir."
  },
  {
    "q": "tatilde akrabalara gitmeli miyiz",
    "a": "KÄ±sa sÃ¼reli git, Ã§alÄ±ÅŸma dÃ¼zenini bozma."
  },
  {
    "q": "ders Ã§alÄ±ÅŸÄ±rken sÃ¼rekli saate bakÄ±yorum",
    "a": "Saati gÃ¶zden uzak tut, zamanÄ± unutup derse odaklan."
  },
  {
    "q": "baÅŸarÄ±rsam kendime ne alayÄ±m",
    "a": "Kendini Ã¶dÃ¼llendirmek gÃ¼zel, ama baÅŸarÄ± en bÃ¼yÃ¼k Ã¶dÃ¼ldÃ¼r."
  },
  {
    "q": "lgs gÃ¼nÃ¼ yaÄŸmur yaÄŸarsa",
    "a": "YaÄŸmurluk veya ÅŸemsiye al, erken yola Ã§Ä±k."
  },
  {
    "q": "Ã§evremdeki herkes benden Ã§ok ÅŸey bekliyor",
    "a": "Sen kendi beklentilerini karÅŸÄ±lamaya odaklan, baÅŸkalarÄ±nÄ±n beklentilerini dert etme."
  },
  {
    "q": "akÅŸamlarÄ± ders Ã§alÄ±ÅŸÄ±rken Ä±ÅŸÄ±k nasÄ±l olmalÄ±",
    "a": "Yeterli ve gÃ¶z yormayan bir Ä±ÅŸÄ±k kullan."
  },
  {
    "q": "denemede kalemimin ucu sÃ¼rekli kÄ±rÄ±lÄ±yor",
    "a": "YumuÅŸak uÃ§lu kalem kullan veya yedek bulundur."
  },
  {
    "q": "test kitabÄ±nÄ±n Ã¼zerine not almak doÄŸru mu",
    "a": "Evet, Ã¶nemli noktalarÄ± not almak faydalÄ±dÄ±r."
  },
  {
    "q": "lgs'de yanlÄ±ÅŸlar doÄŸrularÄ± gÃ¶tÃ¼rÃ¼yor mu",
    "a": "Evet, 3 yanlÄ±ÅŸ 1 doÄŸruyu gÃ¶tÃ¼rÃ¼r, emin olmadÄ±ÄŸÄ±n soruyu boÅŸ bÄ±rak."
  },
  {
    "q": "kitapÃ§Ä±kta Ã§Ã¶zÃ¼p optiÄŸe geÃ§irmeyi unutursam",
    "a": "Her sayfa sonunda kontrol et, unutma."
  },
  {
    "q": "Ã§alÄ±ÅŸÄ±rken bacaklarÄ±mÄ± sallÄ±yorum",
    "a": "Bu dikkat daÄŸÄ±tabilir, mÃ¼mkÃ¼n olduÄŸunca hareketsiz durmaya Ã§alÄ±ÅŸ."
  },
  {
    "q": "lgs 2026 sorularÄ± 2025'ten kolay mÄ± olur",
    "a": "Belli olmaz, sen en zora hazÄ±rlan."
  },
  {
    "q": "sÄ±nav salonunda gÃ¶zetmen Ã§ok hareket ederse",
    "a": "Dikkatini toplamaya Ã§alÄ±ÅŸ, sorulara odaklan."
  },
  {
    "q": "baÅŸarÄ±lÄ± insanlarÄ±n sabah rutinleri",
    "a": "Erken kalkar, egzersiz yapar ve planlÄ± Ã§alÄ±ÅŸÄ±rlar."
  },
  {
    "q": "lgs'den sonra hayat nasÄ±l olacak",
    "a": "Rahatlayacak, yeni hedefler belirleyecek ve baÅŸarÄ±larÄ±nÄ±n keyfini Ã§Ä±karacaksÄ±n."
  },
  {
    "q": "okulda herkes birbirine hava atÄ±yor",
    "a": "Onlara takÄ±lma, kendi yoluna bak."
  },
  {
    "q": "ders Ã§alÄ±ÅŸÄ±rken uyuÅŸukluk Ã§Ã¶kÃ¼yor",
    "a": "KÄ±sa bir mola ver, temiz hava al."
  },
  {
    "q": "sÄ±navda silgi izi kalÄ±rsa",
    "a": "Silgiyi temiz kullan, iz bÄ±rakmamaya dikkat et."
  },
  {
    "q": "lgs puan hesaplama robotlarÄ± doÄŸru mu",
    "a": "YaklaÅŸÄ±k deÄŸer verir, resmi sonuÃ§larÄ± bekle."
  },
  {
    "q": "ders Ã§alÄ±ÅŸÄ±rken ayaÄŸÄ±mÄ± masanÄ±n altÄ±na uzatÄ±yorum",
    "a": "Rahat ettiÄŸin pozisyonda Ã§alÄ±ÅŸ, ama dik oturmaya Ã¶zen gÃ¶ster."
  },
  {
    "q": "sÄ±nav sabahÄ± heyecandan bir ÅŸey yiyemezsem",
    "a": "Az da olsa bir ÅŸeyler ye, aÃ§ karnÄ±na sÄ±nava girme."
  },
  {
    "q": "lgs 2026'ya kadar kaÃ§ test kitabÄ± bitirmeliyim",
    "a": "Kaliteli Ã§alÄ±ÅŸmak Ã¶nemli, sayÄ± deÄŸil."
  },
  {
    "q": "arkadaÅŸlarÄ±m Whatsapp'tan Ã§Ä±kmÄ±ÅŸ",
    "a": "OnlarÄ±n tercihi, sen kendi planÄ±na odaklan."
  },
  {
    "q": "Ã§alÄ±ÅŸÄ±rken sÃ¼rekli mÃ¼zik mÄ±rÄ±ldanÄ±yorum",
    "a": "Bu dikkatini daÄŸÄ±tÄ±yorsa sessiz Ã§alÄ±ÅŸmayÄ± dene."
  },
  {
    "q": "lgs rehberlik hocasÄ±yla ne konuÅŸmalÄ±yÄ±m",
    "a": "EndiÅŸelerini, hedeflerini ve Ã§alÄ±ÅŸma planÄ±nÄ± paylaÅŸ."
  },
  {
    "q": "ders Ã§alÄ±ÅŸÄ±rken kaÄŸÄ±tlarÄ± yÄ±rtÄ±p atÄ±yorum sinirden",
    "a": "Sinirlenince mola ver, sakinleÅŸince devam et."
  },
  {
    "q": "baÅŸarÄ±rsam hayatÄ±m gerÃ§ekten deÄŸiÅŸecek mi",
    "a": "Evet, daha iyi bir lisede eÄŸitim almak geleceÄŸini ÅŸekillendirir."
  },
  {
    "q": "sÄ±navda bir soruda 5 dakika takÄ±ldÄ±m",
    "a": "Zaman kaybetme, iÅŸaret koyup geÃ§, sonra dÃ¶nersin."
  },
  {
    "q": "lgs 2026 ÅŸifreleri var mÄ±",
    "a": "Åifre yok, dÃ¼zenli Ã§alÄ±ÅŸmak ve azim var."
  },
  {
    "q": "annem test Ã§Ã¶zerken sÃ¼rekli meyve getiriyor",
    "a": "TeÅŸekkÃ¼r et, molanda ye."
  },
  {
    "q": "okulda deneme olurken karnÄ±m guruldadÄ±",
    "a": "DoÄŸal bir durum, kimse takmaz."
  },
  {
    "q": "matematik yeni nesil sorularÄ± hikaye gibi",
    "a": "Evet, Ã¶nce hikayeyi anla, sonra matematiksel Ã§Ã¶zÃ¼me geÃ§."
  },
  {
    "q": "lgs'de kalemtraÅŸ Ã§Ã¶pÃ¼mÃ¼ nereye atacaÄŸÄ±m",
    "a": "Masada bÄ±rak, gÃ¶zetmen toplar."
  },
  {
    "q": "Ã§alÄ±ÅŸÄ±rken sÃ¼rekli esniyorum",
    "a": "OdayÄ± havalandÄ±r, derin nefes al."
  },
  {
    "q": "lgs 2026'yÄ± kazanÄ±rsam hediye ne istersin",
    "a": "Senin baÅŸarÄ±n en gÃ¼zel hediye!"
  },
  {
    "q": "haftalÄ±k ders programÄ±mÄ± kendim mi yapmalÄ±yÄ±m",
    "a": "Evet, kendi ihtiyaÃ§larÄ±na gÃ¶re program yap en iyisi."
  },
  {
    "q": "lgs'de turlama tekniÄŸi hayat kurtarÄ±r mÄ±",
    "a": "Evet, zaman yÃ¶netimi iÃ§in Ã§ok faydalÄ±dÄ±r."
  },
  {
    "q": "Ã§alÄ±ÅŸÄ±rken telefonumdan bildirim geliyor",
    "a": "Bildirimleri kapat, dikkatini topla."
  },
  {
    "q": "baÅŸarÄ±lÄ± Ã¶ÄŸrenciler Ã§ok mu zeki",
    "a": "Zeka Ã¶nemli ama disiplin ve Ã§alÄ±ÅŸmak daha Ã¶nemli."
  },
  {
    "q": "lgs'ye 2026'ya kadar sosyal aktiviteleri azaltmalÄ± mÄ±yÄ±m",
    "a": "Tamamen kesme, sÄ±nÄ±rlÄ± tut."
  },
  {
    "q": "deneme Ã§Ã¶zerken odaklanamÄ±yorum, sesler batÄ±yor",
    "a": "Kulak tÄ±kacÄ± kullan veya sessiz bir ortam bul."
  },
  {
    "q": "matematikte negatif sayÄ±lar kafa karÄ±ÅŸtÄ±rÄ±yor",
    "a": "Pratik yap, kurallarÄ± iyi Ã¶ÄŸren."
  },
  {
    "q": "lgs 2026'da TÃ¼rkÃ§e mi daha Ã¶nemli Matematik mi",
    "a": "Ä°kisi de Ã§ok Ã¶nemli, ikisine de eÅŸit aÄŸÄ±rlÄ±k ver."
  },
  {
    "q": "Ã§alÄ±ÅŸma masam pencere kenarÄ±nda, dÄ±ÅŸarÄ± bakÄ±yorum",
    "a": "Dikkatini daÄŸÄ±tÄ±yorsa masanÄ±n yÃ¶nÃ¼nÃ¼ deÄŸiÅŸtir."
  },
  {
    "q": "sÄ±navda siligim yere dÃ¼ÅŸerse",
    "a": "Elini kaldÄ±r, gÃ¶zetmenden yardÄ±m iste."
  },
  {
    "q": "baÅŸarÄ±sÄ±zlÄ±k korkusu beni kilitliyor",
    "a": "Korkunu kabul et ama onun seni yÃ¶netmesine izin verme."
  },
  {
    "q": "lgs 2026'ya kaÃ§ gÃ¼n kaldÄ± tam olarak",
    "a": "Hedef tarihe odaklan, her gÃ¼nÃ¼ iyi deÄŸerlendir."
  },
  {
    "q": "Ã§alÄ±ÅŸÄ±rken sÃ¼rekli kalemle oynuyorum",
    "a": "Bu dikkat daÄŸÄ±tÄ±cÄ± olabilir, kalemi bÄ±rakÄ±p derse odaklan."
  },
  {
    "q": "baÅŸarÄ±lÄ± olursam herkes beni sevecek mi",
    "a": "Ã–nemli olan senin kendini sevmen ve deÄŸer vermen."
  },
  {
    "q": "lgs gÃ¼nÃ¼ kahvaltÄ±da Ã§ok yemeli miyim",
    "a": "HayÄ±r, hafif ve besleyici bir kahvaltÄ± yap."
  },
  {
    "q": "deneme sonucumu rehber hocama gÃ¶stermeye utanÄ±yorum",
    "a": "UtangaÃ§ olma, rehber hocan sana yardÄ±mcÄ± olmak iÃ§in orada."
  },
  {
    "q": "Ã§alÄ±ÅŸÄ±rken sÃ¼rekli tatlÄ± bir ÅŸeyler yemek istiyorum",
    "a": "SaÄŸlÄ±klÄ± tatlÄ± alternatiflerine yÃ¶nel."
  },
  {
    "q": "lgs 2026 sÄ±navÄ±nda kaÃ§ soru var",
    "a": "90 soru var: 50 sÃ¶zel, 40 sayÄ±sal."
  },
  {
    "q": "ders Ã§alÄ±ÅŸÄ±rken mÃ¼zik dinlemek ezberlemeyi zorlaÅŸtÄ±rÄ±r mÄ±",
    "a": "Evet, Ã¶zellikle sÃ¶zel derslerde sessizlik daha iyidir."
  },
  {
    "q": "lgs ÅŸampiyonu olmak iÃ§in ne yapmalÄ±yÄ±m",
    "a": "Disiplinli Ã§alÄ±ÅŸ, dÃ¼zenli tekrar yap ve kendine inan."
  }
],
            lgsTopics: lgsTopicsData,
            unlockedBadges: [],
            learnedWords: 0,
            friends: initialFriends,
            examSchedule: [],
            virtualRivals: [],
            completedTasks: 0,
            completedTopics: 0
        };

        let pomodoro = { timeLeft: 1500, timer: null, mode: 'work', active: false };
        let ambientAudio = null;
        let editingFriendId = null;
        let editingFormulaCardId = null;
        let selectedMedia = null;
        let selectedMediaType = null;

        // QA dÃ¼zenleme iÃ§in deÄŸiÅŸkenler
        let editingQAIndex = null;

        const storage = {
            save: () => { 
                state.user.level = Math.floor(state.user.points / 500) + 1;
                
                state.completedTopics = 0;
                state.lgsTopics.forEach(subject => {
                    subject.topics.forEach(topic => {
                        if (topic.completed) state.completedTopics++;
                    });
                });
                
                localStorage.setItem('mentor_v21_plus', JSON.stringify(state)); 
                updateDashboard(); 
            },
            load: () => {
                const s = localStorage.getItem('mentor_v21_plus');
                if (s) {
                    const saved = JSON.parse(s);
                    
                    if (saved.lgsTopics && !Array.isArray(saved.lgsTopics[0]?.topics)) {
                        saved.lgsTopics = lgsTopicsData;
                    }
                    
                    if (!saved.friends || !Array.isArray(saved.friends)) {
                        saved.friends = initialFriends;
                    }
                    
                    if (!saved.formulaCards || !Array.isArray(saved.formulaCards)) {
                        saved.formulaCards = formulaCards;
                    }
                    
                    saved.friends.forEach(friend => {
                        if (!friend.createdAt) {
                            friend.createdAt = new Date().toISOString();
                        }
                    });
                    
                    state = { ...state, ...saved, user: { ...state.user, ...saved.user } };
                }
                document.body.className = "theme-" + state.user.theme;
                document.documentElement.style.setProperty('--base-text-size', state.user.fontSize + 'px');
                checkDailyTasks();
                checkBadges();
                
                updateFriendScores();
            }
        };

        function checkDailyTasks() {
            const today = new Date().toLocaleDateString('tr-TR');
            if (state.user.lastVisit !== today) {
                const dailyTasks = [
                    { id: Date.now() + 1, text: "GÃ¼nde 20 Paragraf Ã‡Ã¶z", completed: false, isAuto: true },
                    { id: Date.now() + 2, text: "10 Ä°ngilizce Flashcard kelimesi Ã§alÄ±ÅŸ", completed: false, isAuto: true }
                ];
                state.todos = [...state.todos.filter(t => !t.isAuto), ...dailyTasks];
                state.user.lastVisit = today;
                storage.save();
            }
        }

        function checkBadges() {
            state.unlockedBadges = state.unlockedBadges.filter(b => badgesPool.find(poolB => poolB.id === b));
            badgesPool.forEach(badge => {
                if (!state.unlockedBadges.includes(badge.id) && badge.condition(state)) {
                    state.unlockedBadges.push(badge.id);
                }
            });
        }

        const utils = {
            escape: t => { let d = document.createElement('div'); d.textContent = t; return d.innerHTML; },
            getDaysLeft: () => {
                let t = new Date(state.user.examDate).getTime();
                let n = new Date().getTime();
                return Math.max(0, Math.ceil((t-n)/(1000*60*60*24)));
            },
            getAverageScore: () => {
                if(state.exams.length === 0) return 0;
                const sum = state.exams.reduce((acc, curr) => acc + parseFloat(curr.score), 0);
                return (sum / state.exams.length).toFixed(1);
            },
            getRandomAdvice: (perc) => {
                let pool = perc >= 85 ? advicePool.excellent : perc >= 65 ? advicePool.good : perc >= 40 ? advicePool.average : advicePool.low;
                return pool[Math.floor(Math.random() * pool.length)];
            },
            getTopicCompletionPercentage: () => {
                let totalTopics = 0;
                let completedTopics = 0;
                
                state.lgsTopics.forEach(subject => {
                    subject.topics.forEach(topic => {
                        totalTopics++;
                        if (topic.completed) completedTopics++;
                    });
                });
                
                return totalTopics > 0 ? Math.round((completedTopics / totalTopics) * 100) : 0;
            },
            formatDate: (dateString) => {
                const date = new Date(dateString);
                return date.toLocaleDateString('tr-TR', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }
        };

        function changeFontSize(dir) {
            state.user.fontSize = Math.min(Math.max(12, state.user.fontSize + dir), 24);
            document.documentElement.style.setProperty('--base-text-size', state.user.fontSize + 'px');
            storage.save();
        }

        // --- GÃœNLÃœK SANAL RAKÄ°P OLUÅTURMA FONKSÄ°YONU ---
        function generateDailyVirtualFriends() {
            const today = new Date().toISOString();
            const existingNames = state.friends.map(f => f.name);
            
            const newFriendCount = 2 + Math.floor(Math.random() * 3);
            
            for (let i = 0; i < newFriendCount; i++) {
                let availableNames = virtualFriendNames.filter(name => !existingNames.includes(name));
                if (availableNames.length === 0) {
                    availableNames = virtualFriendNames;
                }
                
                const randomName = availableNames[Math.floor(Math.random() * availableNames.length)];
                existingNames.push(randomName);
                
                const avatars = ["ğŸ‘¨", "ğŸ‘©", "ğŸ§‘", "ğŸ‘¦", "ğŸ‘§", "ğŸ‘´", "ğŸ¤–", "ğŸ˜", "ğŸ§ ", "ğŸŒŸ"];
                const randomAvatar = avatars[Math.floor(Math.random() * avatars.length)];
                
                let initialScore;
                const userAvg = state.user.averageScore || 480;
                
                if (userAvg > 0) {
                    const rand = Math.random();
                    if (rand < 0.3) {
                        initialScore = userAvg * (1.1 + Math.random() * 0.15);
                    } else if (rand < 0.7) {
                        initialScore = userAvg * (0.9 + Math.random() * 0.2);
                    } else {
                        initialScore = userAvg * (0.7 + Math.random() * 0.2);
                    }
                    
                    initialScore = Math.min(initialScore, 520);
                    initialScore = Math.max(initialScore, 400);
                } else {
                    initialScore = 450 + Math.random() * 50;
                }
                
                state.friends.push({
                    id: Date.now() + i,
                    name: randomName,
                    avatar: randomAvatar,
                    score: Math.round(initialScore * 10) / 10,
                    points: 1000 + Math.floor(initialScore) + Math.floor(Math.random() * 300),
                    isVirtual: true,
                    createdAt: today
                });
            }
            
            const oneWeekAgo = new Date();
            oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
            
            state.friends = state.friends.filter(friend => {
                if (!friend.isVirtual) return true;
                if (!friend.createdAt) return true;
                
                const createdDate = new Date(friend.createdAt);
                return createdDate > oneWeekAgo;
            });
        }

        // --- ARKADAÅ PUANLARINI GÃœNCELLEME FONKSÄ°YONU ---
        function updateFriendScores() {
            const today = new Date().toLocaleDateString('tr-TR');
            
            if (state.user.lastFriendUpdate !== today) {
                generateDailyVirtualFriends();
                state.user.lastFriendUpdate = today;
            }
            
            const userAvg = parseFloat(utils.getAverageScore()) || 480;
            
            let userBest = 0;
            state.exams.forEach(exam => {
                if (parseFloat(exam.score) > userBest) {
                    userBest = parseFloat(exam.score);
                }
            });
            state.user.bestScore = userBest;
            
            state.user.averageScore = userAvg || 480;
            
            state.friends.forEach(friend => {
                if (friend.isVirtual) {
                    let baseScore;
                    
                    if (userAvg > 0) {
                        const friendType = friend.id % 4;
                        
                        switch(friendType) {
                            case 0:
                                baseScore = userAvg * (1.1 + Math.random() * 0.1);
                                break;
                            case 1:
                                baseScore = userAvg * (0.95 + Math.random() * 0.1);
                                break;
                            case 2:
                                baseScore = userAvg * (0.8 + Math.random() * 0.1);
                                break;
                            case 3:
                                baseScore = userAvg * (0.7 + Math.random() * 0.6);
                                break;
                        }
                        
                        const fluctuation = (Math.random() * 0.1) - 0.05;
                        baseScore = baseScore * (1 + fluctuation);
                        
                        baseScore = Math.min(baseScore, 520);
                        baseScore = Math.max(baseScore, 400);
                        
                    } else {
                        baseScore = 450 + Math.random() * 50;
                    }
                    
                    const oldScore = friend.score || baseScore;
                    const changeRate = 0.2 + Math.random() * 0.1;
                    const change = (baseScore - oldScore) * changeRate;
                    friend.score = oldScore + change;
                    
                    friend.points = 1000 + Math.floor(friend.score) + Math.floor(Math.random() * 200);
                    
                    friend.score = Math.round(friend.score * 10) / 10;
                }
            });
            
            state.friends.sort((a, b) => b.score - a.score);
            
            if (state.friends.length > 8) {
                const realFriends = state.friends.filter(f => !f.isVirtual);
                const virtualFriends = state.friends.filter(f => f.isVirtual);
                
                const recentVirtualFriends = virtualFriends
                    .sort((a, b) => new Date(b.createdAt || 0) - new Date(a.createdAt || 0))
                    .slice(0, Math.max(5, 8 - realFriends.length));
                
                state.friends = [...realFriends, ...recentVirtualFriends];
            }
            
            storage.save();
        }

        // --- ROUTER ---
        const router = {
            currentPage: 'home',
            navigate(page) {
                this.currentPage = page;
                this.render();
                document.querySelectorAll('.nav-btn').forEach(b => {
                    b.classList.toggle('active-tab', b.dataset.page === page);
                    b.classList.toggle('text-primary', b.dataset.page === page);
                });
            },
            render() {
                const m = document.getElementById('main-content'); m.innerHTML = '';
                const c = document.createElement('div'); c.className = 'page-transition space-y-6';
                switch(this.currentPage) {
                    case 'home': this.renderHome(c); break;
                    case 'exams': this.renderExams(c); break;
                    case 'coach': this.renderCoach(c); break;
                    case 'tasks': this.renderTasks(c); break;
                    case 'reports': this.renderReports(c); break;
                    case 'english': this.renderEnglish(c); break;
                    case 'topics': this.renderTopics(c); break;
                    case 'badges': this.renderBadges(c); break;
                    case 'friends': this.renderFriends(c); break;
                    case 'examschedule': this.renderExamSchedule(c); break;
                    case 'store': this.renderStore(c); break;
                    case 'settings': this.renderSettings(c); break;
                    case 'formulas': this.renderFormulas(c); break;
                }
                m.appendChild(c);
            },
            renderHome(c) {
                const active = state.todos.filter(t => !t.completed);
                const avg = utils.getAverageScore();
                const target = state.user.targetScore || 500;
                const progress = Math.min(100, (avg / target) * 100).toFixed(0);
                const topicProgress = utils.getTopicCompletionPercentage();

                c.innerHTML = `
                    <div class="glass-card p-6 rounded-[2.5rem] border-l-8 border-primary shadow-lg overflow-hidden relative">
                        <div class="flex justify-between items-start mb-4">
                            <div><h3 class="text-[10px] font-black text-primary uppercase">HEDEF LÄ°SE</h3><p class="text-xl font-black text-gray-800">${state.user.targetSchool}</p></div>
                            <div class="text-right"><p class="text-xs font-bold text-gray-400">Hedef: ${target}</p></div>
                        </div>
                        <div class="w-full h-4 bg-gray-100 rounded-full overflow-hidden mb-2">
                            <div class="h-full bg-primary progress-bar" style="width: ${progress}%"></div>
                        </div>
                        <div class="flex justify-between items-center"><span class="text-[10px] font-bold text-gray-400 uppercase">GeliÅŸim %${progress}</span><span class="text-xs font-black text-primary">${avg} Puan</span></div>
                    </div>

                    <!-- Konu Ä°lerleme -->
                    <div class="glass-card p-5 rounded-3xl border-t-4 border-green-500">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-xs font-black uppercase text-green-600">Konu Ä°lerleme</h3>
                            <span class="text-lg font-black text-green-600">${topicProgress}%</span>
                        </div>
                        <div class="w-full h-3 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-green-500 progress-bar" style="width: ${topicProgress}%"></div>
                        </div>
                        <div class="flex justify-between items-center mt-2">
                            <span class="text-[9px] font-bold text-gray-500">${state.completedTopics} konu tamamlandÄ±</span>
                            <span class="text-[9px] font-bold text-green-600">${topicProgress}% tamamlandÄ±</span>
                        </div>
                    </div>

                    <!-- HÄ±zlÄ± EriÅŸim Ã–zellikleri -->
                    <div class="grid grid-cols-3 gap-3">
                        <div onclick="openPomodoro()" class="glass-card p-4 rounded-3xl text-center touch-feedback">
                            <div class="w-10 h-10 bg-red-100 text-red-600 rounded-2xl mx-auto flex items-center justify-center mb-2"><i class="fas fa-clock text-lg"></i></div>
                            <span class="text-[8px] font-black uppercase">ODAK</span>
                        </div>
                        <div onclick="router.navigate('formulas')" class="glass-card p-4 rounded-3xl text-center touch-feedback">
                            <div class="w-10 h-10 bg-blue-100 text-blue-600 rounded-2xl mx-auto flex items-center justify-center mb-2"><i class="fas fa-file-invoice text-lg"></i></div>
                            <span class="text-[8px] font-black uppercase">FORMÃœL</span>
                        </div>
                        <div onclick="openVoiceNotes()" class="glass-card p-4 rounded-3xl text-center touch-feedback">
                            <div class="w-10 h-10 bg-green-100 text-green-600 rounded-2xl mx-auto flex items-center justify-center mb-2"><i class="fas fa-microphone-alt text-lg"></i></div>
                            <span class="text-[8px] font-bold uppercase">SESLÄ° NOT</span>
                        </div>
                    </div>

                    <div class="glass-card p-6 rounded-[2.5rem] bg-gradient-to-br from-indigo-600 to-indigo-900 text-white shadow-xl">
                        <h2 class="text-xs font-black uppercase opacity-60">LGS 2026 Geri SayÄ±m</h2>
                        <div class="flex items-baseline gap-2 mt-2"><span class="text-5xl font-black">${utils.getDaysLeft()}</span><span class="text-lg font-bold opacity-80 uppercase">GÃ¼n</span></div>
                    </div>

                    <!-- Bekleyen GÃ¶revler -->
                    <div class="space-y-3">
                         <div class="flex justify-between items-center px-1"><h3 class="text-xs font-black uppercase text-gray-400">Bekleyen GÃ¶revler</h3></div>
                         ${active.length === 0 ? '<p class="text-xs text-gray-400 italic text-center p-4 text-gray-500">GÃ¶rev kalmadÄ±!</p>' : 
                         active.map(t => `
                            <div class="glass-card p-4 rounded-2xl flex justify-between items-center border-l-4 border-primary shadow-sm mb-2">
                                <span class="text-xs font-bold text-gray-700">${utils.escape(t.text)}</span>
                                <button onclick="toggleTodo(${t.id})" class="w-6 h-6 border-2 border-primary rounded-lg active:scale-90 shadow-sm"></button>
                            </div>
                        `).join('')}
                    </div>
                `;
            },
            renderFormulas(c) {
                c.innerHTML = `
                    <div class="flex items-center gap-4 mb-4">
                        <button onclick="router.navigate('home')" class="text-primary"><i class="fas fa-arrow-left"></i></button>
                        <h2 class="text-xl font-black uppercase">Bilgi KartlarÄ±</h2>
                        <button onclick="openAddFormulaCard()" class="ml-auto bg-primary text-white px-4 py-2 rounded-xl text-[10px] font-black shadow-lg uppercase">+ Yeni</button>
                    </div>
                    <div class="grid grid-cols-1 gap-4">
                        ${state.formulaCards.map(f => `
                            <div class="glass-card p-5 rounded-3xl border-t-4 border-primary relative">
                                <div class="absolute top-3 right-3 flex gap-2">
                                    <button onclick="editFormulaCard(${f.id})" class="w-7 h-7 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-edit text-xs"></i>
                                    </button>
                                    <button onclick="deleteFormulaCard(${f.id})" class="w-7 h-7 bg-red-100 text-red-600 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-trash text-xs"></i>
                                    </button>
                                </div>
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-indigo-50 text-primary rounded-xl flex items-center justify-center"><i class="fas ${f.icon}"></i></div>
                                    <div><p class="text-[9px] font-black text-gray-400 uppercase">${f.sub}</p><p class="text-xs font-black text-gray-800">${f.title}</p></div>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-2xl text-center text-sm font-bold text-gray-700 mb-3">${f.content}</div>
                                ${f.media ? `
                                    <div class="mt-3">
                                        ${f.mediaType === 'image' ? 
                                            `<img src="${f.media}" class="media-preview w-full">` : 
                                         f.mediaType === 'video' ?
                                            `<video controls class="media-preview w-full"><source src="${f.media}" type="video/mp4"></video>` :
                                            ''
                                        }
                                    </div>
                                ` : ''}
                            </div>
                        `).join('')}
                    </div>
                `;
            },
            renderCoach(c) {
                c.innerHTML = `
                    <div class="flex flex-col h-[65vh]">
                        <div class="flex justify-between items-center mb-3 px-1">
                            <h2 class="text-lg font-black uppercase text-primary">AI KoÃ§</h2>
                            <button onclick="clearChat()" class="text-xs font-black text-red-500 bg-red-50 px-3 py-1.5 rounded-full flex items-center gap-1 touch-feedback clear-chat-btn">
                                <i class="fas fa-trash-alt text-[10px]"></i> SOHBETÄ° SÄ°L
                            </button>
                        </div>
                        <div id="chat-messages" class="chat-messages hide-scrollbar">
                            ${state.messages.map(m => `<div class="flex ${m.sender === 'user' ? 'justify-end' : 'justify-start'}"><div class="chat-bubble ${m.sender === 'user' ? 'chat-user' : 'chat-ai'} shadow-sm">${utils.escape(m.text)}</div></div>`).join('')}
                        </div>
                        <div class="flex gap-2 overflow-x-auto py-3 hide-scrollbar">
                            ${coachQuickReplies.map(r => `<button onclick="sendQuickMsg('${r.q}')" class="bg-white px-3 py-2 rounded-full shadow-sm text-[10px] font-black whitespace-nowrap border border-gray-100 touch-feedback hover:border-primary">${r.text}</button>`).join('')}
                        </div>
                        <div class="relative flex items-center gap-2">
                            <div class="relative flex-1">
                                <input type="text" id="chat-input" placeholder="Yaz veya sesli sor..." class="w-full bg-white border border-gray-200 p-5 rounded-3xl text-sm font-bold shadow-lg outline-none pr-24">
                                <div class="absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2">
                                    <button onclick="startVoiceRec()" id="voice-btn" class="text-gray-400 hover:text-primary transition-all p-2"><i class="fas fa-microphone text-xl"></i></button>
                                    <button onclick="sendChat()" class="w-10 h-10 bg-primary text-white rounded-2xl flex items-center justify-center shadow-md"><i class="fas fa-paper-plane text-sm"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="flex justify-center mt-3"><button onclick="window.speechSynthesis.cancel()" class="text-[9px] font-black uppercase text-red-400 bg-red-50 px-4 py-1.5 rounded-full shadow-sm">Sesi Durdur</button></div>
                    </div>
                `;
                const b = document.getElementById('chat-messages'); if(b) b.scrollTop = b.scrollHeight;
            },
            renderExams(c) {
                c.innerHTML = `
                    <div class="flex justify-between items-center mb-4"><h2 class="text-xl font-black uppercase tracking-tight">Deneme Analizi</h2><button onclick="openExamModal()" class="bg-primary text-white px-4 py-2 rounded-xl text-[10px] font-black shadow-lg uppercase active:scale-95 transition-all">+ Yeni KayÄ±t</button></div>
                    <div class="space-y-3">
                        ${state.exams.length === 0 ? '<p class="text-center p-12 text-gray-400 text-xs italic bg-white/50 rounded-3xl">HenÃ¼z deneme kaydetmedin.</p>' : 
                        state.exams.slice().reverse().map(e => `<div class="glass-card p-5 rounded-3xl flex justify-between items-center touch-feedback border border-transparent hover:border-primary/20" onclick="showExamDetails(${e.id})"><div class="flex items-center gap-4"><div class="w-12 h-12 bg-indigo-50 text-primary rounded-2xl flex items-center justify-center font-black text-xl shadow-inner">${Math.floor(e.score/100)}</div><div><p class="text-xs font-black text-gray-800">${utils.escape(e.name)}</p><p class="text-[8px] text-gray-400 font-bold uppercase">${e.date}</p></div></div><div class="text-right"><p class="text-lg font-black text-primary">${e.score}</p><p class="text-[7px] font-black text-gray-300 uppercase">PUAN</p></div></div>`).join('')}
                    </div>
                `;
            },
            renderTasks(c) {
                const active = state.todos.filter(t => !t.completed);
                const completed = state.todos.filter(t => t.completed);
                c.innerHTML = `
                    <div class="glass-card p-6 rounded-3xl mb-4 border-b-4 border-primary/20"><h3 class="text-xs font-black uppercase text-gray-400 mb-3 tracking-widest">Yeni GÃ¶rev</h3><div class="flex gap-2"><input type="text" id="task-input" placeholder="Ã–rn: 50 Matematik sorusu..." class="flex-1 bg-gray-50 p-4 rounded-2xl text-xs font-bold outline-none border-none"><button onclick="addTask()" class="bg-primary text-white w-14 rounded-2xl flex items-center justify-center shadow-lg active:scale-95"><i class="fas fa-plus"></i></button></div></div>
                    <div class="space-y-6"><section><h4 class="text-[10px] font-black uppercase text-indigo-400 mb-3 px-1 tracking-widest">Bekleyenler</h4><div class="space-y-2">${active.map(t => `<div class="glass-card p-4 rounded-2xl flex items-center justify-between border-l-4 border-primary group shadow-sm transition-all"><div class="flex items-center gap-3"><button onclick="toggleTodo(${t.id})" class="w-6 h-6 border-2 border-primary rounded-lg"></button><span class="text-xs font-bold text-gray-700">${utils.escape(t.text)}</span></div><div class="flex gap-2"><button onclick="editTask(${t.id})" class="text-gray-300 hover:text-indigo-500"><i class="fas fa-edit"></i></button><button onclick="deleteTask(${t.id})" class="text-red-200 hover:text-red-500"><i class="fas fa-trash"></i></button></div></div>`).join('')}</div></section></div>
                `;
            },
            renderReports(c) {
                c.innerHTML = `
                    <h2 class="text-lg font-black uppercase tracking-tighter">HaftalÄ±k SÄ±ralama</h2>
                    <div class="glass-card p-5 rounded-[2.5rem] shadow-sm space-y-4 mb-6">
                        ${leaderboardMock.map((u, i) => `
                            <div class="flex items-center justify-between p-3 ${i===0 ? 'bg-indigo-50' : ''} rounded-2xl">
                                <div class="flex items-center gap-3">
                                    <span class="text-sm font-black text-gray-400">#${i+1}</span>
                                    <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-xl shadow-sm">${u.avatar}</div>
                                    <div><p class="text-xs font-black text-gray-700">${u.name}</p><p class="text-[8px] font-bold text-gray-400">${u.points} Puan</p></div>
                                </div>
                                <div class="text-right text-xs font-black text-primary">${u.score}</div>
                            </div>
                        `).join('')}
                    </div>
                    <h2 class="text-lg font-black uppercase tracking-tighter">BaÅŸarÄ± SÄ±ralamasÄ±</h2>
                    <div class="glass-card p-5 rounded-[2.5rem] shadow-sm mb-4">
                        <div class="space-y-4">
                            ${state.friends.slice(0, 6).map((rival, i) => `
                                <div class="flex items-center justify-between p-3 rounded-2xl">
                                    <div class="flex items-center gap-3">
                                        <span class="text-sm font-black text-gray-400">#${i+1}</span>
                                        <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-xl shadow-sm">${rival.avatar}</div>
                                        <div><p class="text-xs font-black text-gray-700">${rival.name}</p><p class="text-[8px] font-bold text-indigo-400">${rival.points} Puan</p></div>
                                    </div>
                                    <div class="text-right text-xs font-black text-primary">${rival.score} Puan</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    <h2 class="text-lg font-black uppercase tracking-tighter">Analiz</h2>
                    <div class="glass-card p-5 rounded-[2.5rem] shadow-sm mb-4"><canvas id="mainChart" class="w-full h-48"></canvas></div>
                `;
                setTimeout(() => initCharts(), 100);
            },
            renderEnglish(c) {
                c.innerHTML = `<h2 class="text-xl font-black uppercase mb-4 text-cyan-600">Kelime Maratonu</h2><div class="grid grid-cols-1 gap-3">${englishUnits.map(u => `<div class="glass-card p-5 rounded-3xl flex justify-between items-center touch-feedback transition hover:border-cyan-200" onclick="openFlashcards(${u.id})"><div class="flex items-center gap-4"><div class="w-12 h-12 bg-cyan-50 text-cyan-600 rounded-2xl flex items-center justify-center font-black shadow-inner">${u.id}</div><p class="text-xs font-black text-gray-700 uppercase">${u.name}</p></div><i class="fas fa-chevron-right text-gray-200"></i></div>`).join('')}</div>`;
            },
            renderTopics(c) {
                const totalTopics = state.lgsTopics.reduce((sum, subject) => sum + subject.topics.length, 0);
                const completedTopics = state.completedTopics;
                const completionPercentage = utils.getTopicCompletionPercentage();
                
                c.innerHTML = `
                    <div class="flex justify-between items-center mb-4">
                        <div>
                            <h2 class="text-xl font-black uppercase text-green-600">LGS KonularÄ±</h2>
                            <p class="text-[10px] text-gray-500">${completedTopics}/${totalTopics} konu tamamlandÄ± (%${completionPercentage})</p>
                        </div>
                        <button onclick="openTopicManager()" class="bg-green-500 text-white px-4 py-2 rounded-xl text-[10px] font-black shadow-lg uppercase active:scale-95 transition-all">YÃ¶net</button>
                    </div>
                    
                    <div class="space-y-6">
                        ${state.lgsTopics.map(subject => {
                            const subjectCompleted = subject.topics.filter(t => t.completed).length;
                            const subjectTotal = subject.topics.length;
                            const subjectPercentage = subjectTotal > 0 ? Math.round((subjectCompleted / subjectTotal) * 100) : 0;
                            
                            return `
                                <div class="glass-card p-5 rounded-3xl">
                                    <div class="flex justify-between items-center mb-4">
                                        <div class="flex items-center gap-3">
                                            <div class="w-10 h-10 ${subjectPercentage === 100 ? 'bg-green-100 text-green-600' : 'bg-indigo-100 text-indigo-600'} rounded-xl flex items-center justify-center font-black">
                                                ${subjectPercentage === 100 ? 'âœ“' : subject.subject.charAt(0)}
                                            </div>
                                            <div>
                                                <h3 class="text-sm font-black text-gray-800">${subject.subject}</h3>
                                                <p class="text-[9px] text-gray-500">${subjectCompleted}/${subjectTotal} konu</p>
                                            </div>
                                        </div>
                                        <span class="text-xs font-black ${subjectPercentage === 100 ? 'text-green-600' : 'text-indigo-600'}">%${subjectPercentage}</span>
                                    </div>
                                    
                                    <div class="space-y-2">
                                        ${subject.topics.map(topic => `
                                            <div class="topic-item ${topic.completed ? 'completed' : 'selected'} glass-card p-3 rounded-2xl flex items-center justify-between" onclick="toggleTopic('${subject.subject}', '${topic.id}')">
                                                <div class="flex items-center gap-3">
                                                    <div class="topic-badge ${topic.completed ? 'completed' : 'pending'}">
                                                        ${topic.completed ? 'âœ“' : 'â—‹'}
                                                    </div>
                                                    <span class="topic-text text-xs font-bold ${topic.completed ? 'text-green-600' : 'text-gray-700'}">${topic.name}</span>
                                                </div>
                                                ${topic.completed ? 
                                                    '<span class="text-[9px] text-green-600 font-black">TAMAMLANDI</span>' : 
                                                    '<span class="text-[9px] text-indigo-600 font-black">TAMAMLA</span>'
                                                }
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
            },
            renderBadges(c) {
                c.innerHTML = `
                    <h2 class="text-xl font-black uppercase mb-4 text-yellow-600">BaÅŸarÄ± Rozetleri & Kupalar</h2>
                    <div class="grid grid-cols-3 gap-4">
                        ${badgesPool.map(badge => {
                            const unlocked = state.unlockedBadges.includes(badge.id);
                            return `
                                <div class="glass-card p-4 rounded-2xl text-center ${unlocked ? '' : 'opacity-50'}">
                                    <div class="badge mx-auto mb-2 ${unlocked ? '' : 'locked'}" style="background: ${unlocked ? 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)' : '#e5e7eb'}">
                                        ${unlocked ? badge.icon : 'ğŸ”’'}
                                    </div>
                                    <p class="text-[10px] font-black uppercase text-gray-700">${badge.name}</p>
                                    <p class="text-[8px] text-gray-500">${badge.description}</p>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
            },
            renderFriends(c) {
                updateFriendScores();
                
                // KullanÄ±cÄ±yÄ± da sÄ±ralamaya ekle - PUAN olarak
                const userAsCompetitor = {
                    name: state.user.name,
                    score: state.user.averageScore > 0 ? parseFloat(state.user.averageScore) : 
                           (state.user.bestScore > 0 ? state.user.bestScore : 480),
                    points: state.user.points,
                    avatar: state.user.profilePic ? 'ğŸ“·' : 'ğŸ‘¤',
                    isUser: true,
                    totalPoints: state.user.points
                };
                
                const allCompetitors = [...state.friends, userAsCompetitor];
                allCompetitors.sort((a, b) => b.score - a.score);
                
                const userRank = allCompetitors.findIndex(c => c.isUser) + 1;
                
                c.innerHTML = `
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-black uppercase text-blue-600">ArkadaÅŸlÄ±k & Rekabet Sistemi</h2>
                        <button onclick="openAddFriend()" class="bg-blue-500 text-white px-4 py-2 rounded-xl text-[10px] font-black shadow-lg uppercase active:scale-95 transition-all">+ Ekle</button>
                    </div>
                    
                    <!-- SENÄ°N SIRALAMAN -->
                    <div class="glass-card p-5 rounded-[2.5rem] shadow-sm mb-6 bg-gradient-to-r from-blue-50 to-indigo-50">
                        <h3 class="text-xs font-black uppercase text-gray-400 mb-4">SENÄ°N SIRALAMAN</h3>
                        <div class="flex items-center justify-between p-4 bg-white rounded-2xl border-2 border-blue-200">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-2xl shadow-sm">
                                    ${userRank === 1 ? 'ğŸ¥‡' : userRank === 2 ? 'ğŸ¥ˆ' : userRank === 3 ? 'ğŸ¥‰' : 'ğŸ‘¤'}
                                </div>
                                <div>
                                    <p class="text-sm font-black text-gray-800">${state.user.name}</p>
                                    <p class="text-[9px] font-bold text-blue-500">${userRank}. SÄ±rada</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="text-lg font-black text-blue-600">${state.user.averageScore > 0 ? state.user.averageScore.toFixed(1) : '480'} Puan</p>
                                <p class="text-[8px] font-bold text-gray-400 uppercase">ORTALAMA PUAN</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ARKADAÅ LÄ°DERLÄ°K TABLOSU -->
                    <div class="glass-card p-5 rounded-[2.5rem] shadow-sm mb-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xs font-black uppercase text-gray-400">Liderlik SÄ±ralamasÄ±</h3>
                            <span class="text-[10px] font-black text-blue-500">${allCompetitors.length} KiÅŸi</span>
                        </div>
                        <div class="space-y-3">
                            ${allCompetitors.slice(0, 10).map((competitor, index) => `
                                <div class="flex items-center justify-between p-3 ${index < 3 ? 'bg-indigo-50' : 'bg-white'} rounded-2xl border ${index === 0 ? 'border-yellow-300' : index === 1 ? 'border-gray-300' : index === 2 ? 'border-orange-200' : 'border-gray-100'}">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 ${index === 0 ? 'bg-yellow-100' : index === 1 ? 'bg-gray-100' : index === 2 ? 'bg-orange-100' : 'bg-blue-100'} rounded-full flex items-center justify-center text-xl shadow-sm">
                                            ${index === 0 ? 'ğŸ¥‡' : index === 1 ? 'ğŸ¥ˆ' : index === 2 ? 'ğŸ¥‰' : competitor.avatar}
                                        </div>
                                        <div>
                                            <p class="text-xs font-black text-gray-700">${competitor.name}${competitor.isUser ? ' (Siz)' : ''}</p>
                                            <p class="text-[8px] font-bold text-gray-400">${competitor.points} Puan</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-xs font-black ${index === 0 ? 'text-yellow-600' : index === 1 ? 'text-gray-600' : index === 2 ? 'text-orange-600' : 'text-blue-600'}">
                                            ${competitor.score.toFixed(1)} Puan
                                        </p>
                                        <p class="text-[8px] font-bold text-gray-400">${competitor.score.toFixed(1)}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- REKABET Ä°STATÄ°STÄ°KLERÄ° -->
                    <div class="glass-card p-5 rounded-[2.5rem] shadow-sm">
                        <h3 class="text-xs font-black uppercase text-gray-400 mb-4">Rekabet Durumu</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <span class="text-xs font-bold text-gray-600">SÄ±ralaman:</span>
                                <span class="text-xs font-black ${userRank <= 3 ? 'text-yellow-600' : userRank <= Math.ceil(allCompetitors.length / 2) ? 'text-blue-600' : 'text-red-600'}">${userRank}. SÄ±ra</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-xs font-bold text-gray-600">Ortalama PuanÄ±n:</span>
                                <span class="text-xs font-black text-blue-600">${state.user.averageScore > 0 ? state.user.averageScore.toFixed(1) : '480'} Puan</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-xs font-bold text-gray-600">En YÃ¼ksek Puan:</span>
                                <span class="text-xs font-black text-green-600">${state.user.bestScore > 0 ? state.user.bestScore.toFixed(1) : '480'} Puan</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-xs font-bold text-gray-600">1. ile FarkÄ±n:</span>
                                <span class="text-xs font-black ${allCompetitors.length > 0 ? (allCompetitors[0].score - state.user.averageScore > 0 ? 'text-red-600' : 'text-green-600') : 'text-gray-600'}">
                                    ${allCompetitors.length > 0 ? (allCompetitors[0].score - state.user.averageScore).toFixed(1) : '0'} Puan
                                </span>
                            </div>
                        </div>
                        
                        <!-- MOTÄ°VASYON MESAJI -->
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <p class="text-[10px] text-center text-gray-600 italic">
                                ${userRank <= 3 ? 
                                    'ğŸ‰ Tebrikler! Ä°lk 3\'tesin! Bu baÅŸarÄ±yÄ± sÃ¼rdÃ¼r!' : 
                                  userRank <= Math.ceil(allCompetitors.length / 2) ?
                                    'ğŸ‘ Ä°yi gidiyorsun! Biraz daha Ã§alÄ±ÅŸarak ilk sÄ±ralara yÃ¼kselebilirsin!' :
                                    'ğŸ’ª Daha Ã§ok Ã§alÄ±ÅŸman gerekiyor. Hadi baÅŸla, sen de Ã¶ne geÃ§ebilirsin!'
                                }
                            </p>
                        </div>
                    </div>
                `;
            },
            renderExamSchedule(c) {
                c.innerHTML = `
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-black uppercase text-purple-600">Okul SÄ±nav Tarihleri</h2>
                        <button onclick="openExamScheduleModal()" class="bg-purple-500 text-white px-4 py-2 rounded-xl text-[10px] font-black shadow-lg uppercase active:scale-95 transition-all">+ Yeni Tarih</button>
                    </div>

                    <div class="glass-card p-5 rounded-[2.5rem] shadow-sm">
                        ${state.examSchedule.length === 0 ? '<p class="text-center text-gray-400 text-xs italic">HenÃ¼z sÄ±nav tarihi yok.</p>' : 
                        state.examSchedule.map((exam, idx) => `
                            <div class="exam-card glass-card p-4 rounded-2xl mb-3 flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 bg-purple-50 text-purple-600 rounded-xl flex items-center justify-center font-black">
                                        ${exam.subject}
                                    </div>
                                    <div>
                                        <p class="text-xs font-black text-gray-700">${exam.name}</p>
                                        <p class="text-[8px] text-gray-400 font-bold uppercase">${exam.date}</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2">
                                    <button onclick="editExamSchedule(${idx})" class="text-indigo-500 hover:text-indigo-700"><i class="fas fa-edit"></i></button>
                                    <button onclick="deleteExamSchedule(${idx})" class="text-red-400 hover:text-red-600"><i class="fas fa-trash"></i></button>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="glass-card p-5 rounded-[2.5rem] shadow-sm mt-6">
                        <h3 class="text-xs font-black uppercase text-gray-400 mb-3">Anasayfada GÃ¶rÃ¼ntÃ¼lenen Tarihler</h3>
                        <div class="space-y-2">
                            ${state.examSchedule.slice(0, 3).map(exam => `
                                <div class="flex items-center gap-2 text-xs">
                                    <span class="bg-purple-100 text-purple-600 px-2 py-1 rounded-lg font-bold">${exam.subject}</span>
                                    <span class="text-gray-600">${exam.date}</span>
                                </div>
                            `).join('')}
                            ${state.examSchedule.length === 0 ? '<p class="text-xs text-gray-400 italic">HenÃ¼z tarih eklenmedi.</p>' : ''}
                        </div>
                    </div>
                `;
            },
            renderStore(c) {
                c.innerHTML = `<div class="bg-gradient-to-r from-yellow-400 to-orange-500 p-8 rounded-[3rem] text-white shadow-xl text-center mb-8 relative overflow-hidden"><p class="text-[11px] font-black uppercase opacity-70 tracking-widest">PuanÄ±n</p><h3 class="text-6xl font-black">${state.user.points}</h3><i class="fas fa-coins absolute -bottom-4 -left-4 text-white/10 text-9xl"></i></div><div class="grid grid-cols-2 gap-4 pb-12">${storeItems.map(item => `<div class="glass-card p-6 rounded-[2rem] text-center flex flex-col items-center shadow-sm"><div class="text-5xl mb-3">${item.icon}</div><p class="text-[10px] font-black uppercase text-gray-700 mb-4">${item.name}</p><button onclick="buyItem('${item.id}')" ${state.user.purchasedItems?.includes(item.id) ? 'disabled' : ''} class="w-full py-3 rounded-2xl text-[10px] font-black uppercase shadow-sm active:scale-95 ${state.user.purchasedItems?.includes(item.id) ? 'bg-gray-100 text-gray-400' : 'bg-primary text-white'}">${state.user.purchasedItems?.includes(item.id) ? 'SAHÄ°PSÄ°N' : item.price + ' Puan'}</button></div>`).join('')}</div>`;
            },
            renderSettings(c) {
                c.innerHTML = `
                    <div class="glass-card p-6 rounded-[2.5rem] mb-6 shadow-md border border-primary/10">
                        <h3 class="text-sm font-black uppercase mb-4 text-primary"><i class="fas fa-music"></i> Ortam Sesleri</h3>
                        <div class="grid grid-cols-2 gap-3">
                            ${ambientSounds.map(sound => `
                                <button onclick="playAmbient('${sound.id}')" class="p-4 bg-${sound.color}-50 rounded-2xl text-[10px] font-black uppercase text-${sound.color}-700 active:scale-95 flex items-center justify-center gap-1.5">
                                    ${sound.name}
                                </button>
                            `).join('')}
                            <button onclick="stopAmbient()" class="col-span-2 p-3 bg-red-50 rounded-2xl text-[10px] font-black uppercase text-red-700 mt-2">
                                <i class="fas fa-stop mr-1"></i> SESÄ° DURDUR
                            </button>
                        </div>
                    </div>
                    
                    <div class="glass-card p-6 rounded-[2.5rem] mb-6 shadow-md border border-primary/10">
                        <h3 class="text-sm font-black uppercase mb-6 text-primary flex items-center gap-2"><i class="fas fa-user-circle"></i> Profil AyarlarÄ±</h3>
                        <div class="space-y-5">
                            <div class="flex flex-col items-center gap-4 mb-2">
                                <div id="prof-preview" class="w-28 h-28 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden border-4 border-white shadow-xl">
                                    ${state.user.profilePic ? `<img src="${state.user.profilePic}" class="w-full h-full object-cover">` : '<i class="fas fa-user text-4xl text-gray-300"></i>'}
                                </div>
                                <label class="bg-indigo-600 text-white px-6 py-2.5 rounded-2xl text-[10px] font-black uppercase cursor-pointer touch-feedback shadow-lg active:scale-95 transition-all">
                                    <i class="fas fa-camera mr-1"></i> FotoÄŸraf SeÃ§
                                    <input type="file" id="prof-file" class="hidden" accept="image/*" onchange="handleProfilePic(this)">
                                </label>
                            </div>
                            <div class="space-y-1">
                                <label class="text-[9px] font-black text-gray-400 uppercase ml-2">Ad Soyad</label>
                                <input type="text" id="prof-name" placeholder="Ä°sim" value="${state.user.name}" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none">
                            </div>
                            <div class="space-y-1">
                                <label class="text-[9px] font-black text-gray-400 uppercase ml-2">Hedef Lise AdÄ±</label>
                                <input type="text" id="prof-school" placeholder="Hedef Lise" value="${state.user.targetSchool}" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none">
                            </div>
                            <div class="space-y-1">
                                <label class="text-[9px] font-black text-gray-400 uppercase ml-2">LGS Puan Hedefi</label>
                                <input type="number" id="prof-score" placeholder="Hedef Puan" value="${state.user.targetScore}" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none">
                            </div>
                            <button onclick="updateProfile()" class="w-full bg-primary text-white py-4 rounded-2xl font-black uppercase text-xs shadow-xl active:scale-95">KAYDET</button>
                        </div>
                    </div>
                    
                    <div class="glass-card p-6 rounded-3xl text-center shadow-md">
                        <h3 class="text-[10px] font-black uppercase text-gray-400 mb-4 tracking-widest">YÃ¶netici GiriÅŸi</h3>
                        <input type="password" id="pin-in" placeholder="****" class="w-full text-center text-4xl p-5 mt-2 bg-gray-50 rounded-2xl outline-none font-black tracking-[0.5em]" maxlength="4">
                        <button onclick="checkAdmin()" class="w-full bg-gray-800 text-white py-5 mt-4 rounded-2xl font-black uppercase text-xs shadow-xl active:scale-95">PANELÄ° AÃ‡</button>
                    </div>
                    
                    <div id="admin-panel" class="hidden space-y-4 pt-4">
                        <div class="glass-card p-6 rounded-3xl">
                            <h4 class="text-xs font-black uppercase mb-3 text-red-500">SÄ±nav Takvimi</h4>
                            <input type="date" id="exam-date-in" value="${state.user.examDate}" class="w-full p-4 bg-gray-50 rounded-xl mb-3 font-bold border-none outline-none">
                            <button onclick="updateExamDate()" class="w-full bg-indigo-600 text-white py-3 rounded-xl text-[10px] font-black uppercase">GÃœNCELLE</button>
                        </div>
                        
                        <div class="glass-card p-6 rounded-3xl">
                            <div class="flex justify-between items-center mb-3">
                                <h4 class="text-xs font-black uppercase text-red-500">AI Soru-Cevap YÃ¶netimi</h4>
                                <div class="flex gap-2">
                                    <button onclick="exportQA()" class="bg-blue-600 text-white p-2 rounded-lg text-[8px] font-black uppercase shadow-sm">QA Ä°NDÄ°R</button>
                                    <label class="bg-blue-600 text-white p-2 rounded-lg text-[8px] font-black uppercase shadow-sm cursor-pointer">
                                        QA YÃœKLE <input type="file" class="hidden" onchange="importQA(this)">
                                    </label>
                                </div>
                            </div>
                            
                            <!-- QA Tablosu -->
                            <div class="qa-table-container mb-4">
                                <table class="qa-table">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Soru</th>
                                            <th>Cevap</th>
                                            <th>Ä°ÅŸlemler</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${state.qa.map((item, idx) => `
                                            <tr>
                                                <td class="text-[9px] font-bold text-gray-500">${idx + 1}</td>
                                                <td class="qa-question">${utils.escape(item.q)}</td>
                                                <td class="qa-answer">${utils.escape(item.a)}</td>
                                                <td class="qa-actions">
                                                    <button onclick="editQA(${idx})" class="bg-indigo-100 text-indigo-600 px-2 py-1 rounded-lg text-[8px] font-bold hover:bg-indigo-200">
                                                        <i class="fas fa-edit mr-1"></i> DÃ¼zenle
                                                    </button>
                                                    <button onclick="deleteQA(${idx})" class="bg-red-100 text-red-600 px-2 py-1 rounded-lg text-[8px] font-bold hover:bg-red-200">
                                                        <i class="fas fa-trash mr-1"></i> Sil
                                                    </button>
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="space-y-2">
                                <input type="text" id="new-q" placeholder="Yeni soru..." class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none">
                                <textarea id="new-a" placeholder="Cevap..." class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none h-20"></textarea>
                                <div class="flex gap-2">
                                    <button onclick="addQA()" class="flex-1 bg-green-500 text-white py-3 rounded-2xl font-black uppercase shadow-lg">
                                        <i class="fas fa-plus mr-1"></i> EKLE
                                    </button>
                                    <button onclick="updateQA()" id="update-qa-btn" class="flex-1 bg-yellow-500 text-white py-3 rounded-2xl font-black uppercase shadow-lg hidden">
                                        <i class="fas fa-save mr-1"></i> GÃœNCELLE
                                    </button>
                                    <button onclick="cancelEditQA()" id="cancel-qa-btn" class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-2xl font-black uppercase shadow-lg hidden">
                                        <i class="fas fa-times mr-1"></i> Ä°PTAL
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="glass-card p-6 rounded-3xl">
                            <h4 class="text-xs font-black uppercase mb-3 text-gray-400">Veri Transferi</h4>
                            <div class="grid grid-cols-2 gap-2">
                                <button onclick="exportData()" class="bg-gray-800 text-white py-3 rounded-xl text-[9px] font-black">SÄ°STEM YEDEK</button>
                                <label class="bg-indigo-600 text-white py-3 rounded-xl text-[9px] font-black text-center cursor-pointer">
                                    YEDEK YÃœKLE <input type="file" class="hidden" onchange="importData(this)">
                                </label>
                            </div>
                            <button onclick="resetSystem()" class="w-full bg-red-500 text-white py-3 rounded-xl text-[9px] font-black uppercase mt-2 shadow-lg">SÄ°STEMÄ° SIFIRLA</button>
                        </div>
                    </div>
                `;
            }
        };

        // --- POMODORO FUNCTIONS ---
        function openPomodoro() {
            const modal = document.getElementById('modal-container');
            modal.innerHTML = `
                <div class="bg-white w-full max-w-sm rounded-[3rem] p-8 shadow-2xl text-center">
                    <div class="flex justify-between items-center mb-6"><h3 class="text-xl font-black uppercase text-gray-800">Odak Modu</h3><button onclick="closeModal()"><i class="fas fa-times text-gray-300"></i></button></div>
                    <div class="relative w-48 h-48 mx-auto mb-8 flex items-center justify-center">
                        <svg class="w-full h-full transform -rotate-90">
                            <circle cx="96" cy="96" r="88" stroke="#f3f4f6" stroke-width="8" fill="transparent" />
                            <circle id="p-progress" cx="96" cy="96" r="88" stroke="var(--p-color)" stroke-width="8" fill="transparent" stroke-dasharray="553" stroke-dashoffset="553" class="pomodoro-circle" />
                        </svg>
                        <div class="absolute inset-0 flex flex-col items-center justify-center">
                            <span id="p-time" class="text-4xl font-black text-gray-800">25:00</span>
                            <span id="p-mode" class="text-[10px] font-black uppercase text-primary">Ã‡alÄ±ÅŸma ZamanÄ±</span>
                        </div>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="togglePomodoro()" id="p-btn" class="flex-1 bg-primary text-white py-5 rounded-[1.5rem] font-black text-xs shadow-lg active:scale-95 uppercase">BAÅLAT</button>
                        <button onclick="resetPomodoro()" class="bg-gray-100 text-gray-400 w-16 rounded-[1.5rem] active:scale-95"><i class="fas fa-undo"></i></button>
                    </div>
                </div>
            `;
            modal.classList.remove('hidden');
            updatePomodoroUI();
        }

        function togglePomodoro() {
            if (pomodoro.active) {
                clearInterval(pomodoro.timer);
                pomodoro.active = false;
                document.getElementById('p-btn').textContent = "DEVAM ET";
            } else {
                pomodoro.active = true;
                document.getElementById('p-btn').textContent = "DURAKLAT";
                pomodoro.timer = setInterval(() => {
                    pomodoro.timeLeft--;
                    if (pomodoro.timeLeft < 0) {
                        if (pomodoro.mode === 'work') {
                            pomodoro.mode = 'break'; pomodoro.timeLeft = 300;
                            state.user.points += 50; storage.save();
                            alert("Tebrikler! Mola vakti.");
                        } else {
                            pomodoro.mode = 'work'; pomodoro.timeLeft = 1500;
                            alert("Mola bitti! Ã‡alÄ±ÅŸmaya geri dÃ¶nelim.");
                        }
                    }
                    updatePomodoroUI();
                }, 1000);
            }
        }

        function resetPomodoro() {
            clearInterval(pomodoro.timer);
            pomodoro = { timeLeft: 1500, timer: null, mode: 'work', active: false };
            updatePomodoroUI();
            if(document.getElementById('p-btn')) document.getElementById('p-btn').textContent = "BAÅLAT";
        }

        function updatePomodoroUI() {
            const timeEl = document.getElementById('p-time');
            if (!timeEl) return;
            const m = Math.floor(pomodoro.timeLeft / 60);
            const s = pomodoro.timeLeft % 60;
            timeEl.textContent = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
            
            const total = pomodoro.mode === 'work' ? 1500 : 300;
            const progress = 553 - (pomodoro.timeLeft / total) * 553;
            document.getElementById('p-progress').style.strokeDashoffset = progress;
            document.getElementById('p-mode').textContent = pomodoro.mode === 'work' ? "Ã‡alÄ±ÅŸma ZamanÄ±" : "Mola ZamanÄ±";
        }

        // --- DÃœZELTÄ°LMÄ°Å AMBIENT SOUNDS ---
        function playAmbient(type) {
            stopAmbient();
            if (audioUrls[type]) {
                ambientAudio = new Audio(audioUrls[type]);
                ambientAudio.loop = true;
                ambientAudio.volume = 0.5;
                ambientAudio.play().catch(e => {
                    console.log("Audio play failed:", e);
                    // Alternatif ses kaynaÄŸÄ±
                    fallbackAmbient(type);
                });
                
                // KullanÄ±cÄ±ya feedback ver
                const soundNames = {
                    nature: 'DoÄŸa sesleri',
                    rain: 'YaÄŸmur sesi',
                    waves: 'Dalga sesi',
                    forest: 'Orman sesleri',
                    stream: 'Akarsu sesi',
                    birds: 'KuÅŸ sesleri',
                    white: 'Beyaz gÃ¼rÃ¼ltÃ¼',
                    piano: 'Piyano mÃ¼ziÄŸi',
                    meditation: 'Meditasyon mÃ¼ziÄŸi',
                    lofi: 'Lo-Fi mÃ¼zik'
                };
                
                state.messages.push({
                    sender: 'ai', 
                    text: `ğŸµ ${soundNames[type]} baÅŸlatÄ±ldÄ±. Rahatla ve odaklan!`
                });
                storage.save();
                if(router.currentPage === 'coach') router.render();
            }
        }

        // Alternatif ses kaynaklarÄ±
        function fallbackAmbient(type) {
            const fallbackUrls = {
                nature: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3',
                rain: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3',
                waves: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3',
                piano: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3',
                lofi: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3'
            };
            
            if (fallbackUrls[type]) {
                ambientAudio = new Audio(fallbackUrls[type]);
                ambientAudio.loop = true;
                ambientAudio.volume = 0.5;
                ambientAudio.play().catch(e => {
                    alert("Ses dosyasÄ± yÃ¼klenemedi. LÃ¼tfen internet baÄŸlantÄ±nÄ±zÄ± kontrol edin.");
                });
            }
        }

        function stopAmbient() { 
            if(ambientAudio) { 
                ambientAudio.pause(); 
                ambientAudio = null; 
            } 
        }

        // --- SESLÄ° NOTLAR (GÃœNCELLENMÄ°Å) ---
        function openVoiceNotes() {
            const modal = document.getElementById('modal-container');
            modal.innerHTML = `
                <div class="bg-white w-full max-w-sm rounded-[3rem] p-8 shadow-2xl max-h-[85vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-black uppercase text-gray-800">Sesli Notlar</h3>
                        <button onclick="closeModal()" class="text-gray-400"><i class="fas fa-times"></i></button>
                    </div>
                    
                    <div class="space-y-3 mb-6" id="note-list">
                        ${state.voiceNotes.length === 0 ? '<p class="text-center text-gray-400 text-xs italic py-8">HenÃ¼z not yok.</p>' : 
                        state.voiceNotes.map((n, idx) => `
                            <div class="voice-note-item glass-card p-4 rounded-2xl border border-gray-100">
                                <div class="flex justify-between items-start mb-2">
                                    <p class="text-[8px] font-black text-gray-400">${utils.formatDate(n.date)}</p>
                                    <div class="flex gap-2">
                                        <button onclick="playVoiceNote(${idx})" class="text-blue-500 hover:text-blue-700">
                                            <i class="fas fa-play text-xs"></i>
                                        </button>
                                        <button onclick="editVoiceNote(${idx})" class="text-green-500 hover:text-green-700">
                                            <i class="fas fa-edit text-xs"></i>
                                        </button>
                                        <button onclick="deleteVoiceNote(${idx})" class="text-red-500 hover:text-red-700">
                                            <i class="fas fa-trash text-xs"></i>
                                        </button>
                                    </div>
                                </div>
                                <p class="text-[10px] font-bold text-gray-700">${n.text}</p>
                            </div>
                        `).join('')}
                    </div>
                    
                    <button onclick="recordNote()" id="rec-note-btn" class="w-full bg-primary text-white py-5 rounded-[1.5rem] font-black text-xs shadow-lg active:scale-95 uppercase flex items-center justify-center gap-3">
                        <i class="fas fa-microphone"></i> YENÄ° NOT KAYDET
                    </button>
                </div>
            `;
            modal.classList.remove('hidden');
        }

        async function recordNote() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            if(!SpeechRecognition) {
                alert("Ses tanÄ±ma desteklenmiyor.");
                return;
            }
            
            try {
                // Mikrofon iznini al
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                stream.getTracks().forEach(track => track.stop());
                
                const recognition = new SpeechRecognition();
                recognition.lang = 'tr-TR';
                recognition.continuous = false;
                recognition.interimResults = false;
                
                const btn = document.getElementById('rec-note-btn');
                if(btn) {
                    btn.classList.add('bg-red-500', 'animate-pulse');
                    btn.innerHTML = '<i class="fas fa-circle mr-2"></i> KAYIT DEVAM EDÄ°YOR...';
                }
                
                recognition.onresult = (event) => {
                    if (event.results.length > 0) {
                        const txt = event.results[0][0].transcript;
                        state.voiceNotes.unshift({ 
                            date: new Date().toISOString(), 
                            text: txt 
                        });
                        storage.save();
                        openVoiceNotes();
                    }
                };
                
                recognition.onend = () => {
                    if(btn) {
                        btn.classList.remove('bg-red-500', 'animate-pulse');
                        btn.innerHTML = '<i class="fas fa-microphone mr-2"></i> YENÄ° NOT KAYDET';
                    }
                };
                
                recognition.onerror = (event) => {
                    console.error("Sesli not hatasÄ±:", event.error);
                    if(btn) {
                        btn.classList.remove('bg-red-500', 'animate-pulse');
                        btn.innerHTML = '<i class="fas fa-microphone mr-2"></i> YENÄ° NOT KAYDET';
                    }
                    alert("Ses kaydÄ± hatasÄ±: " + event.error);
                };
                
                recognition.start();
            } catch(e) { 
                console.error("Sesli not hatasÄ±:", e);
                alert("Sesli not iÃ§in mikrofon izni gerekli. LÃ¼tfen tarayÄ±cÄ± ayarlarÄ±ndan izin verin.");
            }
        }

        function playVoiceNote(idx) {
            const note = state.voiceNotes[idx];
            if (!note) return;
            
            speak(note.text);
        }

        function editVoiceNote(idx) {
            const note = state.voiceNotes[idx];
            if (!note) return;
            
            const newText = prompt("Notu dÃ¼zenle:", note.text);
            if (newText && newText.trim() !== note.text) {
                note.text = newText.trim();
                storage.save();
                openVoiceNotes();
            }
        }

        function deleteVoiceNote(idx) {
            if (confirm("Bu notu silmek istediÄŸine emin misin?")) {
                state.voiceNotes.splice(idx, 1);
                storage.save();
                openVoiceNotes();
            }
        }

        // --- BÄ°LGÄ° KARTLARI (GÃœNCELLENMÄ°Å) ---
        function openAddFormulaCard() {
            editingFormulaCardId = null;
            selectedMedia = null;
            selectedMediaType = null;
            
            const modal = document.getElementById('modal-container');
            modal.innerHTML = `
                <div class="bg-white w-full max-w-sm rounded-[3rem] p-8 shadow-2xl max-h-[90vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-black uppercase text-gray-800">Yeni Bilgi KartÄ±</h3>
                        <button onclick="closeModal()" class="text-gray-400"><i class="fas fa-times"></i></button>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">Ders</label>
                            <select id="formula-subject" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none border-none">
                                <option value="Matematik">Matematik</option>
                                <option value="Fen Bilimleri">Fen Bilimleri</option>
                                <option value="TÃ¼rkÃ§e">TÃ¼rkÃ§e</option>
                                <option value="Ä°nkÄ±lap Tarihi">Ä°nkÄ±lap Tarihi</option>
                                <option value="Din KÃ¼ltÃ¼rÃ¼">Din KÃ¼ltÃ¼rÃ¼</option>
                                <option value="Ä°ngilizce">Ä°ngilizce</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">BaÅŸlÄ±k</label>
                            <input type="text" id="formula-title" placeholder="Ã–rn: ÃœslÃ¼ SayÄ±lar" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none">
                        </div>
                        
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">Ä°Ã§erik</label>
                            <textarea id="formula-content" placeholder="FormÃ¼l veya aÃ§Ä±klama..." class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none h-32"></textarea>
                        </div>
                        
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">Ä°kon</label>
                            <select id="formula-icon" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none border-none">
                                <option value="fa-superscript">fa-superscript</option>
                                <option value="fa-square-root-variable">fa-square-root-variable</option>
                                <option value="fa-tint">fa-tint</option>
                                <option value="fa-bolt">fa-bolt</option>
                                <option value="fa-calculator">fa-calculator</option>
                                <option value="fa-atom">fa-atom</option>
                                <option value="fa-dna">fa-dna</option>
                                <option value="fa-book">fa-book</option>
                                <option value="fa-language">fa-language</option>
                                <option value="fa-history">fa-history</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase mb-2 block">Medya Ekle (Resim/Video)</label>
                            <div class="flex gap-2 mb-3">
                                <label class="flex-1">
                                    <input type="file" accept="image/*" class="hidden" onchange="handleMediaUpload(this, 'image')">
                                    <div class="p-3 bg-blue-50 text-blue-600 rounded-xl text-center text-[10px] font-black uppercase cursor-pointer hover:bg-blue-100">
                                        <i class="fas fa-image mr-1"></i> Resim
                                    </div>
                                </label>
                                <label class="flex-1">
                                    <input type="file" accept="video/*" class="hidden" onchange="handleMediaUpload(this, 'video')">
                                    <div class="p-3 bg-green-50 text-green-600 rounded-xl text-center text-[10px] font-black uppercase cursor-pointer hover:bg-green-100">
                                        <i class="fas fa-video mr-1"></i> Video
                                    </div>
                                </label>
                            </div>
                            
                            ${selectedMedia ? `
                                <div class="relative">
                                    ${selectedMediaType === 'image' ? 
                                        `<img src="${selectedMedia}" class="media-preview w-full rounded-xl">` : 
                                     selectedMediaType === 'video' ?
                                        `<video controls class="media-preview w-full rounded-xl"><source src="${selectedMedia}" type="video/mp4"></video>` :
                                        ''
                                    }
                                    <button onclick="removeSelectedMedia()" class="absolute top-2 right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center">
                                        <i class="fas fa-times text-xs"></i>
                                    </button>
                                </div>
                            ` : ''}
                        </div>
                        
                        <button onclick="saveFormulaCard()" class="w-full bg-primary text-white py-4 rounded-2xl font-black uppercase text-xs shadow-xl mt-4">
                            KAYDET
                        </button>
                    </div>
                </div>
            `;
            modal.classList.remove('hidden');
        }

        function editFormulaCard(id) {
            const card = state.formulaCards.find(f => f.id === id);
            if (!card) return;
            
            editingFormulaCardId = id;
            selectedMedia = card.media;
            selectedMediaType = card.mediaType;
            
            const modal = document.getElementById('modal-container');
            modal.innerHTML = `
                <div class="bg-white w-full max-w-sm rounded-[3rem] p-8 shadow-2xl max-h-[90vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-black uppercase text-gray-800">Bilgi KartÄ±nÄ± DÃ¼zenle</h3>
                        <button onclick="closeModal()" class="text-gray-400"><i class="fas fa-times"></i></button>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">Ders</label>
                            <select id="formula-subject" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none border-none">
                                <option value="Matematik" ${card.sub === 'Matematik' ? 'selected' : ''}>Matematik</option>
                                <option value="Fen Bilimleri" ${card.sub === 'Fen Bilimleri' ? 'selected' : ''}>Fen Bilimleri</option>
                                <option value="TÃ¼rkÃ§e" ${card.sub === 'TÃ¼rkÃ§e' ? 'selected' : ''}>TÃ¼rkÃ§e</option>
                                <option value="Ä°nkÄ±lap Tarihi" ${card.sub === 'Ä°nkÄ±lap Tarihi' ? 'selected' : ''}>Ä°nkÄ±lap Tarihi</option>
                                <option value="Din KÃ¼ltÃ¼rÃ¼" ${card.sub === 'Din KÃ¼ltÃ¼rÃ¼' ? 'selected' : ''}>Din KÃ¼ltÃ¼rÃ¼</option>
                                <option value="Ä°ngilizce" ${card.sub === 'Ä°ngilizce' ? 'selected' : ''}>Ä°ngilizce</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">BaÅŸlÄ±k</label>
                            <input type="text" id="formula-title" value="${card.title}" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none">
                        </div>
                        
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">Ä°Ã§erik</label>
                            <textarea id="formula-content" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none h-32">${card.content}</textarea>
                        </div>
                        
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">Ä°kon</label>
                            <select id="formula-icon" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none border-none">
                                <option value="fa-superscript" ${card.icon === 'fa-superscript' ? 'selected' : ''}>fa-superscript</option>
                                <option value="fa-square-root-variable" ${card.icon === 'fa-square-root-variable' ? 'selected' : ''}>fa-square-root-variable</option>
                                <option value="fa-tint" ${card.icon === 'fa-tint' ? 'selected' : ''}>fa-tint</option>
                                <option value="fa-bolt" ${card.icon === 'fa-bolt' ? 'selected' : ''}>fa-bolt</option>
                                <option value="fa-calculator" ${card.icon === 'fa-calculator' ? 'selected' : ''}>fa-calculator</option>
                                <option value="fa-atom" ${card.icon === 'fa-atom' ? 'selected' : ''}>fa-atom</option>
                                <option value="fa-dna" ${card.icon === 'fa-dna' ? 'selected' : ''}>fa-dna</option>
                                <option value="fa-book" ${card.icon === 'fa-book' ? 'selected' : ''}>fa-book</option>
                                <option value="fa-language" ${card.icon === 'fa-language' ? 'selected' : ''}>fa-language</option>
                                <option value="fa-history" ${card.icon === 'fa-history' ? 'selected' : ''}>fa-history</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase mb-2 block">Medya Ekle (Resim/Video)</label>
                            <div class="flex gap-2 mb-3">
                                <label class="flex-1">
                                    <input type="file" accept="image/*" class="hidden" onchange="handleMediaUpload(this, 'image')">
                                    <div class="p-3 bg-blue-50 text-blue-600 rounded-xl text-center text-[10px] font-black uppercase cursor-pointer hover:bg-blue-100">
                                        <i class="fas fa-image mr-1"></i> Resim
                                    </div>
                                </label>
                                <label class="flex-1">
                                    <input type="file" accept="video/*" class="hidden" onchange="handleMediaUpload(this, 'video')">
                                    <div class="p-3 bg-green-50 text-green-600 rounded-xl text-center text-[10px] font-black uppercase cursor-pointer hover:bg-green-100">
                                        <i class="fas fa-video mr-1"></i> Video
                                    </div>
                                </label>
                            </div>
                            
                            ${selectedMedia ? `
                                <div class="relative">
                                    ${selectedMediaType === 'image' ? 
                                        `<img src="${selectedMedia}" class="media-preview w-full rounded-xl">` : 
                                     selectedMediaType === 'video' ?
                                        `<video controls class="media-preview w-full rounded-xl"><source src="${selectedMedia}" type="video/mp4"></video>` :
                                        ''
                                    }
                                    <button onclick="removeSelectedMedia()" class="absolute top-2 right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center">
                                        <i class="fas fa-times text-xs"></i>
                                    </button>
                                </div>
                            ` : ''}
                        </div>
                        
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="saveFormulaCard()" class="bg-primary text-white py-4 rounded-2xl font-black uppercase text-xs shadow-xl">
                                GÃœNCELLE
                            </button>
                            <button onclick="closeModal()" class="bg-gray-300 text-gray-700 py-4 rounded-2xl font-black uppercase text-xs">
                                Ä°PTAL
                            </button>
                        </div>
                    </div>
                </div>
            `;
            modal.classList.remove('hidden');
        }

        function handleMediaUpload(input, type) {
            const file = input.files[0];
            if (!file) return;
            
            if (type === 'image' && !file.type.startsWith('image/')) {
                alert('LÃ¼tfen bir resim dosyasÄ± seÃ§in!');
                return;
            }
            
            if (type === 'video' && !file.type.startsWith('video/')) {
                alert('LÃ¼tfen bir video dosyasÄ± seÃ§in!');
                return;
            }
            
            if (file.size > 10 * 1024 * 1024) {
                alert('Dosya Ã§ok bÃ¼yÃ¼k! Maksimum 10MB.');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = e => {
                selectedMedia = e.target.result;
                selectedMediaType = type;
                
                const modal = document.getElementById('modal-container');
                if (modal && !modal.classList.contains('hidden')) {
                    if (editingFormulaCardId) {
                        editFormulaCard(editingFormulaCardId);
                    } else {
                        openAddFormulaCard();
                    }
                }
            };
            reader.readAsDataURL(file);
        }

        function removeSelectedMedia() {
            selectedMedia = null;
            selectedMediaType = null;
            
            if (editingFormulaCardId) {
                editFormulaCard(editingFormulaCardId);
            } else {
                openAddFormulaCard();
            }
        }

        function saveFormulaCard() {
            const subject = document.getElementById('formula-subject').value;
            const title = document.getElementById('formula-title').value.trim();
            const content = document.getElementById('formula-content').value.trim();
            const icon = document.getElementById('formula-icon').value;
            
            if (!title || !content) {
                alert('LÃ¼tfen baÅŸlÄ±k ve iÃ§erik girin!');
                return;
            }
            
            const cardData = {
                id: editingFormulaCardId || Date.now(),
                sub: subject,
                title: title,
                content: content,
                icon: icon,
                media: selectedMedia,
                mediaType: selectedMediaType
            };
            
            if (editingFormulaCardId) {
                const index = state.formulaCards.findIndex(f => f.id === editingFormulaCardId);
                if (index !== -1) {
                    state.formulaCards[index] = cardData;
                }
            } else {
                state.formulaCards.push(cardData);
            }
            
            storage.save();
            closeModal();
            router.navigate('formulas');
        }

        function deleteFormulaCard(id) {
            if (confirm('Bu bilgi kartÄ±nÄ± silmek istediÄŸine emin misin?')) {
                state.formulaCards = state.formulaCards.filter(f => f.id !== id);
                storage.save();
                router.navigate('formulas');
            }
        }

        // --- KONU SÄ°STEMÄ° ---
        function openTopicManager() {
            const modal = document.getElementById('modal-container');
            modal.innerHTML = `
                <div class="bg-white w-full max-w-sm rounded-[3rem] p-8 shadow-2xl max-h-[85vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-6 sticky top-0 bg-white pt-2 pb-4">
                        <h3 class="text-xl font-black uppercase text-gray-800">LGS KonularÄ± YÃ¶netimi</h3>
                        <button onclick="closeModal()" class="text-gray-400"><i class="fas fa-times"></i></button>
                    </div>
                    
                    <div class="space-y-6">
                        ${state.lgsTopics.map(subject => {
                            const completedCount = subject.topics.filter(t => t.completed).length;
                            const totalCount = subject.topics.length;
                            
                            return `
                                <div class="glass-card p-5 rounded-3xl">
                                    <div class="flex justify-between items-center mb-4">
                                        <h4 class="text-sm font-black text-gray-800">${subject.subject}</h4>
                                        <span class="text-xs font-bold ${completedCount === totalCount ? 'text-green-600' : 'text-indigo-600'}">${completedCount}/${totalCount}</span>
                                    </div>
                                    
                                    <div class="space-y-2">
                                        ${subject.topics.map(topic => `
                                            <div class="flex items-center justify-between p-3 ${topic.completed ? 'bg-green-50' : 'bg-gray-50'} rounded-2xl">
                                                <span class="text-xs font-bold ${topic.completed ? 'text-green-700' : 'text-gray-700'}">${topic.name}</span>
                                                <button onclick="toggleTopic('${subject.subject}', '${topic.id}')" class="px-3 py-1 rounded-lg text-[10px] font-black uppercase ${topic.completed ? 'bg-green-500 text-white' : 'bg-indigo-500 text-white'}">
                                                    ${topic.completed ? 'Geri Al' : 'Tamamla'}
                                                </button>
                                            </div>
                                        `).join('')}
                                    </div>
                                    
                                    <div class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center">
                                        <span class="text-[10px] text-gray-500">Toplam ${totalCount} konu</span>
                                        <button onclick="toggleAllTopics('${subject.subject}')" class="px-3 py-1 bg-gray-200 text-gray-700 rounded-lg text-[10px] font-black uppercase">
                                            ${completedCount === totalCount ? 'TÃ¼mÃ¼nÃ¼ Geri Al' : 'TÃ¼mÃ¼nÃ¼ Tamamla'}
                                        </button>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                    
                    <div class="mt-6 pt-6 border-t border-gray-200">
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-sm font-black text-gray-800">Toplam Ä°lerleme</span>
                            <span class="text-lg font-black text-green-600">${utils.getTopicCompletionPercentage()}%</span>
                        </div>
                        <div class="w-full h-3 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-green-500" style="width: ${utils.getTopicCompletionPercentage()}%"></div>
                        </div>
                        <div class="flex justify-center mt-4">
                            <button onclick="closeModal()" class="w-full bg-gray-800 text-white py-4 rounded-2xl font-black uppercase text-xs shadow-xl">KAPAT</button>
                        </div>
                    </div>
                </div>
            `;
            modal.classList.remove('hidden');
        }

        function toggleTopic(subjectName, topicId) {
            const subject = state.lgsTopics.find(s => s.subject === subjectName);
            if (!subject) return;
            
            const topic = subject.topics.find(t => t.id === topicId);
            if (topic) {
                topic.completed = !topic.completed;
                
                if (topic.completed) {
                    state.user.points += 15;
                    
                    const allTopicsCompleted = subject.topics.every(t => t.completed);
                    if (allTopicsCompleted) {
                        state.user.points += 100;
                        alert(`ğŸ‰ Tebrikler! ${subject.subject} dersinin tÃ¼m konularÄ±nÄ± tamamladÄ±n! +100 puan kazandÄ±n!`);
                    }
                } else {
                    state.user.points = Math.max(0, state.user.points - 5);
                }
                
                storage.save();
                router.render();
                
                if (document.getElementById('modal-container') && !document.getElementById('modal-container').classList.contains('hidden')) {
                    openTopicManager();
                }
            }
        }

        function toggleAllTopics(subjectName) {
            const subject = state.lgsTopics.find(s => s.subject === subjectName);
            if (!subject) return;
            
            const allCompleted = subject.topics.every(t => t.completed);
            const completedCount = subject.topics.filter(t => t.completed).length;
            const totalCount = subject.topics.length;
            
            const newStatus = !allCompleted;
            
            let pointsChange = 0;
            if (newStatus) {
                const toComplete = totalCount - completedCount;
                pointsChange = toComplete * 15;
                
                if (toComplete === totalCount) {
                    pointsChange += 100;
                }
            } else {
                pointsChange = -completedCount * 5;
            }
            
            state.user.points = Math.max(0, state.user.points + pointsChange);
            
            subject.topics.forEach(topic => {
                topic.completed = newStatus;
            });
            
            storage.save();
            router.render();
            
            if (document.getElementById('modal-container') && !document.getElementById('modal-container').classList.contains('hidden')) {
                openTopicManager();
            }
        }

        // --- ARKADAÅ SÄ°STEMÄ° (GÃœNCELLENMÄ°Å) ---
        function openAddFriend() {
            const modal = document.getElementById('modal-container');
            modal.innerHTML = `
                <div class="bg-white w-full max-w-sm rounded-[3rem] p-8 shadow-2xl">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-black uppercase text-gray-800">ArkadaÅŸ Ekle</h3>
                        <button onclick="closeModal()" class="text-gray-400"><i class="fas fa-times"></i></button>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="text-xs font-black uppercase text-gray-400 mb-3">FotoÄŸraf SeÃ§</h4>
                        <div class="grid grid-cols-3 gap-3 mb-3">
                            <button onclick="selectAvatar('ğŸ‘¨')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50"><span class="text-2xl">ğŸ‘¨</span></button>
                            <button onclick="selectAvatar('ğŸ‘©')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50"><span class="text-2xl">ğŸ‘©</span></button>
                            <button onclick="selectAvatar('ğŸ§‘')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50"><span class="text-2xl">ğŸ§‘</span></button>
                            <button onclick="selectAvatar('ğŸ‘¦')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50"><span class="text-2xl">ğŸ‘¦</span></button>
                            <button onclick="selectAvatar('ğŸ‘§')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50"><span class="text-2xl">ğŸ‘§</span></button>
                            <button onclick="selectAvatar('ğŸ‘´')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50"><span class="text-2xl">ğŸ‘´</span></button>
                        </div>
                        <input type="text" id="friend-name" placeholder="ArkadaÅŸ AdÄ±" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none mb-3">
                        <button onclick="addFriend()" class="w-full bg-blue-500 text-white py-4 rounded-2xl font-black uppercase text-xs shadow-xl">EKLE</button>
                    </div>

                    <div class="border-t pt-4">
                        <h4 class="text-xs font-black uppercase text-gray-400 mb-3">Sanal Rakipler</h4>
                        <div class="space-y-2">
                            <button onclick="addVirtualRival('Mert')" class="w-full p-3 bg-indigo-50 rounded-xl text-xs font-black text-indigo-700 hover:bg-indigo-100">
                                + Mert Ekle
                            </button>
                            <button onclick="addVirtualRival('Zeynep')" class="w-full p-3 bg-indigo-50 rounded-xl text-xs font-black text-indigo-700 hover:bg-indigo-100">
                                + Zeynep Ekle
                            </button>
                            <button onclick="addVirtualRival('Ali')" class="w-full p-3 bg-indigo-50 rounded-xl text-xs font-black text-indigo-700 hover:bg-indigo-100">
                                + Ali Ekle
                            </button>
                        </div>
                    </div>
                </div>
            `;
            modal.classList.remove('hidden');
        }

        function openEditFriendModal(friendId) {
            const friend = state.friends.find(f => f.id == friendId);
            if (!friend) return;
            
            editingFriendId = friendId;
            
            const modal = document.getElementById('modal-container');
            modal.innerHTML = `
                <div class="bg-white w-full max-w-sm rounded-[3rem] p-8 shadow-2xl">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-black uppercase text-gray-800">ArkadaÅŸÄ± DÃ¼zenle</h3>
                        <button onclick="closeModal()" class="text-gray-400"><i class="fas fa-times"></i></button>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="text-xs font-black uppercase text-gray-400 mb-3">Mevcut Avatar</h4>
                        <div class="flex justify-center mb-4">
                            <div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center text-4xl shadow-lg">
                                ${friend.avatar}
                            </div>
                        </div>
                        
                        <h4 class="text-xs font-black uppercase text-gray-400 mb-3">Yeni Avatar SeÃ§</h4>
                        <div class="grid grid-cols-3 gap-3 mb-3">
                            <button onclick="selectEditAvatar('ğŸ‘¨')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50 ${friend.avatar === 'ğŸ‘¨' ? 'border-2 border-blue-500' : ''}"><span class="text-2xl">ğŸ‘¨</span></button>
                            <button onclick="selectEditAvatar('ğŸ‘©')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50 ${friend.avatar === 'ğŸ‘©' ? 'border-2 border-blue-500' : ''}"><span class="text-2xl">ğŸ‘©</span></button>
                            <button onclick="selectEditAvatar('ğŸ§‘')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50 ${friend.avatar === 'ğŸ§‘' ? 'border-2 border-blue-500' : ''}"><span class="text-2xl">ğŸ§‘</span></button>
                            <button onclick="selectEditAvatar('ğŸ‘¦')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50 ${friend.avatar === 'ğŸ‘¦' ? 'border-2 border-blue-500' : ''}"><span class="text-2xl">ğŸ‘¦</span></button>
                            <button onclick="selectEditAvatar('ğŸ‘§')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50 ${friend.avatar === 'ğŸ‘§' ? 'border-2 border-blue-500' : ''}"><span class="text-2xl">ğŸ‘§</span></button>
                            <button onclick="selectEditAvatar('ğŸ‘´')" class="p-3 bg-gray-50 rounded-xl hover:bg-indigo-50 ${friend.avatar === 'ğŸ‘´' ? 'border-2 border-blue-500' : ''}"><span class="text-2xl">ğŸ‘´</span></button>
                        </div>
                        
                        <div class="mb-4">
                            <label class="text-xs font-black text-gray-400 uppercase">ArkadaÅŸ AdÄ±</label>
                            <input type="text" id="edit-friend-name" value="${friend.name}" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none mt-1">
                        </div>
                        
                        <div class="grid grid-cols-2 gap-3">
                            <button onclick="saveEditedFriend()" class="bg-blue-500 text-white py-4 rounded-2xl font-black uppercase text-xs shadow-xl">KAYDET</button>
                            <button onclick="closeModal()" class="bg-gray-300 text-gray-700 py-4 rounded-2xl font-black uppercase text-xs">Ä°PTAL</button>
                        </div>
                    </div>
                </div>
            `;
            modal.classList.remove('hidden');
        }

        function selectAvatar(avatar) {
            document.getElementById('friend-name').dataset.avatar = avatar;
        }

        function selectEditAvatar(avatar) {
            document.getElementById('edit-friend-name').dataset.avatar = avatar;
            event.target.closest('button').classList.add('border-2', 'border-blue-500');
        }

        function addFriend() {
            const nameInput = document.getElementById('friend-name');
            const name = nameInput.value.trim();
            const avatar = nameInput.dataset.avatar || 'ğŸ‘¤';
            
            if (!name) return alert("Ä°sim giriniz!");
            
            state.friends.push({
                id: Date.now(),
                name: name,
                avatar: avatar,
                points: 1000,
                score: 480 + Math.random() * 40,
                isVirtual: true,
                createdAt: new Date().toISOString()
            });
            
            storage.save();
            updateFriendScores();
            closeModal();
            router.navigate('friends');
        }

        function saveEditedFriend() {
            if (editingFriendId === null) return;
            
            const friend = state.friends.find(f => f.id == editingFriendId);
            if (!friend) return;
            
            const nameInput = document.getElementById('edit-friend-name');
            const name = nameInput.value.trim();
            const avatar = nameInput.dataset.avatar || friend.avatar;
            
            if (!name) return alert("Ä°sim giriniz!");
            
            friend.name = name;
            friend.avatar = avatar;
            
            storage.save();
            updateFriendScores();
            closeModal();
            editingFriendId = null;
            router.navigate('friends');
        }

        function addVirtualRival(name) {
            state.friends.push({
                id: Date.now(),
                name: name + ' (Sanal)',
                avatar: 'ğŸ¤–',
                points: 1000 + Math.floor(Math.random() * 500),
                score: 480 + Math.random() * 40,
                isVirtual: true,
                createdAt: new Date().toISOString()
            });
            
            storage.save();
            updateFriendScores();
            closeModal();
            router.navigate('friends');
        }

        function removeFriend(id) {
            if (confirm("Bu arkadaÅŸÄ± listeden silmek istediÄŸine emin misin?")) {
                state.friends = state.friends.filter(f => f.id != id);
                storage.save();
                updateFriendScores();
                router.navigate('friends');
            }
        }

        // --- EXAM SCHEDULE ---
        function openExamScheduleModal() {
            const modal = document.getElementById('modal-container');
            modal.innerHTML = `
                <div class="bg-white w-full max-w-sm rounded-[3rem] p-8 shadow-2xl">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-black uppercase text-gray-800">SÄ±nav Tarihi Ekle</h3>
                        <button onclick="closeModal()" class="text-gray-400"><i class="fas fa-times"></i></button>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">Ders</label>
                            <select id="exam-subject" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none border-none">
                                ${subjects.map(s => `<option value="${s.name}">${s.name}</option>`).join('')}
                            </select>
                        </div>
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">SÄ±nav TÃ¼rÃ¼</label>
                            <select id="exam-type" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none border-none">
                                <option value="1. SÄ±nav">1. SÄ±nav</option>
                                <option value="2. SÄ±nav">2. SÄ±nav</option>
                                <option value="3. SÄ±nav">3. SÄ±nav</option>
                                <option value="Genel Tekrar SÄ±navÄ±">Genel Tekrar SÄ±navÄ±</option>
                                <option value="Deneme SÄ±navÄ±">Deneme SÄ±navÄ±</option>
                                <option value="YazÄ±lÄ±">YazÄ±lÄ±</option>
                                <option value="Quiz">Quiz</option>
                            </select>
                        </div>
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">Tarih</label>
                            <input type="date" id="exam-date" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none border-none">
                        </div>
                        <button onclick="saveExamSchedule()" class="w-full bg-purple-500 text-white py-4 rounded-2xl font-black uppercase text-xs shadow-xl">KAYDET</button>
                    </div>
                </div>
            `;
            modal.classList.remove('hidden');
        }

        function saveExamSchedule() {
            const subject = document.getElementById('exam-subject').value;
            const type = document.getElementById('exam-type').value;
            const date = document.getElementById('exam-date').value;
            
            if (!date) return alert("Tarih seÃ§iniz!");
            
            state.examSchedule.push({
                subject,
                name: type,
                date
            });
            
            storage.save();
            closeModal();
            router.navigate('examschedule');
        }

        function editExamSchedule(idx) {
            const exam = state.examSchedule[idx];
            const modal = document.getElementById('modal-container');
            modal.innerHTML = `
                <div class="bg-white w-full max-w-sm rounded-[3rem] p-8 shadow-2xl">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-black uppercase text-gray-800">Tarih DÃ¼zenle</h3>
                        <button onclick="closeModal()" class="text-gray-400"><i class="fas fa-times"></i></button>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">Ders</label>
                            <select id="exam-subject-${idx}" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none border-none">
                                ${subjects.map(s => `<option value="${s.name}" ${s.name === exam.subject ? 'selected' : ''}>${s.name}</option>`).join('')}
                            </select>
                        </div>
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">SÄ±nav TÃ¼rÃ¼</label>
                            <select id="exam-type-${idx}" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none border-none">
                                <option value="1. SÄ±nav" ${exam.name === '1. SÄ±nav' ? 'selected' : ''}>1. SÄ±nav</option>
                                <option value="2. SÄ±nav" ${exam.name === '2. SÄ±nav' ? 'selected' : ''}>2. SÄ±nav</option>
                                <option value="3. SÄ±nav" ${exam.name === '3. SÄ±nav' ? 'selected' : ''}>3. SÄ±nav</option>
                                <option value="Genel Tekrar SÄ±navÄ±" ${exam.name === 'Genel Tekrar SÄ±navÄ±' ? 'selected' : ''}>Genel Tekrar SÄ±navÄ±</option>
                                <option value="Deneme SÄ±navÄ±" ${exam.name === 'Deneme SÄ±navÄ±' ? 'selected' : ''}>Deneme SÄ±navÄ±</option>
                                <option value="YazÄ±lÄ±" ${exam.name === 'YazÄ±lÄ±' ? 'selected' : ''}>YazÄ±lÄ±</option>
                                <option value="Quiz" ${exam.name === 'Quiz' ? 'selected' : ''}>Quiz</option>
                            </select>
                        </div>
                        <div>
                            <label class="text-xs font-black text-gray-400 uppercase">Tarih</label>
                            <input type="date" id="exam-date-${idx}" value="${exam.date}" class="w-full p-4 bg-gray-50 rounded-2xl text-xs font-bold outline-none border-none">
                        </div>
                        <button onclick="updateExamSchedule(${idx})" class="w-full bg-purple-500 text-white py-4 rounded-2xl font-black uppercase text-xs shadow-xl">GÃœNCELLE</button>
                    </div>
                </div>
            `;
            modal.classList.remove('hidden');
        }

        function updateExamSchedule(idx) {
            state.examSchedule[idx].subject = document.getElementById(`exam-subject-${idx}`).value;
            state.examSchedule[idx].name = document.getElementById(`exam-type-${idx}`).value;
            state.examSchedule[idx].date = document.getElementById(`exam-date-${idx}`).value;
            
            storage.save();
            closeModal();
            router.navigate('examschedule');
        }

        function deleteExamSchedule(idx) {
            if (confirm("Bu tarihi silmek istediÄŸine emin misin?")) {
                state.examSchedule.splice(idx, 1);
                storage.save();
                router.navigate('examschedule');
            }
        }

        // --- FLASHCARDS ---
        function openFlashcards(uid) {
            const u = englishUnits.find(x => x.id === uid); let idx = 0;
            const modal = document.getElementById('modal-container');
            const render = () => {
                const w = u.words[idx];
                modal.innerHTML = `<div class="bg-white w-full max-w-sm rounded-[3rem] p-8 shadow-2xl text-center"><div class="flex justify-between items-center mb-6"><span class="text-[10px] font-black text-cyan-500 uppercase">${u.name} - ${idx+1}/${u.words.length}</span><button onclick="closeModal()"><i class="fas fa-times text-gray-300"></i></button></div><div class="flashcard mb-10" onclick="this.querySelector('.flashcard-inner').classList.toggle('is-flipped')"><div class="flashcard-inner"><div class="flashcard-front bg-cyan-50 border-2 border-cyan-100 shadow-inner"><div><h2 class="text-4xl font-black text-cyan-800">${w.en}</h2><p class="text-[8px] mt-4 opacity-30 font-black uppercase">TIKLA Ã–ÄREN</p></div></div><div class="flashcard-back shadow-lg"><div><h2 class="text-4xl font-black text-white">${w.tr}</h2></div></div></div></div><div class="flex gap-2"><button id="kn-btn" class="flex-1 bg-green-500 text-white py-5 rounded-[1.5rem] font-black text-xs shadow-lg active:scale-95 transition-all">BÄ°LÄ°YORUM</button><button id="dkn-btn" class="flex-1 bg-gray-100 text-gray-400 py-5 rounded-[1.5rem] font-black text-xs active:scale-95 transition-all">BÄ°LMÄ°YORUM</button></div></div>`;
                document.getElementById('kn-btn').onclick = () => { state.learnedWords++; state.user.points += 5; next(); };
                document.getElementById('dkn-btn').onclick = () => next();
            };
            const next = () => { idx++; if(idx < u.words.length) render(); else { storage.save(); closeModal(); alert("Aferin!"); } };
            render(); modal.classList.remove('hidden');
        }

        // --- CORE FUNCTIONS ---
        function handleProfilePic(input) {
            const file = input.files[0];
            if (file) {
                if (file.size > 1.5 * 1024 * 1024) { alert("FotoÄŸraf Ã§ok bÃ¼yÃ¼k! (Maks 1.5MB)"); return; }
                const reader = new FileReader();
                reader.onload = e => { state.user.profilePic = e.target.result; const p = document.getElementById('prof-preview'); if(p) p.innerHTML = `<img src="${state.user.profilePic}" class="w-full h-full object-cover">`; storage.save(); };
                reader.readAsDataURL(file);
            }
        }

        function updateProfile() {
            state.user.name = document.getElementById('prof-name').value || "Can";
            state.user.targetSchool = document.getElementById('prof-school').value || "Fen Lisesi";
            state.user.targetScore = parseInt(document.getElementById('prof-score').value) || 480;
            storage.save(); alert("Profil kaydedildi! âœ¨"); router.navigate('home');
        }

        function addTask() {
            const val = document.getElementById('task-input').value.trim();
            if (!val) return;
            state.todos.push({ id: Date.now(), text: val, completed: false, isAuto: false });
            storage.save(); router.render();
        }

        function toggleTodo(id) {
            const t = state.todos.find(x => x.id === id);
            if(t) { t.completed = !t.completed; if(t.completed) { state.user.points += 10; state.completedTasks = (state.completedTasks || 0) + 1; } storage.save(); router.render(); }
        }

        function editTask(id) {
            const t = state.todos.find(x => x.id === id);
            const newVal = prompt("GÃ¶revi DÃ¼zenle:", t.text);
            if(newVal) { t.text = newVal; storage.save(); router.render(); }
        }

        function deleteTask(id) { if(confirm("Silinsin mi?")) { state.todos = state.todos.filter(x => x.id !== id); storage.save(); router.render(); } }

        function speak(t) {
            if (!window.speechSynthesis) return;
            window.speechSynthesis.cancel();
            const u = new SpeechSynthesisUtterance(t);
            u.lang = 'tr-TR'; u.rate = 1.0; u.pitch = 1.1;
            window.speechSynthesis.speak(u);
        }

        function sendChat() {
            const input = document.getElementById('chat-input');
            if (!input) return;
            const txt = input.value.trim().toLowerCase();
            if(!txt) return;
            state.messages.push({ sender: 'user', text: input.value });
            input.value = ""; router.render();
            setTimeout(() => {
                let ans = "Bu harika bir soru! LGS yolunda her zaman yanÄ±ndayÄ±m ÅŸampiyon.";
                const match = state.qa.find(x => txt.includes(x.q.toLowerCase()));
                if(match) ans = match.a;
                else if(txt.includes("sÄ±nav")) ans = `LGS SÄ±navÄ± ${new Date(state.user.examDate).toLocaleDateString('tr-TR')} tarihinde yapÄ±lacak. Ã–nÃ¼nde ${utils.getDaysLeft()} gÃ¼nÃ¼n var.`;
                state.messages.push({ sender: 'ai', text: ans });
                router.render(); storage.save(); speak(ans);
            }, 600);
        }

        function sendQuickMsg(q) {
            const input = document.getElementById('chat-input');
            if (input) { 
                input.value = q; 
                
                // Hemen gÃ¶nder
                setTimeout(() => {
                    sendChat();
                }, 100);
            }
        }

        // --- DÃœZELTÄ°LMÄ°Å SESLÄ° KONUÅMA FONKSÄ°YONU (Telefonlar iÃ§in) ---
        async function startVoiceRec() {
            console.log("Ses tanÄ±ma baÅŸlatÄ±lÄ±yor...");
            
            // Ã–nce tarayÄ±cÄ± desteÄŸini kontrol et
            if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
                alert("ÃœzgÃ¼nÃ¼m, tarayÄ±cÄ±nÄ±z ses tanÄ±mayÄ± desteklemiyor. LÃ¼tfen Chrome kullanÄ±n.");
                return;
            }
            
            // SpeechRecognition constructor'Ä±nÄ± al
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            
            try {
                // 1. Ã–NCE MÄ°KROFON Ä°ZNÄ°NÄ° AL
                console.log("Mikrofon izni isteniyor...");
                
                // Modern tarayÄ±cÄ±lar iÃ§in
                if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                    try {
                        const stream = await navigator.mediaDevices.getUserMedia({ 
                            audio: true,
                            video: false 
                        });
                        
                        // Ä°zin alÄ±ndÄ±, stream'i temizle
                        stream.getTracks().forEach(track => {
                            track.stop();
                        });
                        console.log("Mikrofon izni alÄ±ndÄ±");
                    } catch (streamError) {
                        console.error("Mikrofon izni hatasÄ±:", streamError);
                        // Ä°zin reddedildi ama yine de devam etmeyi deneyelim
                    }
                }
                
                // 2. SPEECH RECOGNITION'U AYARLA
                const recognition = new SpeechRecognition();
                
                // Telefonlar iÃ§in Ã¶zel ayarlar
                recognition.lang = 'tr-TR';  // TÃ¼rkÃ§e
                recognition.continuous = false;  // Tek seferlik
                recognition.interimResults = false;  // Ara sonuÃ§larÄ± alma
                recognition.maxAlternatives = 1;  // Sadece en iyi alternatif
                
                // 3. BUTONU GÃœNCELLE (kullanÄ±cÄ±ya feedback ver)
                const voiceBtn = document.getElementById('voice-btn');
                if (voiceBtn) {
                    voiceBtn.innerHTML = '<i class="fas fa-circle text-xl animate-pulse"></i>';
                    voiceBtn.classList.add('text-red-500');
                    voiceBtn.classList.remove('text-gray-400');
                }
                
                // 4. EVENT HANDLER'LARI
                recognition.onstart = function() {
                    console.log("Ses tanÄ±ma baÅŸladÄ±... KonuÅŸun!");
                    
                    // KullanÄ±cÄ±ya mesaj gÃ¶ster
                    const chatInput = document.getElementById('chat-input');
                    if (chatInput) {
                        chatInput.placeholder = "ğŸ¤ Dinliyorum... KonuÅŸun!";
                    }
                };
                
                recognition.onresult = function(event) {
                    console.log("SonuÃ§ alÄ±ndÄ±:", event);
                    
                    if (event.results && event.results.length > 0) {
                        const transcript = event.results[0][0].transcript;
                        console.log("TanÄ±nan metin:", transcript);
                        
                        // Input'a yaz
                        const chatInput = document.getElementById('chat-input');
                        if (chatInput) {
                            chatInput.value = transcript;
                            
                            // Otomatik gÃ¶nder (isteÄŸe baÄŸlÄ±)
                            setTimeout(() => {
                                sendChat();
                            }, 800);
                        }
                    }
                };
                
                recognition.onend = function() {
                    console.log("Ses tanÄ±ma sona erdi");
                    
                    // Butonu eski haline getir
                    const voiceBtn = document.getElementById('voice-btn');
                    if (voiceBtn) {
                        voiceBtn.innerHTML = '<i class="fas fa-microphone text-xl"></i>';
                        voiceBtn.classList.remove('text-red-500');
                        voiceBtn.classList.add('text-gray-400');
                    }
                    
                    // Placeholder'Ä± eski haline getir
                    const chatInput = document.getElementById('chat-input');
                    if (chatInput) {
                        chatInput.placeholder = "Yaz veya sesli sor...";
                    }
                };
                
                recognition.onerror = function(event) {
                    console.error("Ses tanÄ±ma hatasÄ±:", event.error);
                    
                    // Butonu eski haline getir
                    const voiceBtn = document.getElementById('voice-btn');
                    if (voiceBtn) {
                        voiceBtn.innerHTML = '<i class="fas fa-microphone text-xl"></i>';
                        voiceBtn.classList.remove('text-red-500');
                        voiceBtn.classList.add('text-gray-400');
                    }
                    
                    // Hata mesajÄ±
                    let errorMessage = "Ses tanÄ±ma hatasÄ±: ";
                    switch(event.error) {
                        case 'no-speech':
                            errorMessage = "Ses algÄ±lanmadÄ±. LÃ¼tfen tekrar deneyin.";
                            break;
                        case 'audio-capture':
                            errorMessage = "Mikrofon bulunamadÄ±. LÃ¼tfen mikrofonunuzun baÄŸlÄ± olduÄŸundan emin olun.";
                            break;
                        case 'not-allowed':
                            errorMessage = "Mikrofon izni verilmedi. LÃ¼tfen tarayÄ±cÄ± ayarlarÄ±ndan izin verin.";
                            break;
                        case 'network':
                            errorMessage = "AÄŸ hatasÄ±. Ä°nternet baÄŸlantÄ±nÄ±zÄ± kontrol edin.";
                            break;
                        default:
                            errorMessage = "Bir hata oluÅŸtu: " + event.error;
                    }
                    
                    // Hata mesajÄ±nÄ± AI'ya gÃ¶ster
                    state.messages.push({
                        sender: 'ai',
                        text: errorMessage
                    });
                    storage.save();
                    
                    if (router.currentPage === 'coach') {
                        router.render();
                    }
                };
                
                // 5. BAÅLAT
                console.log("Recognition baÅŸlatÄ±lÄ±yor...");
                recognition.start();
                
                // 30 saniye sonra otomatik durdur (gÃ¼venlik)
                setTimeout(() => {
                    try {
                        if (recognition && recognition.state === 'listening') {
                            recognition.stop();
                            console.log("Zaman aÅŸÄ±mÄ±: Recognition durduruldu");
                        }
                    } catch (e) {
                        console.log("Zaman aÅŸÄ±mÄ± durdurma hatasÄ±:", e);
                    }
                }, 30000);
                
            } catch (error) {
                console.error("Genel hata:", error);
                
                // KullanÄ±cÄ±ya bilgi ver
                alert("Ses tanÄ±ma baÅŸlatÄ±lamadÄ±. LÃ¼tfen:\n1. Chrome kullandÄ±ÄŸÄ±nÄ±zdan emin olun\n2. Mikrofon izni verdiÄŸinizden emin olun\n3. SayfayÄ± yenileyin");
                
                // Butonu eski haline getir
                const voiceBtn = document.getElementById('voice-btn');
                if (voiceBtn) {
                    voiceBtn.innerHTML = '<i class="fas fa-microphone text-xl"></i>';
                    voiceBtn.classList.remove('text-red-500');
                    voiceBtn.classList.add('text-gray-400');
                }
            }
        }

        function openExamModal(id = null) {
            const isEdit = id !== null && id !== 'null'; 
            const ex = isEdit ? state.exams.find(e => e.id === id) : null;
            const modal = document.getElementById('modal-container');
            modal.innerHTML = `
                <div class="bg-white w-full max-w-sm rounded-[3rem] p-8 max-h-[90vh] overflow-y-auto shadow-2xl">
                    <h3 class="text-xl font-black uppercase mb-6 text-gray-800">${isEdit ? 'DÃ¼zenle' : 'Yeni Deneme'}</h3>
                    <div class="space-y-4">
                        <input type="text" id="ex-name" placeholder="Deneme/YayÄ±n AdÄ±" value="${isEdit ? ex.name : ''}" class="w-full p-4 bg-gray-50 rounded-2xl font-bold border-none outline-none shadow-inner">
                        ${subjects.map(s => `
                            <div class="p-4 bg-indigo-50/50 rounded-3xl border border-indigo-100">
                                <p class="text-[10px] font-black text-indigo-600 uppercase mb-3">${s.name}</p>
                                <div class="grid grid-cols-3 gap-2">
                                    <div><label class="text-[8px] font-bold text-green-600 block mb-1">D</label><input type="number" id="d-${s.id}" value="${isEdit ? ex.scores[s.id].d : ''}" class="w-full p-2 rounded-xl text-center font-bold outline-none"></div>
                                    <div><label class="text-[8px] font-bold text-red-500 block mb-1">Y</label><input type="number" id="y-${s.id}" value="${isEdit ? ex.scores[s.id].y : ''}" class="w-full p-2 rounded-xl text-center font-bold outline-none"></div>
                                    <div><label class="text-[8px] font-bold text-gray-400 block mb-1">B</label><input type="number" id="b-${s.id}" value="${isEdit ? ex.scores[s.id].b : ''}" class="w-full p-2 rounded-xl text-center font-bold outline-none"></div>
                                </div>
                            </div>
                        `).join('')}
                        <button onclick="saveExam(${id ? id : 'null'})" class="w-full bg-primary text-white py-5 rounded-3xl font-black uppercase shadow-xl mt-2 active:scale-95">KAYDET</button>
                        <button onclick="closeModal()" class="w-full text-gray-400 font-bold uppercase text-[10px] mt-2 py-2">Ä°ptal</button>
                    </div>
                </div>
            `;
            modal.classList.remove('hidden');
        }

        function saveExam(editId = null) {
            const name = document.getElementById('ex-name').value.trim() || "Genel Deneme";
            const scores = {}; let totalNet = 0;
            subjects.forEach(s => {
                const d = parseInt(document.getElementById(`d-${s.id}`).value) || 0;
                const y = parseInt(document.getElementById(`y-${s.id}`).value) || 0;
                const b = parseInt(document.getElementById(`b-${s.id}`).value) || 0;
                const net = Math.max(0, d - (y / 3));
                scores[s.id] = { d, y, b, net: net.toFixed(2), perc: ((d/s.max)*100).toFixed(0) };
                totalNet += (net * s.weight);
            });
            const score = (194.7 + (totalNet * 1.13)).toFixed(2);
            
            if(editId && editId !== 'null' && editId !== null) { 
                const idx = state.exams.findIndex(e => e.id === editId); 
                state.exams[idx] = { id: editId, name, date: new Date().toLocaleDateString('tr-TR'), scores, score }; 
            }
            else { 
                state.exams.push({ id: Date.now(), name, date: new Date().toLocaleDateString('tr-TR'), scores, score }); 
                state.user.points += 100; 
            }
            
            storage.save(); 
            
            updateFriendScores();
            storage.save();
            
            closeModal(); 
            router.navigate('exams');
        }

        function showExamDetails(id) {
            const ex = state.exams.find(e => e.id === id);
            const modal = document.getElementById('modal-container');
            modal.innerHTML = `
                <div class="bg-white w-full max-w-sm rounded-[3rem] p-8 max-h-[85vh] overflow-y-auto hide-scrollbar shadow-2xl">
                    <div class="flex justify-between items-start mb-6">
                        <div><p class="text-[10px] font-black text-gray-400 uppercase">KARNE</p><h2 class="text-4xl font-black text-primary">${ex.score}</h2></div>
                        <button onclick="closeModal()"><i class="fas fa-times text-xl text-gray-300"></i></button>
                    </div>
                    <div class="space-y-3 mb-6">
                        ${subjects.map(s => {
                            const data = ex.scores[s.id];
                            return `<div class="p-4 bg-gray-50 rounded-2xl border border-gray-100"><div class="flex justify-between items-center mb-1"><span class="text-[10px] font-black uppercase text-indigo-600">${s.name}</span><span class="text-xs font-black">${data.net} Net</span></div><p class="text-[9px] font-medium text-gray-600 italic">"Hoca: ${utils.getRandomAdvice(data.perc)}"</p></div>`;
                        }).join('')}
                    </div>
                    <div class="grid grid-cols-2 gap-2"><button onclick="openExamModal(${ex.id})" class="bg-indigo-600 text-white py-4 rounded-2xl font-black uppercase text-[10px]">DÃœZENLE</button><button onclick="deleteExam(${ex.id})" class="bg-red-50 text-red-500 py-4 rounded-2xl font-black uppercase text-[10px]">SÄ°L</button></div>
                </div>
            `;
            modal.classList.remove('hidden');
        }

        function deleteExam(id) { if(confirm("Denemeyi silmek istediÄŸine emin misin?")) { state.exams = state.exams.filter(e => e.id !== id); storage.save(); updateFriendScores(); router.render(); } }

        // --- YENÄ° QA YÃ–NETÄ°M FONKSÄ°YONLARI ---
        function editQA(index) {
            editingQAIndex = index;
            const qaItem = state.qa[index];
            document.getElementById('new-q').value = qaItem.q;
            document.getElementById('new-a').value = qaItem.a;
            
            // ButonlarÄ± deÄŸiÅŸtir
            document.getElementById('update-qa-btn').classList.remove('hidden');
            document.getElementById('cancel-qa-btn').classList.remove('hidden');
            document.querySelector('button[onclick="addQA()"]').classList.add('hidden');
            
            // Input alanÄ±na odaklan
            document.getElementById('new-q').focus();
        }

        function updateQA() {
            if (editingQAIndex === null) return;
            
            const newQ = document.getElementById('new-q').value.trim();
            const newA = document.getElementById('new-a').value.trim();
            
            if (!newQ || !newA) {
                alert("Soru ve cevap alanlarÄ± boÅŸ olamaz!");
                return;
            }
            
            state.qa[editingQAIndex] = { q: newQ, a: newA };
            storage.save();
            
            // Formu temizle ve butonlarÄ± sÄ±fÄ±rla
            cancelEditQA();
            
            // Ayarlar sayfasÄ±nÄ± yeniden render et
            router.render();
        }

        function cancelEditQA() {
            editingQAIndex = null;
            document.getElementById('new-q').value = '';
            document.getElementById('new-a').value = '';
            
            // ButonlarÄ± sÄ±fÄ±rla
            document.getElementById('update-qa-btn').classList.add('hidden');
            document.getElementById('cancel-qa-btn').classList.add('hidden');
            document.querySelector('button[onclick="addQA()"]').classList.remove('hidden');
        }

        function addQA() {
            const newQ = document.getElementById('new-q').value.trim();
            const newA = document.getElementById('new-a').value.trim();
            
            if (!newQ || !newA) {
                alert("Soru ve cevap alanlarÄ± boÅŸ olamaz!");
                return;
            }
            
            // AynÄ± soru var mÄ± kontrol et
            const existingIndex = state.qa.findIndex(item => item.q.toLowerCase() === newQ.toLowerCase());
            if (existingIndex !== -1) {
                if (confirm("Bu soru zaten var. GÃ¼ncellemek ister misiniz?")) {
                    state.qa[existingIndex].a = newA;
                    storage.save();
                    document.getElementById('new-q').value = '';
                    document.getElementById('new-a').value = '';
                    router.render();
                }
                return;
            }
            
            state.qa.push({ q: newQ, a: newA });
            storage.save();
            
            // Formu temizle
            document.getElementById('new-q').value = '';
            document.getElementById('new-a').value = '';
            
            // Ayarlar sayfasÄ±nÄ± yeniden render et
            router.render();
        }

        function deleteQA(idx) {
            if (confirm("Bu soru-cevap Ã§iftini silmek istediÄŸine emin misin?")) {
                state.qa.splice(idx, 1);
                storage.save();
                router.render();
            }
        }

        function checkAdmin() { 
            if(document.getElementById('pin-in').value === state.user.adminPin) {
                document.getElementById('admin-panel').classList.remove('hidden'); 
                // QA dÃ¼zenleme durumunu sÄ±fÄ±rla
                cancelEditQA();
            } else {
                alert("PIN HatalÄ±!");
            }
        }
        
        function updateExamDate() { state.user.examDate = document.getElementById('exam-date-in').value; storage.save(); alert("GÃ¼ncellendi!"); }
        function exportQA() { const blob = new Blob([JSON.stringify(state.qa, null, 2)], { type: 'application/json' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'qa_bank.json'; a.click(); }
        function importQA(input) { const fr = new FileReader(); fr.onload = e => { try { const d = JSON.parse(e.target.result); if(Array.isArray(d)) { state.qa = [...state.qa, ...d]; storage.save(); router.render(); alert("Eklendi!"); } } catch(err) { alert("Hata!"); } }; fr.readAsText(input.files[0]); }
        function exportData() { const blob = new Blob([JSON.stringify(state, null, 2)], { type: 'application/json' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'backup.json'; a.click(); }
        function importData(input) { const fr = new FileReader(); fr.onload = e => { try { const d = JSON.parse(e.target.result); if(d.qa) { state = {...state, ...d}; storage.save(); router.render(); alert("YÃ¼klendi!"); } } catch(err) { alert("Hata!"); } }; fr.readAsText(input.files[0]); }
        function buyItem(id) { const item = storeItems.find(i => i.id === id); if(state.user.points >= item.price || state.user.purchasedItems?.includes(id)) { if(!state.user.purchasedItems?.includes(id)) { state.user.points -= item.price; if(!state.user.purchasedItems) state.user.purchasedItems = []; state.user.purchasedItems.push(id); } if(item.type === 'theme') { state.user.theme = item.value; document.body.className = "theme-" + item.value; } storage.save(); router.render(); } else alert("Yetersiz Puan!"); }
        
        function initCharts() {
            if(state.exams.length < 1) return;
            const ctx = document.getElementById('mainChart');
            if(ctx) new Chart(ctx, { type: 'line', data: { labels: state.exams.map(e => e.date), datasets: [{ data: state.exams.map(e => e.score), borderColor: '#6366f1', fill: true, tension: 0.4, backgroundColor: 'rgba(99, 102, 241, 0.1)' }] }, options: { plugins: { legend: { display: false } } } });
        }

        function updateDashboard() {
            document.getElementById('user-display').textContent = state.user.name + " âœ¨";
            document.getElementById('points-display').textContent = state.user.points + " Puan";
            document.getElementById('level-display').textContent = "Lv. " + state.user.level;
            document.getElementById('cd-days').textContent = utils.getDaysLeft();
            const a = document.getElementById('header-avatar');
            if(a) { if(state.user.profilePic) a.innerHTML = `<img src="${state.user.profilePic}" class="w-full h-full object-cover">`; else a.innerHTML = `<i class="fas fa-user text-lg"></i>`; }
        }

        // --- YENÄ° FONKSÄ°YON: SOHBETÄ° TEMÄ°ZLE ---
        function clearChat() {
            if (confirm("TÃ¼m sohbet geÃ§miÅŸini silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.")) {
                state.messages = [];
                storage.save();
                router.render();
            }
        }

        function closeModal() { 
            document.getElementById('modal-container').classList.add('hidden'); 
            resetPomodoro(); 
            editingFriendId = null;
            editingFormulaCardId = null;
            selectedMedia = null;
            selectedMediaType = null;
            // QA dÃ¼zenleme durumunu sÄ±fÄ±rla
            cancelEditQA();
        }
        
        function resetSystem() { if(confirm("TÃœM VERÄ°LER SÄ°LÄ°NECEK!")) { localStorage.clear(); location.reload(); } }

        window.onload = () => { 
            storage.load(); 
            updateDashboard(); 
            router.navigate('home');
            document.body.addEventListener('click', () => { 
                const u = new SpeechSynthesisUtterance(""); 
                window.speechSynthesis.speak(u); 
            }, { once: true });
        };
    </script>
</body>
</html>